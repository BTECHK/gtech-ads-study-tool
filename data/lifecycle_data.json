{
  "meta": {
    "title": "Google Ads Lifecycle",
    "version": "2.0",
    "lastUpdated": "2026-02-15",
    "interviewDate": "2026-02-19",
    "description": "Comprehensive study guide for Google gTech Ads Technical Solutions Consultant interview covering the complete Google Ads lifecycle from account setup through optimization and troubleshooting"
  },
  "phases": [
    {
      "id": "phase-1",
      "name": "Account Setup",
      "phaseNumber": 1,
      "priority": "know_well",
      "category": "digital_marketing",
      "funnelStage": "Awareness → Loyalty",
      "summary": "Creating and structuring Google Ads accounts with proper hierarchy, campaign types, and pricing models",
      "adsContext": "Account structure determines reporting granularity, budget allocation flexibility, and optimization capabilities. Poor structure leads to limited control, wasted spend, and difficulty troubleshooting performance issues.",
      "dataFlowIn": "Business goals, budget, target audience, industry vertical, geographic scope",
      "dataFlowOut": "Configured account ready for targeting setup with campaigns, ad groups, and billing established",
      "children": [
        {
          "id": "p1-1",
          "name": "Account Hierarchy",
          "parentId": "phase-1",
          "priority": "know_well",
          "category": "account_structure",
          "definition": "The three-tier organizational structure of Google Ads consisting of Account, Campaign, and Ad Group levels, each with distinct settings and controls that cascade down the hierarchy.",
          "adsContext": "Proper hierarchy enables granular budget control, targeted reporting, and efficient optimization. TSCs frequently troubleshoot issues caused by settings conflicts between hierarchy levels.",
          "tscRelevance": "TSCs must understand hierarchy to diagnose why ads aren't showing, budgets aren't spending, or performance differs from expectations. Many support tickets stem from misunderstanding which level controls what setting.",
          "keyDetails": [
            "Account level: Billing, user access, linked accounts (GA4, Merchant Center), time zone, currency (cannot be changed after creation)",
            "Campaign level: Budget, bid strategy, networks, locations, languages, start/end dates, ad rotation",
            "Ad Group level: Keywords, audiences, ads, bids (when using manual bidding), ad group default bid",
            "Settings at lower levels can override higher levels (e.g., ad group bid overrides campaign default)",
            "MCC (Manager Account) sits above individual accounts for agency/multi-account management"
          ],
          "interviewQuestions": [
            "A client says their ads stopped showing. Walk me through how you'd diagnose whether it's an account, campaign, or ad group level issue.",
            "Explain why a properly structured account hierarchy matters for optimization.",
            "A client wants to change their account currency. What do you tell them and why?"
          ],
          "sqlConnection": "Account hierarchy data often needs to be joined across tables (account → campaign → ad_group) for reporting. Understanding foreign key relationships mirrors the hierarchy.",
          "troubleshooting": {
            "symptoms": [
              "Ads not showing despite active status",
              "Budget not spending as expected",
              "Targeting settings conflicting",
              "Unable to find specific settings"
            ],
            "diagnosticQuestions": [
              "At which hierarchy level is the problematic setting configured?",
              "Are there conflicting settings between levels?",
              "Is the account, campaign, or ad group paused/removed?",
              "What is the account's billing status?"
            ],
            "causes": [
              {
                "issue": "Account suspended for billing issues",
                "probability": "high",
                "resolution": "Verify payment method, resolve outstanding balance, request account review if needed",
                "verification": "Check Account Status in account settings, verify billing history for failed payments"
              },
              {
                "issue": "Campaign paused but ad group active",
                "probability": "high",
                "resolution": "Enable campaign - ad groups inherit campaign status",
                "verification": "Check campaign status column, filter by 'All campaigns' not 'Enabled only'"
              },
              {
                "issue": "Time zone mismatch causing reporting confusion",
                "probability": "medium",
                "resolution": "Clarify that account time zone affects when budgets reset and how data is timestamped",
                "verification": "Check account time zone vs client's local time and expected behavior"
              }
            ]
          },
          "tools": ["Google Ads UI", "Google Ads Editor", "Google Ads API", "Change History"],
          "children": [
            {
              "id": "p1-1-1",
              "name": "Account Level (CID)",
              "parentId": "p1-1",
              "priority": "know_well",
              "category": "account_structure",
              "definition": "The top level of Google Ads hierarchy identified by a unique Customer ID (CID), containing account-wide settings that apply to all campaigns including billing, user access, and linked services.",
              "adsContext": "The CID is the primary identifier for all API calls, support tickets, and billing. Account-level settings like currency and time zone are permanent after creation, making initial setup critical.",
              "tscRelevance": "TSCs use CID to look up accounts, verify ownership, and access diagnostic tools. Understanding account-level limitations (can't change currency/time zone) prevents incorrect troubleshooting paths.",
              "keyDetails": [
                "CID format: XXX-XXX-XXXX (10 digits with hyphens)",
                "Billing: Payment methods, invoicing settings, promotional credits",
                "Access: User email permissions (Admin, Standard, Read-only, Billing-only)",
                "Linked accounts: Google Analytics 4, Merchant Center, YouTube, Search Console",
                "Account status: Active, Suspended, Cancelled, Pending"
              ],
              "interviewQuestions": [
                "What's the difference between account suspension and account cancellation?",
                "A client can't link their Google Analytics to Google Ads. What could be wrong?"
              ],
              "sqlConnection": "CID serves as the primary key for account-level tables and foreign key in campaign/ad_group tables",
              "troubleshooting": {
                "symptoms": [
                  "Cannot access account",
                  "Linking to GA4/Merchant Center failing",
                  "Promotional credits not applying",
                  "Billing alerts or suspensions"
                ],
                "diagnosticQuestions": [
                  "What is the exact CID?",
                  "Who has admin access to the account?",
                  "What is the current account status?",
                  "Are there any policy violations?"
                ],
                "causes": [
                  {
                    "issue": "User lacks admin access to both accounts for linking",
                    "probability": "high",
                    "resolution": "Ensure user has admin access to both Google Ads and the target account (GA4/MC)",
                    "verification": "Check user permissions in both platforms, verify email matches exactly"
                  },
                  {
                    "issue": "Account suspended for policy violation",
                    "probability": "medium",
                    "resolution": "Review policy violation email, address the violation, submit appeal through account",
                    "verification": "Check account status and any notification banners in the UI"
                  }
                ]
              },
              "tools": ["Account Access settings", "Linked Accounts", "Billing & Payments", "Policy Manager"]
            },
            {
              "id": "p1-1-2",
              "name": "Campaign Level",
              "parentId": "p1-1",
              "priority": "know_well",
              "category": "account_structure",
              "definition": "The middle tier of hierarchy where budget allocation, bid strategies, network selection, geographic targeting, and scheduling are configured. Each campaign should align with a specific marketing objective.",
              "adsContext": "Campaign-level decisions directly impact spend efficiency and reach. Mixing objectives in one campaign (e.g., brand and performance) limits optimization algorithms and muddles reporting.",
              "tscRelevance": "Most troubleshooting involves campaign-level settings: budget not spending, ads showing in wrong locations, bid strategy underperforming. TSCs must quickly identify which campaign setting is causing issues.",
              "keyDetails": [
                "Budget: Daily budget (may overspend up to 2x daily but not monthly), shared budgets across campaigns",
                "Bid strategy: Manual CPC, Maximize Conversions, Target CPA, Target ROAS, Maximize Clicks, etc.",
                "Networks: Search Network, Display Network, Search Partners, YouTube",
                "Locations: Include/exclude geographic areas, location options (presence vs interest)",
                "Schedule: Ad scheduling (dayparting), campaign start/end dates"
              ],
              "interviewQuestions": [
                "A client's daily budget is $100 but they spent $180 yesterday. Is this a bug?",
                "When would you recommend separating campaigns vs keeping targeting in one campaign?",
                "Explain the difference between 'Presence' and 'Presence or Interest' location targeting."
              ],
              "sqlConnection": "Campaign-level metrics aggregate ad_group data. SQL queries often GROUP BY campaign_id for budget analysis.",
              "troubleshooting": {
                "symptoms": [
                  "Budget depleting too quickly or too slowly",
                  "Ads showing in wrong geographic areas",
                  "Bid strategy not meeting targets",
                  "Ads running at unexpected times"
                ],
                "diagnosticQuestions": [
                  "What bid strategy is in use and what are its targets?",
                  "What are the location targeting settings (presence vs interest)?",
                  "Is there an ad schedule limiting delivery?",
                  "How long has the current bid strategy been running (learning period)?"
                ],
                "causes": [
                  {
                    "issue": "Location targeting set to 'Interest' showing ads to non-local users",
                    "probability": "high",
                    "resolution": "Change to 'Presence' only for local businesses",
                    "verification": "Check Geographic report, look for clicks from excluded areas"
                  },
                  {
                    "issue": "Bid strategy in learning period after recent changes",
                    "probability": "high",
                    "resolution": "Allow 1-2 weeks for learning, avoid major changes during this period",
                    "verification": "Check bid strategy status column, look for 'Learning' label"
                  },
                  {
                    "issue": "Budget limited causing missed opportunities",
                    "probability": "medium",
                    "resolution": "Increase budget or improve efficiency through targeting/bid adjustments",
                    "verification": "Check 'Limited by budget' status, review Search Impression Share metrics"
                  }
                ]
              },
              "tools": ["Campaign Settings", "Bid Strategy Report", "Geographic Report", "Ad Schedule"]
            },
            {
              "id": "p1-1-3",
              "name": "Ad Group Level",
              "parentId": "p1-1",
              "priority": "know_well",
              "category": "account_structure",
              "definition": "The lowest organizational tier containing keywords/targeting criteria, ads, and audiences that share a common theme. Ad groups should be tightly themed for maximum relevance and Quality Score.",
              "adsContext": "Ad group structure directly impacts Quality Score through keyword-ad-landing page relevance. Poorly organized ad groups lead to low Quality Score, higher CPCs, and worse ad positions.",
              "tscRelevance": "TSCs frequently help clients restructure ad groups for better performance. Understanding SKAG (Single Keyword Ad Groups) vs themed ad groups trade-offs is essential for recommendations.",
              "keyDetails": [
                "Contains keywords (Search), placements/audiences (Display), or product groups (Shopping)",
                "Ad group default bid applies when keyword-level bids aren't set",
                "Multiple ads per ad group for A/B testing (min 3 recommended)",
                "Audience targeting can be observation (bid adjustment) or targeting (restriction)",
                "Theme tightly: one product/service per ad group for relevance"
              ],
              "interviewQuestions": [
                "How many ad groups and keywords would you recommend for a new Search campaign?",
                "Explain the relationship between ad group structure and Quality Score.",
                "What's the difference between audience 'Observation' and 'Targeting' modes?"
              ],
              "sqlConnection": "Ad group is the JOIN point between campaign settings and keyword/ad performance. Queries often aggregate at ad_group level for thematic analysis.",
              "troubleshooting": {
                "symptoms": [
                  "Low Quality Score across keywords",
                  "Ads not matching search intent",
                  "High CPC despite good CTR",
                  "Audience targeting too broad or narrow"
                ],
                "diagnosticQuestions": [
                  "How many keywords are in this ad group? Are they tightly themed?",
                  "Do the ads include the primary keywords in headlines?",
                  "Is audience set to Observation or Targeting?",
                  "What is the landing page relevance score?"
                ],
                "causes": [
                  {
                    "issue": "Too many unrelated keywords in one ad group",
                    "probability": "high",
                    "resolution": "Split into themed ad groups, ensure ads match each theme's keywords",
                    "verification": "Check keyword count per ad group, verify ad copy includes keywords"
                  },
                  {
                    "issue": "Audience set to Targeting limiting reach",
                    "probability": "medium",
                    "resolution": "Change to Observation mode to broaden reach while still collecting audience data",
                    "verification": "Check audience settings, compare impressions before/after change"
                  }
                ]
              },
              "tools": ["Ad Group Settings", "Keywords tab", "Audiences tab", "Ads & Assets"]
            }
          ]
        },
        {
          "id": "p1-2",
          "name": "Campaign Types",
          "parentId": "phase-1",
          "priority": "know_well",
          "category": "campaign_management",
          "definition": "The different campaign formats available in Google Ads, each designed for specific marketing objectives, networks, and ad formats. Choice of campaign type determines available features and optimization options.",
          "adsContext": "Selecting the right campaign type is foundational - it determines targeting capabilities, creative options, and how the algorithm optimizes. TSCs must match campaign types to business objectives.",
          "tscRelevance": "Clients often use the wrong campaign type for their goals or don't understand why one type performs differently than another. TSCs guide campaign type selection and troubleshoot type-specific issues.",
          "keyDetails": [
            "Search: Text ads on Google Search and Search Partners, keyword-triggered",
            "Display: Visual ads across Google Display Network (3M+ sites/apps)",
            "Video: YouTube and video partner sites, various formats (skippable, non-skippable, bumper)",
            "Shopping: Product listings from Merchant Center feed, visual product ads",
            "Performance Max: AI-driven cross-channel campaigns using all Google inventory",
            "App: Drive app installs and engagement across Search, Display, YouTube, Play",
            "Demand Gen: Visually rich ads across YouTube, Discover, Gmail"
          ],
          "interviewQuestions": [
            "A client has a limited budget. Which campaign type would you recommend first and why?",
            "Explain the key differences between Smart Shopping and Performance Max.",
            "When would you recommend Display vs Search campaigns?"
          ],
          "sqlConnection": "Campaign type affects which metrics tables are relevant (search_query_report vs placement_report) and which columns are populated.",
          "troubleshooting": {
            "symptoms": [
              "Campaign not meeting KPIs despite optimization",
              "Wrong ad format showing for objective",
              "Limited reach or conversions",
              "Client confused about campaign capabilities"
            ],
            "diagnosticQuestions": [
              "What is the client's primary business objective?",
              "Which campaign type is currently in use?",
              "Is there sufficient conversion data for Smart Bidding?",
              "Does the creative meet campaign type requirements?"
            ],
            "causes": [
              {
                "issue": "Using Display for direct response when Search is more appropriate",
                "probability": "medium",
                "resolution": "Add Search campaign for high-intent keywords, use Display for remarketing/awareness",
                "verification": "Compare conversion rates by campaign type, analyze user intent"
              },
              {
                "issue": "Performance Max cannibalizing Search campaigns",
                "probability": "medium",
                "resolution": "Use brand exclusions in PMax, analyze asset group performance vs Search",
                "verification": "Check Insights tab for search term overlap, compare before/after metrics"
              }
            ]
          },
          "tools": ["Campaign Creation Wizard", "Campaign Type Selector", "Performance Planner"],
          "children": [
            {
              "id": "p1-2-1",
              "name": "Search Campaigns",
              "parentId": "p1-2",
              "priority": "know_well",
              "category": "campaign_types",
              "definition": "Text-based ads triggered by user search queries on Google Search and Search Partner sites. The core of intent-based marketing, capturing users actively searching for products/services.",
              "adsContext": "Search campaigns capture high-intent traffic - users actively looking for solutions. Quality Score, keyword match types, and ad relevance are critical performance factors unique to Search.",
              "tscRelevance": "Most common campaign type for troubleshooting. TSCs diagnose keyword performance, match type issues, Quality Score problems, and search term relevance daily.",
              "keyDetails": [
                "Match types: Broad, Phrase, Exact (Broad Match Modifier deprecated 2021)",
                "Ad formats: Responsive Search Ads (RSA) - up to 15 headlines, 4 descriptions",
                "Search Partners: Extends reach to non-Google search sites (can be toggled)",
                "Quality Score: 1-10 rating based on CTR, ad relevance, landing page experience",
                "Ad Rank = Bid × Quality Score × Expected impact of extensions"
              ],
              "interviewQuestions": [
                "Explain how Quality Score impacts CPC and ad position.",
                "When would you use Broad Match vs Phrase Match?",
                "A client's search campaign has high impressions but low CTR. What would you investigate?"
              ],
              "sqlConnection": "Search query reports (SQR) join search_terms to keywords for analysis. N-gram analysis via SQL helps find negative keyword opportunities.",
              "troubleshooting": {
                "symptoms": [
                  "Low impression share despite adequate budget",
                  "High CPC compared to estimates",
                  "Irrelevant search queries triggering ads",
                  "Quality Score declining over time"
                ],
                "diagnosticQuestions": [
                  "What are the Quality Score components (CTR, relevance, landing page)?",
                  "Which match types are in use?",
                  "What does the search terms report show?",
                  "Are there sufficient negative keywords?"
                ],
                "causes": [
                  {
                    "issue": "Broad match keywords triggering irrelevant queries",
                    "probability": "high",
                    "resolution": "Add negative keywords, consider phrase/exact match for core terms",
                    "verification": "Review search terms report, check for irrelevant query patterns"
                  },
                  {
                    "issue": "Low Quality Score increasing CPCs",
                    "probability": "high",
                    "resolution": "Improve ad relevance (include keywords in ads), optimize landing page speed/content",
                    "verification": "Check QS components individually, test landing page with PageSpeed Insights"
                  },
                  {
                    "issue": "Ad strength 'Poor' limiting RSA performance",
                    "probability": "medium",
                    "resolution": "Add more unique headlines/descriptions, include keywords, improve variety",
                    "verification": "Check ad strength indicator, review headline/description recommendations"
                  }
                ]
              },
              "tools": ["Keyword Planner", "Search Terms Report", "Quality Score columns", "Ad Strength indicator"]
            },
            {
              "id": "p1-2-2",
              "name": "Display Campaigns",
              "parentId": "p1-2",
              "priority": "know_well",
              "category": "campaign_types",
              "definition": "Visual banner and responsive ads shown across the Google Display Network (GDN), reaching users on websites, apps, and Google properties like Gmail and YouTube.",
              "adsContext": "Display excels at awareness and remarketing but has lower intent than Search. Understanding placement quality, viewability, and audience targeting is crucial for Display performance.",
              "tscRelevance": "TSCs troubleshoot brand safety concerns (ads on inappropriate sites), viewability issues, and help clients understand why Display metrics differ from Search.",
              "keyDetails": [
                "Network reach: 3+ million websites and apps, 90%+ of internet users",
                "Ad formats: Responsive Display Ads (auto-generated), uploaded image ads, HTML5",
                "Targeting: Contextual (keywords/topics), audience (affinity/in-market), placements",
                "Remarketing: Target users who previously visited your site",
                "Viewability: Metrics track whether ads were actually seen (vs just served)"
              ],
              "interviewQuestions": [
                "A client is concerned about brand safety on Display. What options do they have?",
                "Explain the difference between contextual and audience targeting on Display.",
                "Why might Display have lower CTR than Search, and is that necessarily bad?"
              ],
              "sqlConnection": "Placement reports show which sites/apps showed ads. SQL analysis helps identify low-quality placements to exclude.",
              "troubleshooting": {
                "symptoms": [
                  "Ads appearing on inappropriate websites",
                  "Very low CTR compared to Search",
                  "High impressions but no conversions",
                  "Poor viewability rates"
                ],
                "diagnosticQuestions": [
                  "Are content exclusions properly configured?",
                  "What targeting method is in use?",
                  "Are remarketing lists properly populated?",
                  "What is the viewability rate?"
                ],
                "causes": [
                  {
                    "issue": "Ads showing on low-quality placements (MFA sites)",
                    "probability": "high",
                    "resolution": "Review placement report, exclude poor performers, use 'Optimized targeting' carefully",
                    "verification": "Check placement report for unusual domains, review site categories"
                  },
                  {
                    "issue": "Remarketing audience too small",
                    "probability": "medium",
                    "resolution": "Minimum 100 users for Display, 1000 for Search. Expand membership duration or traffic.",
                    "verification": "Check audience size in Audience Manager, verify tag is firing correctly"
                  },
                  {
                    "issue": "Low viewability due to below-fold placements",
                    "probability": "medium",
                    "resolution": "Use viewability targeting, exclude low-viewability placements",
                    "verification": "Add viewability columns to reporting, compare by placement"
                  }
                ]
              },
              "tools": ["Placement Report", "Content Exclusions", "Audience Manager", "Viewability metrics"]
            },
            {
              "id": "p1-2-3",
              "name": "Performance Max Campaigns",
              "parentId": "p1-2",
              "priority": "know_well",
              "category": "campaign_types",
              "definition": "AI-driven campaign type that serves ads across all Google channels (Search, Display, YouTube, Discover, Gmail, Maps) from a single campaign, using machine learning to optimize for conversions.",
              "adsContext": "Performance Max replaces Smart Shopping and Local campaigns. It requires conversion tracking and benefits from strong signals (audience signals, high-quality assets). Less manual control but broader reach.",
              "tscRelevance": "TSCs help clients understand PMax's 'black box' nature, troubleshoot asset performance, and address concerns about Search campaign cannibalization. This is a rapidly evolving campaign type.",
              "keyDetails": [
                "Asset groups: Collections of headlines, descriptions, images, videos for different themes",
                "Audience signals: Hints to the algorithm (not hard targeting) - custom segments, remarketing, etc.",
                "URL expansion: Can serve ads on URLs beyond those specified (toggleable)",
                "Insights: Limited but improving - search term insights, audience insights",
                "Requirements: Active conversion tracking, recommend 30+ conversions/month for optimization"
              ],
              "interviewQuestions": [
                "A client wants to know what search terms triggered their PMax ads. What can you tell them?",
                "How does Performance Max interact with existing Search campaigns?",
                "What are the pros and cons of Performance Max vs manual campaign types?"
              ],
              "sqlConnection": "PMax has limited reporting granularity. Asset group performance and conversion data are primary analysis points.",
              "troubleshooting": {
                "symptoms": [
                  "Search campaign traffic dropping after PMax launch",
                  "Unable to see search terms driving conversions",
                  "Asset group performance unclear",
                  "PMax not spending budget"
                ],
                "diagnosticQuestions": [
                  "Are there brand exclusions in place for PMax?",
                  "How many conversions is the account getting monthly?",
                  "What audience signals are configured?",
                  "What is the asset quality rating?"
                ],
                "causes": [
                  {
                    "issue": "PMax bidding on brand terms, stealing from Search",
                    "probability": "high",
                    "resolution": "Add brand exclusions to PMax (account-level setting), monitor search categories in Insights",
                    "verification": "Check Insights > Search categories for brand terms, compare Search brand traffic before/after"
                  },
                  {
                    "issue": "Insufficient conversion data for optimization",
                    "probability": "high",
                    "resolution": "Use micro-conversions, extend conversion window, consider value-based bidding",
                    "verification": "Check monthly conversion volume, verify conversion tracking is accurate"
                  },
                  {
                    "issue": "Low-quality assets limiting delivery",
                    "probability": "medium",
                    "resolution": "Improve assets to 'Good' or 'Best' rating, add more asset variety",
                    "verification": "Check asset performance ratings in asset group details"
                  }
                ]
              },
              "tools": ["Asset Groups", "Insights tab", "Search Categories", "Audience Signals"]
            }
          ]
        },
        {
          "id": "p1-3",
          "name": "Full-Funnel Campaign Strategy",
          "parentId": "phase-1",
          "priority": "know_well",
          "category": "strategy",
          "definition": "An integrated approach to Google Ads that aligns campaign types with the customer journey stages from awareness through consideration to purchase, ensuring cohesive messaging and proper attribution across touchpoints.",
          "adsContext": "Google Ads campaigns should work together as a system, not in silos. Full-funnel strategy means using upper-funnel campaigns (Display, YouTube) to drive awareness, mid-funnel (Search non-brand, Discovery) for consideration, and lower-funnel (Search brand, Shopping, Remarketing) for conversion.",
          "tscRelevance": "TSCs help clients understand why they need campaigns across the funnel and how to attribute value appropriately. Clients often over-invest in last-click conversion campaigns and under-invest in awareness.",
          "keyDetails": [
            "Awareness (Top): YouTube TrueView, Display prospecting, Demand Gen - metrics: reach, video views, CPM",
            "Consideration (Mid): Non-brand Search, Discovery, Display remarketing - metrics: engagement, site visits",
            "Conversion (Bottom): Brand Search, Shopping, Performance Max - metrics: conversions, ROAS, CPA",
            "Attribution models: Data-driven (recommended), last-click (outdated), position-based, linear",
            "Budget allocation: Varies by business maturity, but 10-20% upper funnel is common guidance"
          ],
          "interviewQuestions": [
            "How would you structure a full-funnel Google Ads strategy for a new e-commerce brand?",
            "A client wants to focus only on bottom-funnel campaigns. How would you advise them?",
            "Explain how attribution models affect how you evaluate upper-funnel campaigns."
          ],
          "sqlConnection": "Attribution analysis requires path-to-conversion data. SQL queries can calculate assisted conversions and attribution credit across campaigns.",
          "troubleshooting": {
            "symptoms": [
              "Diminishing returns on conversion campaigns",
              "High CPA despite optimization",
              "Brand search declining without awareness investment",
              "Unclear ROI on upper-funnel spend"
            ],
            "diagnosticQuestions": [
              "What's the current campaign mix across funnel stages?",
              "What attribution model is in use?",
              "Are there audience lists passing users between funnel stages?",
              "What's the assisted conversion count for each campaign?"
            ],
            "causes": [
              {
                "issue": "Over-reliance on last-click attribution undervaluing awareness",
                "probability": "high",
                "resolution": "Switch to data-driven attribution, review model comparison report",
                "verification": "Compare attribution models in Tools > Attribution > Model Comparison"
              },
              {
                "issue": "No audience handoff between funnel stages",
                "probability": "medium",
                "resolution": "Create remarketing lists from Display/YouTube viewers for lower-funnel targeting",
                "verification": "Check audience manager for sequential audience lists"
              }
            ]
          },
          "tools": ["Attribution Model Comparison", "Conversion Paths", "Top Conversion Paths report"],
          "children": []
        },
        {
          "id": "p1-4",
          "name": "Pricing Models",
          "parentId": "phase-1",
          "priority": "know_well",
          "category": "billing",
          "definition": "The different ways Google charges for ad delivery: CPC (Cost Per Click), CPM (Cost Per Thousand Impressions), CPV (Cost Per View), and CPA/Target CPA (Cost Per Acquisition). Each model aligns with different campaign objectives and bidding strategies.",
          "adsContext": "Pricing model selection affects cash flow, budget predictability, and optimization levers. Understanding when to use each model is essential for efficient spend allocation.",
          "tscRelevance": "TSCs help clients understand why they're being charged, reconcile billing with performance, and recommend the right pricing model for objectives. Billing confusion is a common support topic.",
          "keyDetails": [
            "CPC (Cost Per Click): Pay only when users click. Default for Search. Actual CPC usually below max bid.",
            "CPM (Cost Per Thousand): Pay per 1000 impressions. Used for awareness campaigns, Display, YouTube.",
            "CPV (Cost Per View): Pay when user watches 30 seconds or engages with video. TrueView YouTube ads.",
            "vCPM (Viewable CPM): Pay per 1000 viewable impressions. Requires ad to be seen.",
            "Target CPA/ROAS: Not pricing models but bid strategies that optimize toward cost/return targets."
          ],
          "interviewQuestions": [
            "When would you recommend CPM bidding over CPC for a Display campaign?",
            "A client's actual CPC is lower than their max CPC bid. Why?",
            "Explain the difference between Target CPA as a bid strategy and CPA as a metric."
          ],
          "sqlConnection": "Cost metrics require understanding pricing model to calculate accurately. CPC campaigns need clicks in denominator, CPM needs impressions/1000.",
          "troubleshooting": {
            "symptoms": [
              "Unexpected billing amounts",
              "CPC higher than expected",
              "Budget depleting faster than projected",
              "Confusion about what triggers charges"
            ],
            "diagnosticQuestions": [
              "What bidding strategy and pricing model is the campaign using?",
              "Is there a clear understanding of what triggers a charge?",
              "For video, are they aware of the view counting methodology?",
              "Are enhanced CPC or other modifiers in place?"
            ],
            "causes": [
              {
                "issue": "Not understanding CPC auction dynamics",
                "probability": "high",
                "resolution": "Explain second-price auction: you pay just enough to beat next competitor, not your max bid",
                "verification": "Compare avg CPC to max CPC bid, show actual CPC is typically lower"
              },
              {
                "issue": "CPM campaign charged for impressions even without clicks",
                "probability": "medium",
                "resolution": "Clarify CPM charges for impressions regardless of engagement. Consider CPC if clicks are the goal.",
                "verification": "Review campaign goal and whether CPM aligns with awareness objective"
              },
              {
                "issue": "Enhanced CPC increasing bids beyond manual setting",
                "probability": "medium",
                "resolution": "Explain that eCPC can increase bids up to 30% for likely conversions. Disable if unwanted.",
                "verification": "Check bidding strategy settings for enhanced CPC toggle"
              }
            ]
          },
          "tools": ["Billing Summary", "Bid Strategy Report", "Auction Insights"],
          "children": [
            {
              "id": "p1-4-1",
              "name": "CPC Bidding (Cost Per Click)",
              "parentId": "p1-4",
              "priority": "know_well",
              "category": "pricing",
              "definition": "The pricing model where advertisers pay only when a user clicks on their ad. The actual cost is determined by a second-price auction where you pay just enough to beat the competitor below you.",
              "adsContext": "CPC is the foundation of Search advertising ROI. Understanding how actual CPC is calculated (Quality Score × Bid) and auction dynamics is essential for efficient spend.",
              "tscRelevance": "TSCs frequently explain CPC calculations, help clients understand why CPC varies, and troubleshoot high CPC issues. This is fundamental to almost all Google Ads conversations.",
              "keyDetails": [
                "Second-price auction: Pay $0.01 more than what's needed to beat the next competitor",
                "Actual CPC formula: (Ad Rank of advertiser below / Your Quality Score) + $0.01",
                "Max CPC: The most you're willing to pay (bid), usually above actual CPC",
                "Enhanced CPC (eCPC): Allows Google to increase bids up to 30% for likely converters",
                "Average CPC varies by industry: Legal ($6+), Insurance ($3+), Retail ($1-2)"
              ],
              "interviewQuestions": [
                "Walk me through how actual CPC is calculated in a Google Ads auction.",
                "A client's CPC doubled overnight. What would you investigate?",
                "How does Quality Score affect CPC?"
              ],
              "sqlConnection": "CPC analysis requires cost/clicks calculation. Segmentation by keyword, device, audience reveals CPC patterns.",
              "troubleshooting": {
                "symptoms": [
                  "CPC significantly higher than keyword estimates",
                  "CPC increased suddenly without bidding changes",
                  "CPC varies widely across similar keywords"
                ],
                "diagnosticQuestions": [
                  "What is the Quality Score for high-CPC keywords?",
                  "Have competitors entered the auction recently?",
                  "Are there bid modifiers (device, location, audience) inflating bids?",
                  "What does Auction Insights show about competition?"
                ],
                "causes": [
                  {
                    "issue": "Low Quality Score forcing higher bids to maintain position",
                    "probability": "high",
                    "resolution": "Improve QS components: ad relevance, expected CTR, landing page experience",
                    "verification": "Add QS columns to keyword view, check component breakdowns"
                  },
                  {
                    "issue": "New competitors increasing auction pressure",
                    "probability": "medium",
                    "resolution": "Review Auction Insights, consider impression share strategy vs position strategy",
                    "verification": "Check Auction Insights for new domains, overlap rate changes"
                  },
                  {
                    "issue": "Stacked bid modifiers multiplying base bid",
                    "probability": "medium",
                    "resolution": "Review all bid modifiers (device, location, audience, schedule) - they multiply",
                    "verification": "Check modifiers in campaign settings, calculate total possible bid increase"
                  }
                ]
              },
              "tools": ["Keyword Planner (CPC estimates)", "Auction Insights", "Quality Score columns"]
            },
            {
              "id": "p1-4-2",
              "name": "CPM/vCPM Bidding",
              "parentId": "p1-4",
              "priority": "should_know",
              "category": "pricing",
              "definition": "Cost Per Mille (thousand impressions) pricing where advertisers pay based on ad impressions rather than clicks. vCPM (viewable CPM) charges only for impressions where the ad was actually viewable.",
              "adsContext": "CPM is appropriate for awareness campaigns where the goal is reach rather than direct response. vCPM adds accountability for viewability, addressing concerns about paying for unseen ads.",
              "tscRelevance": "TSCs help clients understand when CPM makes sense, troubleshoot viewability issues, and explain why CPM campaigns may have low CTR but still be valuable.",
              "keyDetails": [
                "CPM: Cost per 1,000 impressions regardless of viewability",
                "vCPM: Cost per 1,000 viewable impressions (50% of ad visible for 1 second)",
                "Best for: Brand awareness, reach campaigns, Display, YouTube mastheads",
                "Not recommended for: Direct response, lead generation, e-commerce (use CPC/CPA)",
                "Industry benchmark CPMs: Display $1-3, Premium YouTube $15-30"
              ],
              "interviewQuestions": [
                "When would you recommend vCPM over standard CPM?",
                "A client running CPM is upset about low CTR. How do you respond?",
                "What makes an impression 'viewable'?"
              ],
              "sqlConnection": "CPM analysis requires impressions data. Viewability metrics need additional columns (viewable_impressions, measurable_impressions).",
              "troubleshooting": {
                "symptoms": [
                  "High cost with low engagement",
                  "Budget spent without clicks/conversions",
                  "Client expects direct response from awareness campaign"
                ],
                "diagnosticQuestions": [
                  "Is the campaign goal awareness or direct response?",
                  "What is the viewability rate?",
                  "Are expectations aligned with CPM model?",
                  "What reach/frequency metrics are being tracked?"
                ],
                "causes": [
                  {
                    "issue": "Wrong pricing model for direct response goal",
                    "probability": "high",
                    "resolution": "Switch to CPC or CPA bidding if conversions are the goal",
                    "verification": "Clarify campaign objective, recommend appropriate model"
                  },
                  {
                    "issue": "Low viewability inflating effective CPM",
                    "probability": "medium",
                    "resolution": "Use vCPM to pay only for viewable impressions, exclude low-viewability placements",
                    "verification": "Check viewability rate in columns, compare CPM vs effective vCPM"
                  }
                ]
              },
              "tools": ["Reach Planner", "Viewability metrics", "Brand Lift studies"]
            },
            {
              "id": "p1-4-3",
              "name": "CPV Bidding (Cost Per View)",
              "parentId": "p1-4",
              "priority": "should_know",
              "category": "pricing",
              "definition": "Video advertising pricing model where advertisers pay when a user watches 30 seconds of video (or the full ad if shorter) or interacts with the video ad, whichever comes first.",
              "adsContext": "CPV is specific to YouTube and video campaigns. Understanding what counts as a 'view' and how TrueView formats work is essential for video advertising ROI.",
              "tscRelevance": "TSCs explain view counting methodology, troubleshoot discrepancies between YouTube Analytics and Google Ads views, and help optimize for view rate.",
              "keyDetails": [
                "View counted: 30 seconds watched OR full video if under 30 seconds OR click/engagement",
                "TrueView In-Stream: Skippable after 5 seconds, pay only if 30+ seconds watched",
                "TrueView Discovery: Pay when user clicks to watch (thumbnail in search/browse)",
                "Non-skippable: CPM-based (not CPV) since all viewers are 'forced' to watch",
                "Bumper ads: 6-second non-skippable, CPM-based"
              ],
              "interviewQuestions": [
                "A client sees different view counts in Google Ads and YouTube Analytics. Explain why.",
                "What's the difference between TrueView In-Stream and TrueView Discovery?",
                "How do you optimize for lower CPV on YouTube?"
              ],
              "sqlConnection": "Video campaign analysis requires video_views, video_view_rate, video_quartile_completion metrics.",
              "troubleshooting": {
                "symptoms": [
                  "High CPV compared to benchmarks",
                  "Low view rate (high skip rate)",
                  "View counts don't match YouTube Studio",
                  "Budget not spending on video campaigns"
                ],
                "diagnosticQuestions": [
                  "What is the view rate (views/impressions)?",
                  "Which video format is being used?",
                  "Is the video engaging in the first 5 seconds?",
                  "Are targeting settings limiting reach?"
                ],
                "causes": [
                  {
                    "issue": "Poor first 5 seconds leading to high skip rate",
                    "probability": "high",
                    "resolution": "Hook viewers immediately, front-load key message, test different creative openings",
                    "verification": "Check view rate and video quartile completion rates"
                  },
                  {
                    "issue": "YouTube Analytics vs Google Ads view definition mismatch",
                    "probability": "medium",
                    "resolution": "Explain that GA counts any play >0 seconds while Ads requires 30+ seconds (paid views)",
                    "verification": "Compare organic vs paid views, use correct platform for the metric needed"
                  }
                ]
              },
              "tools": ["Video campaign reports", "YouTube Analytics", "Video quartile metrics"]
            }
          ]
        }
      ]
    },
    {
      "id": "phase-2",
      "name": "Targeting & Bidding",
      "phaseNumber": 2,
      "priority": "must_know_cold",
      "category": "digital_marketing",
      "funnelStage": "Consideration / Intent",
      "summary": "Configuring keyword targeting, audience segmentation, bidding strategies, and budget allocation to reach the right users at the right price",
      "adsContext": "Targeting and bidding are the core levers for campaign efficiency. Proper keyword strategy captures intent, audience targeting expands reach to qualified users, and bidding strategies optimize toward business outcomes. These settings directly control who sees ads and what you pay.",
      "dataFlowIn": "Campaign structure from Phase 1, business goals (CPA/ROAS targets), first-party data, conversion tracking setup",
      "dataFlowOut": "Live targeting configuration feeding into ad delivery and auction systems, bid signals for Smart Bidding algorithms",
      "children": [
        {
          "id": "p2-1",
          "name": "Keyword Targeting",
          "parentId": "phase-2",
          "priority": "must_know_cold",
          "category": "targeting",
          "definition": "The practice of selecting and configuring keywords that trigger Search ads when users enter matching queries. Keyword targeting has evolved from simple string matching to sophisticated ML-based semantic matching that considers user intent, context, and query signals.",
          "adsContext": "Keywords are the foundation of Search advertising intent capture. Match type selection determines the balance between reach and relevance. The evolution toward ML-based matching means modern keyword strategy focuses more on intent themes than exact terms.",
          "tscRelevance": "TSCs constantly troubleshoot keyword issues: keywords not triggering, triggering for wrong queries, or underperforming. Understanding match type behavior and the evolution to semantic matching is essential for diagnosing performance problems.",
          "keyDetails": [
            "Match types control how broadly Google interprets keywords: Exact (most restrictive) → Phrase → Broad (widest reach)",
            "Evolution: String matching (pre-2021) → Semantic matching with ML, understanding synonyms and intent",
            "Close variants: Even Exact match now includes misspellings, plurals, implied words, and reordering",
            "Keyword Quality Score (1-10) affects ad rank and CPC; based on expected CTR, ad relevance, landing page experience",
            "Search Terms Report reveals actual queries triggering ads - essential for negative keyword management"
          ],
          "interviewQuestions": [
            "Explain the difference between keyword match types with examples. When would you use each?",
            "How has keyword matching evolved over the past few years, and how does that change keyword strategy?",
            "A client says their exact match keywords are triggering for queries that seem unrelated. How do you explain this?"
          ],
          "sqlConnection": "Keyword performance analysis often involves joining keyword and search_terms tables. N-gram analysis via SQL identifies negative keyword opportunities by finding low-converting query patterns.",
          "troubleshooting": {
            "symptoms": [
              "Keywords not triggering ads despite active status",
              "Exact match showing for unexpected queries",
              "High impressions but low CTR on keywords",
              "Search terms report showing irrelevant queries",
              "Keywords with 'Low search volume' status"
            ],
            "diagnosticQuestions": [
              "What match type is the keyword using?",
              "What does the Search Terms Report show for actual queries?",
              "Is the keyword Quality Score below 4?",
              "Are there conflicting negative keywords blocking the term?",
              "What is the keyword status (eligible, low search volume, disapproved)?"
            ],
            "causes": [
              {
                "issue": "Negative keyword blocking positive keyword",
                "probability": "high",
                "resolution": "Review negative keyword lists at campaign and ad group level; remove or modify conflicting negatives",
                "verification": "Check for negative keyword conflicts in Keywords > Negative Keywords, test with Keyword Diagnosis tool"
              },
              {
                "issue": "Low Quality Score preventing competitive ad rank",
                "probability": "high",
                "resolution": "Improve QS components: write ads including the keyword, improve landing page relevance and speed",
                "verification": "Add QS column and component columns; verify landing page matches keyword intent"
              },
              {
                "issue": "Broad match triggering for semantically related but irrelevant queries",
                "probability": "high",
                "resolution": "Add negative keywords based on Search Terms Report analysis; consider phrase match for core terms",
                "verification": "Review Search Terms Report, identify patterns in irrelevant queries to negative"
              },
              {
                "issue": "Low search volume keywords not serving",
                "probability": "medium",
                "resolution": "Google pauses keywords with very few monthly searches; broaden match type or combine with related terms",
                "verification": "Check keyword status column for 'Low search volume' label"
              }
            ]
          },
          "tools": ["Keyword Planner", "Search Terms Report", "Keyword Diagnosis", "Quality Score columns", "Google Ads Editor"],
          "children": [
            {
              "id": "p2-1-1",
              "name": "Exact Match",
              "parentId": "p2-1",
              "priority": "must_know_cold",
              "category": "match_types",
              "definition": "The most restrictive keyword match type, denoted by [square brackets], that shows ads for searches with the same meaning or intent as the keyword. Despite the name, exact match now uses semantic matching rather than literal string matching.",
              "adsContext": "Exact match provides the highest relevance and typically best CTR/conversion rates. It evolved from literal matching to include close variants (misspellings, plurals, abbreviations, accents, implied words, same-intent reordering). Example: [running shoes] matches 'shoes for running' and 'running shoe'.",
              "tscRelevance": "Clients often expect exact match to work like the old literal matching. TSCs must explain close variants and when to use exact match vs other types. Exact match is ideal for high-value, proven converting terms.",
              "keyDetails": [
                "Syntax: [keyword] - e.g., [running shoes]",
                "Matches: Same meaning/intent, not just literal string. Includes close variants.",
                "Close variants include: Misspellings, singular/plural, stemmings, abbreviations, accents, reordered words with same meaning, implied words, synonyms with same intent",
                "Best for: High-value converting terms, brand terms, terms where you need maximum relevance control",
                "Limitation: Lower reach than phrase/broad; may miss valuable long-tail variations"
              ],
              "interviewQuestions": [
                "Give me examples of queries that would and wouldn't match exact match keyword [women's shoes].",
                "A client is frustrated that their exact match keyword [buy car insurance] matched 'car insurance quotes'. Is this expected?",
                "When would you recommend using exact match exclusively vs a mixed match type strategy?"
              ],
              "sqlConnection": "When analyzing keyword performance by match type, exact match keywords often show highest conversion rates. SQL filtering by match_type = 'EXACT' isolates this segment.",
              "troubleshooting": {
                "symptoms": [
                  "Exact match showing for queries client considers irrelevant",
                  "Very low impression volume on exact match",
                  "Exact match CPC higher than broad/phrase"
                ],
                "diagnosticQuestions": [
                  "Are the triggered queries semantically related (same intent)?",
                  "Is the keyword too narrow for meaningful volume?",
                  "Are competitors bidding heavily on these exact terms?"
                ],
                "causes": [
                  {
                    "issue": "Client expects old literal matching behavior",
                    "probability": "high",
                    "resolution": "Explain close variants and semantic matching evolution; use negatives to exclude specific unwanted queries",
                    "verification": "Show Search Terms Report examples of matched queries, explain semantic relationship"
                  },
                  {
                    "issue": "Exact match over-specified limiting volume",
                    "probability": "medium",
                    "resolution": "Add phrase or broad match keywords to capture additional relevant queries, use exact match data to inform expansion",
                    "verification": "Check impression share metrics, look for 'Lost IS (budget)' vs 'Lost IS (rank)'"
                  }
                ]
              },
              "tools": ["Search Terms Report", "Keyword Diagnosis", "Impression Share columns"]
            },
            {
              "id": "p2-1-2",
              "name": "Phrase Match",
              "parentId": "p2-1",
              "priority": "must_know_cold",
              "category": "match_types",
              "definition": "A keyword match type, denoted by \"quotes\", that shows ads for searches including the meaning of the keyword. The search must include the keyword meaning in the same conceptual order, but can have words before or after.",
              "adsContext": "Phrase match provides a middle ground between exact and broad. After the 2021 update, it absorbed the old Broad Match Modifier functionality, matching queries with the same meaning while preserving word order significance. Example: \"running shoes\" matches 'best running shoes for women' but might not match 'shoes designed for running trails'.",
              "tscRelevance": "TSCs help clients understand the phrase match evolution post-BMM deprecation. Phrase match is often recommended as the default match type for campaigns seeking balance between reach and relevance.",
              "keyDetails": [
                "Syntax: \"keyword\" - e.g., \"running shoes\"",
                "Matches: Queries that include the keyword meaning, preserving order where relevant to meaning",
                "2021 update: Absorbed Broad Match Modifier behavior; now uses semantic matching",
                "Will match: Additional words before/after, close variants, same-meaning paraphrases",
                "Won't match: Queries where word order changes the meaning substantially",
                "Best for: Balanced reach and relevance, most campaign types as a starting point"
              ],
              "interviewQuestions": [
                "How did phrase match change when Broad Match Modifier was deprecated?",
                "Give examples of what phrase match keyword \"tennis shoes\" would and wouldn't match.",
                "A client wants to use BMM. What do you tell them?"
              ],
              "sqlConnection": "Phrase match analysis often focuses on query length distribution - phrase match tends to capture more long-tail than exact. SQL can bucket by query word count.",
              "troubleshooting": {
                "symptoms": [
                  "Phrase match still matching queries with different word order",
                  "Reach lower than expected compared to old BMM",
                  "Difficulty controlling which variations match"
                ],
                "diagnosticQuestions": [
                  "Does the word order actually change the meaning?",
                  "Are there sufficient negatives to filter unwanted variations?",
                  "Is the phrase match keyword the right level of specificity?"
                ],
                "causes": [
                  {
                    "issue": "Confusion about phrase match word order behavior",
                    "probability": "high",
                    "resolution": "Explain that order is preserved when it affects meaning; 'shoes running' would likely not match \"running shoes\" as the meaning differs",
                    "verification": "Review Search Terms Report for order variations, verify semantic similarity"
                  },
                  {
                    "issue": "Old BMM strategy not translating to new phrase match",
                    "probability": "medium",
                    "resolution": "Phrase match is narrower than old BMM; consider adding broad match with Smart Bidding for expansion",
                    "verification": "Compare historical BMM reach to new phrase match volume"
                  }
                ]
              },
              "tools": ["Search Terms Report", "Keyword Planner", "Match Type column"]
            },
            {
              "id": "p2-1-3",
              "name": "Broad Match",
              "parentId": "p2-1",
              "priority": "must_know_cold",
              "category": "match_types",
              "definition": "The widest keyword match type with no special syntax that uses machine learning to match ads to relevant searches. Broad match considers query context, user signals, landing page content, and other keywords in the ad group to determine relevance.",
              "adsContext": "Modern broad match leverages Google's ML to find converting queries beyond what advertisers might predict. It works best with Smart Bidding (Target CPA/ROAS) which can modulate bids based on conversion likelihood. Example: running shoes may match 'athletic footwear reviews', 'best sneakers for marathon', or 'comfortable gym trainers'.",
              "tscRelevance": "TSCs frequently address broad match concerns: 'Why am I showing for these random queries?' The key is explaining ML-based expansion and the synergy with Smart Bidding. Broad match without Smart Bidding often wastes spend; with Smart Bidding, it finds incremental conversions.",
              "keyDetails": [
                "Syntax: No symbols - just the keyword: running shoes",
                "ML signals used: Landing page content, other keywords in ad group, user's previous searches, location, time of day, device",
                "Smart Bidding synergy: Broad match expands reach; Smart Bidding modulates bids based on conversion likelihood. Together they find high-value queries.",
                "Risk without Smart Bidding: May trigger for low-intent queries with equal bids, wasting spend",
                "Google's recommendation: Use broad match + Smart Bidding for all Search campaigns (though many advertisers are more conservative)"
              ],
              "interviewQuestions": [
                "Why does Google recommend broad match with Smart Bidding? What's the risk of broad match with manual CPC?",
                "A client wants to start with exact match only because they're worried about wasted spend. How do you advise them?",
                "Explain how broad match uses signals beyond the keyword text itself."
              ],
              "sqlConnection": "Broad match query analysis benefits from clustering algorithms to identify query themes. SQL can calculate conversion rate by query length and word overlap with keywords.",
              "troubleshooting": {
                "symptoms": [
                  "Broad match triggering irrelevant queries",
                  "High spend with low conversions on broad match",
                  "Broad match cannibalizing exact/phrase match keywords",
                  "Dramatic performance difference between broad and other match types"
                ],
                "diagnosticQuestions": [
                  "Is Smart Bidding in use (Target CPA/ROAS)?",
                  "Are there sufficient negatives from Search Terms Report analysis?",
                  "What does the query-to-keyword relationship look like in search terms?",
                  "Is there enough conversion data for Smart Bidding to optimize?"
                ],
                "causes": [
                  {
                    "issue": "Broad match without Smart Bidding leading to uncontrolled spend",
                    "probability": "high",
                    "resolution": "Enable Target CPA or Target ROAS bidding so algorithm can modulate bids based on conversion likelihood",
                    "verification": "Check bidding strategy; if manual CPC, either switch to Smart Bidding or use phrase/exact"
                  },
                  {
                    "issue": "Insufficient negative keywords allowing irrelevant matches",
                    "probability": "high",
                    "resolution": "Weekly Search Terms Report review; add negatives for irrelevant query patterns",
                    "verification": "Review Search Terms Report, identify irrelevant queries, add as negatives"
                  },
                  {
                    "issue": "Broad match needs learning period with Smart Bidding",
                    "probability": "medium",
                    "resolution": "Allow 2-4 weeks for Smart Bidding to learn which broad match queries convert; don't judge early",
                    "verification": "Check bid strategy status for 'Learning' label, monitor week-over-week trends"
                  }
                ]
              },
              "tools": ["Search Terms Report", "Bid Strategy Report", "Keyword Planner", "Recommendations tab"]
            },
            {
              "id": "p2-1-4",
              "name": "Negative Keywords",
              "parentId": "p2-1",
              "priority": "must_know_cold",
              "category": "match_types",
              "definition": "Keywords that prevent ads from showing when certain words or phrases are part of the search query. Negative keywords use match types (exact, phrase, broad) that work differently than positive keyword match types, applying more literally.",
              "adsContext": "Negative keywords are essential for query refinement and preventing wasted spend. They can be applied at campaign level (affect all ad groups) or ad group level (affect only that ad group). Shared negative keyword lists enable efficient management across campaigns.",
              "tscRelevance": "TSCs regularly help clients build and troubleshoot negative keyword lists. Common issues include: negatives blocking positive keywords, not understanding negative match type behavior, and failing to regularly mine Search Terms Report for new negatives.",
              "keyDetails": [
                "Negative match types are more literal than positive: Negative broad blocks any query containing all negative words in any order",
                "Negative exact [keyword]: Blocks only that exact query",
                "Negative phrase \"keyword\": Blocks queries containing that phrase in order",
                "Negative broad keyword: Blocks queries containing all words (any order) - most common",
                "Levels: Campaign-level negatives affect all ad groups; Ad group level affects only that ad group",
                "Shared lists: Create once, apply to multiple campaigns for efficiency"
              ],
              "interviewQuestions": [
                "Explain how negative match types differ from positive match types.",
                "A client added negative keyword 'free' and now their 'gluten free recipes' ad isn't showing. Why?",
                "How would you structure negative keyword lists for an e-commerce account?"
              ],
              "sqlConnection": "Search Terms Report analysis via SQL can identify negative keyword candidates by finding queries with low CTR, high cost, zero conversions, or specific word patterns indicating irrelevance.",
              "troubleshooting": {
                "symptoms": [
                  "Ads suddenly stopped showing for important keywords",
                  "Negative keywords not blocking intended queries",
                  "Confusion about which level negatives are applied",
                  "Negative list conflicts with positive keywords"
                ],
                "diagnosticQuestions": [
                  "Were negative keywords recently added at campaign or account level?",
                  "What match type is the negative keyword using?",
                  "Is the negative keyword in a shared list applied to multiple campaigns?",
                  "Does the positive keyword contain words from the negative?"
                ],
                "causes": [
                  {
                    "issue": "Negative broad keyword unintentionally blocking positive keywords",
                    "probability": "high",
                    "resolution": "Review negative match type; use phrase or exact negative match for precision",
                    "verification": "Check for positive keywords containing negative keyword words; test with keyword diagnosis"
                  },
                  {
                    "issue": "Shared negative list applied too broadly",
                    "probability": "medium",
                    "resolution": "Review shared list membership; consider campaign-specific lists for unique blocking needs",
                    "verification": "Check Shared Library > Negative Keyword Lists for list assignments"
                  },
                  {
                    "issue": "Campaign-level negative blocking ad group opportunities",
                    "probability": "medium",
                    "resolution": "Move negative to ad group level if it should only apply to specific ad groups",
                    "verification": "Check negative keywords at both campaign and ad group levels"
                  }
                ]
              },
              "tools": ["Negative Keywords", "Shared Library", "Search Terms Report", "Keyword Diagnosis", "Google Ads Editor"]
            }
          ]
        },
        {
          "id": "p2-2",
          "name": "Audience Targeting",
          "parentId": "phase-2",
          "priority": "must_know_cold",
          "category": "targeting",
          "definition": "The practice of defining and reaching specific groups of users based on their demographics, interests, behaviors, and relationship with your business. Audience targeting can layer on top of keyword targeting (Observation mode) or replace it entirely (Targeting mode).",
          "adsContext": "Audiences enable precision targeting beyond keywords. Google provides extensive pre-built audiences (In-Market, Affinity) and tools to create custom audiences from your data (Customer Match, Remarketing). Proper audience strategy improves ROAS by focusing spend on high-value users.",
          "tscRelevance": "TSCs help clients understand audience options, troubleshoot audience sizing issues, and explain the critical difference between Observation and Targeting modes. Audience-related questions are common in technical interviews.",
          "keyDetails": [
            "Observation mode: Ads still serve to all users; audiences enable bid adjustments and reporting segments",
            "Targeting mode: Ads ONLY serve to users in the selected audiences - restricts reach",
            "Audience combinations: Create logical AND/OR rules to combine multiple audiences",
            "Audience signals (PMax): Hints to algorithm, not hard targeting constraints",
            "Privacy: Audience lists must meet minimum size requirements (1000 for Search remarketing, 100 for Display)"
          ],
          "interviewQuestions": [
            "Explain the difference between Observation and Targeting mode for audiences. When would you use each?",
            "A client's remarketing list shows only 50 users. Why aren't ads serving to them on Search?",
            "How do audience signals in Performance Max differ from audience targeting in standard campaigns?"
          ],
          "sqlConnection": "Audience performance analysis requires joining audience reports with conversion data. SQL can compare conversion rates and CPA across audience segments to identify high-value audiences.",
          "troubleshooting": {
            "symptoms": [
              "Audience-targeted campaigns not spending",
              "Lower reach than expected after adding audiences",
              "Audiences showing in Audience Manager but not available in campaigns",
              "Remarketing not serving ads to site visitors"
            ],
            "diagnosticQuestions": [
              "Is the audience in Observation or Targeting mode?",
              "What is the audience size (meets minimums)?",
              "Is the audience tag/pixel firing correctly?",
              "Are there conflicting audience exclusions?"
            ],
            "causes": [
              {
                "issue": "Targeting mode restricting reach unintentionally",
                "probability": "high",
                "resolution": "Switch to Observation mode if you want to reach all users while collecting audience data",
                "verification": "Check audience setting dropdown for 'Observation' vs 'Targeting' selection"
              },
              {
                "issue": "Audience size below minimum for campaign type",
                "probability": "high",
                "resolution": "Expand audience membership duration (e.g., 30 to 90 days), increase site traffic, or use Display (lower minimum)",
                "verification": "Check Audience Manager for list size; Search requires 1000+, Display requires 100+"
              },
              {
                "issue": "Remarketing tag not firing on all pages",
                "probability": "medium",
                "resolution": "Verify tag implementation via Google Tag Assistant or network tab; ensure tag is on all relevant pages",
                "verification": "Use Google Tag Assistant browser extension to verify tag fires"
              }
            ]
          },
          "tools": ["Audience Manager", "Google Tag Assistant", "Audience Insights", "Combined Audiences"],
          "children": [
            {
              "id": "p2-2-1",
              "name": "In-Market Audiences",
              "parentId": "p2-2",
              "priority": "must_know_cold",
              "category": "audience_types",
              "definition": "Google-curated audiences of users who are actively researching or comparing products and services in a specific category, indicating near-term purchase intent based on their recent browsing behavior, searches, and content engagement.",
              "adsContext": "In-Market audiences capture users in the consideration/decision phase of their journey. Example categories include 'Autos & Vehicles > Motor Vehicles > Motor Vehicles (Used)', 'Travel > Hotels & Accommodations', 'Software > Business Software > CRM Software'. These audiences show strong commercial intent.",
              "tscRelevance": "TSCs recommend In-Market audiences for driving conversions from users close to purchase. They're especially effective as bid modifiers or targeting layers on Search campaigns. Understanding available categories helps match business to audience.",
              "keyDetails": [
                "Based on real-time purchase intent signals: recent searches, sites visited, content engaged with",
                "Hundreds of categories covering major verticals: auto, real estate, travel, software, financial services, etc.",
                "Best for: Lower-funnel campaigns focused on conversions and sales",
                "Combine with keywords: Layer In-Market on Search to bid more for high-intent users searching your terms",
                "Refreshed continuously: Users enter/exit based on behavior, not static membership"
              ],
              "interviewQuestions": [
                "How does Google determine someone is 'in-market' for a product category?",
                "Would you recommend using In-Market audiences in Targeting or Observation mode for a new Search campaign?",
                "A client sells enterprise software. Which In-Market audiences might be relevant?"
              ],
              "sqlConnection": "Audience reports can segment conversions by In-Market category. SQL analysis helps identify which In-Market audiences drive best ROAS for bid modifier optimization.",
              "troubleshooting": {
                "symptoms": [
                  "In-Market audience not driving expected conversions",
                  "Can't find relevant In-Market category for niche business",
                  "In-Market bid adjustments not impacting delivery"
                ],
                "diagnosticQuestions": [
                  "Is the In-Market category accurately representing your customer?",
                  "Is the audience in Targeting (restricting reach) or Observation mode?",
                  "Are bid adjustments high enough to impact auction outcomes?"
                ],
                "causes": [
                  {
                    "issue": "In-Market category too broad or misaligned with product",
                    "probability": "medium",
                    "resolution": "Test multiple In-Market categories, use Audience Insights to verify overlap with converters",
                    "verification": "Review Audience Insights for your converters to see which In-Market categories they belong to"
                  },
                  {
                    "issue": "Bid adjustment too low to affect auction",
                    "probability": "medium",
                    "resolution": "Increase bid adjustment (try +20-50%) for In-Market audiences if data shows they convert better",
                    "verification": "Compare conversion rate for In-Market audience vs all users to justify adjustment"
                  }
                ]
              },
              "tools": ["Audience Manager", "Audience Insights", "In-Market category browser"]
            },
            {
              "id": "p2-2-2",
              "name": "Affinity Audiences",
              "parentId": "p2-2",
              "priority": "must_know_cold",
              "category": "audience_types",
              "definition": "Google-curated audiences based on users' long-term interests, passions, and lifestyle characteristics rather than immediate purchase intent. Affinity audiences represent what users care about rather than what they're actively shopping for.",
              "adsContext": "Affinity audiences are ideal for upper-funnel awareness and brand campaigns. Categories include 'Sports & Fitness > Sports Fans', 'Lifestyles & Hobbies > Pet Lovers', 'Media & Entertainment > Gamers'. They're broader than In-Market and better for reaching users before purchase intent forms.",
              "tscRelevance": "TSCs help clients understand when to use Affinity vs In-Market. Affinity is for brand awareness and reaching users early in the journey; In-Market is for users closer to conversion. Using Affinity for direct response often disappoints.",
              "keyDetails": [
                "Based on long-term behavior patterns: frequent site visits, content consumption, lifestyle indicators",
                "Broader than In-Market: Represents ongoing interests, not active purchase research",
                "Best for: Awareness campaigns, brand building, YouTube, Display prospecting",
                "Custom Affinity: Create your own based on interests, URLs, places, or apps (legacy, largely replaced by Custom Audiences)",
                "Example: A running shoe brand might target 'Sports & Fitness > Running' Affinity rather than 'Footwear' In-Market"
              ],
              "interviewQuestions": [
                "What's the key difference between Affinity and In-Market audiences?",
                "When would you recommend Affinity audiences over In-Market?",
                "A client wants to use Affinity audiences to drive immediate sales. What's your advice?"
              ],
              "sqlConnection": "Affinity audience analysis often focuses on assisted conversion metrics rather than last-click, as these audiences contribute to upper-funnel awareness.",
              "troubleshooting": {
                "symptoms": [
                  "Affinity campaigns have low direct conversion rates",
                  "Reach is too broad/untargeted",
                  "Difficulty measuring Affinity campaign value"
                ],
                "diagnosticQuestions": [
                  "Is the campaign goal awareness/reach or direct response?",
                  "Is attribution set to account for view-through and assisted conversions?",
                  "Are Affinity audiences layered with other targeting or standalone?"
                ],
                "causes": [
                  {
                    "issue": "Expecting direct response from awareness audience",
                    "probability": "high",
                    "resolution": "Set appropriate KPIs: reach, brand lift, view-through conversions rather than last-click conversions",
                    "verification": "Review campaign goals, adjust attribution model, consider brand lift studies"
                  },
                  {
                    "issue": "Affinity audience too broad without additional refinement",
                    "probability": "medium",
                    "resolution": "Combine Affinity with demographic, geographic, or contextual targeting to narrow",
                    "verification": "Check combined audience sizes after adding layers"
                  }
                ]
              },
              "tools": ["Audience Manager", "Reach Planner", "Brand Lift studies", "Attribution Model Comparison"]
            },
            {
              "id": "p2-2-3",
              "name": "Custom Audiences",
              "parentId": "p2-2",
              "priority": "must_know_cold",
              "category": "audience_types",
              "definition": "Advertiser-created audiences based on keywords users have searched, URLs they've visited, or apps they've used. Custom Audiences allow targeting users with specific interests or behaviors not covered by Google's pre-built audiences.",
              "adsContext": "Custom Audiences are powerful for niche targeting. You define the audience by entering keywords (representing interests/searches), URLs (sites your ideal customer visits), or apps (apps they use). Google finds users matching these signals. Replaced older Custom Affinity and Custom Intent audiences.",
              "tscRelevance": "TSCs help clients build effective Custom Audiences by understanding their customer research behavior. Common mistakes include audiences that are too broad/narrow, or using URLs/keywords that don't represent the target customer accurately.",
              "keyDetails": [
                "Input options: Keywords (search interests), URLs (sites visited), Apps (app users)",
                "Keywords: Google targets people who've searched these terms on Google properties",
                "URLs: Google targets people with interests similar to visitors of these sites (NOT site visitors themselves)",
                "Combined approach: Use multiple signals together for refined targeting",
                "Best for: Niche targeting, competitor conquesting (target visitors of competitor sites), unique audience needs"
              ],
              "interviewQuestions": [
                "How do Custom Audiences work with URLs? Is Google showing ads to visitors of those specific URLs?",
                "A client wants to target users searching for competitor brand names. How would you set this up?",
                "What's the difference between Custom Audiences and Remarketing?"
              ],
              "sqlConnection": "Custom audience performance can be compared against other audience types via audience segment reporting. SQL analysis identifies which custom audience definitions drive best results.",
              "troubleshooting": {
                "symptoms": [
                  "Custom audience too small/large for effective targeting",
                  "Custom audience not reaching intended users",
                  "Confusion about URL targeting behavior"
                ],
                "diagnosticQuestions": [
                  "What signals (keywords/URLs/apps) define the audience?",
                  "Are the signals specific enough to represent the target customer?",
                  "Is the audience showing an estimated size in Audience Manager?"
                ],
                "causes": [
                  {
                    "issue": "Expecting URL input to target actual site visitors",
                    "probability": "high",
                    "resolution": "Clarify that URL input targets users with similar interests to that site's visitors, not the visitors themselves. Use remarketing to target your own visitors.",
                    "verification": "Explain Custom Audience methodology vs remarketing"
                  },
                  {
                    "issue": "Keywords/URLs too broad leading to poor targeting",
                    "probability": "medium",
                    "resolution": "Use more specific, niche keywords and URLs representing actual customer research behavior",
                    "verification": "Review audience definition, test with more specific signals"
                  }
                ]
              },
              "tools": ["Audience Manager", "Custom Audience creator", "Audience Insights"]
            },
            {
              "id": "p2-2-4",
              "name": "Customer Match",
              "parentId": "p2-2",
              "priority": "must_know_cold",
              "category": "audience_types",
              "definition": "First-party audience targeting using your own customer data (email addresses, phone numbers, mailing addresses) uploaded to Google Ads. Data is hashed and matched against Google users for targeting or exclusion.",
              "adsContext": "Customer Match enables powerful CRM-based targeting: upsell to existing customers, re-engage lapsed buyers, exclude converters from acquisition campaigns, or create Similar Audiences based on your best customers. Match rates typically range 30-60% depending on data quality.",
              "tscRelevance": "TSCs troubleshoot match rate issues, help clients understand privacy compliance requirements, and advise on Customer Match strategy. This is increasingly important as third-party cookies phase out.",
              "keyDetails": [
                "Data types accepted: Hashed emails (most common), phone numbers, mailing addresses, mobile device IDs",
                "Hashing: SHA256 hashing required for privacy; Google Ads can hash on upload or accept pre-hashed data",
                "Match rate: Typically 30-60%; affected by data quality, email type (personal vs work), data recency",
                "Similar audiences: Google can create lookalike audiences based on your Customer Match list",
                "Requirements: Accounts must meet spend thresholds and have good compliance history",
                "Privacy: Must have proper consent to use customer data for advertising"
              ],
              "interviewQuestions": [
                "A client's Customer Match list has a 20% match rate. What factors could cause low match rates?",
                "Explain the privacy considerations when using Customer Match.",
                "How would you use Customer Match for a subscription business with churned customers?"
              ],
              "sqlConnection": "Customer Match list creation often involves SQL to segment CRM data: high-value customers, churned users, recent purchasers, etc. before export for upload.",
              "troubleshooting": {
                "symptoms": [
                  "Low match rate on Customer Match list",
                  "Customer Match list not available for use in campaigns",
                  "Similar audiences not being created from Customer Match",
                  "Account not eligible for Customer Match"
                ],
                "diagnosticQuestions": [
                  "What is the data quality (personal vs business emails, data recency)?",
                  "Is the list size meeting minimums (1000 matched users for Search)?",
                  "Does the account meet eligibility requirements?",
                  "Is proper consent documented for data use?"
                ],
                "causes": [
                  {
                    "issue": "Data quality issues lowering match rate",
                    "probability": "high",
                    "resolution": "Use personal emails over business, ensure data is recent, normalize formatting (lowercase, remove spaces), include multiple identifiers per user",
                    "verification": "Review match rate after upload, compare to benchmarks, try including phone numbers alongside emails"
                  },
                  {
                    "issue": "Account doesn't meet eligibility requirements",
                    "probability": "medium",
                    "resolution": "Account needs 90+ days history, good compliance record, and sufficient spend. Escalate if requirements are met but feature unavailable.",
                    "verification": "Check account age, policy history, verify Customer Match option appears in Audience Manager"
                  },
                  {
                    "issue": "List too small after matching",
                    "probability": "medium",
                    "resolution": "Upload larger source lists or combine multiple customer segments. Search requires 1000 matched users minimum.",
                    "verification": "Check matched size in Audience Manager after upload completes processing"
                  }
                ]
              },
              "tools": ["Audience Manager", "Customer Match upload", "Data File templates", "Policy Help Center"]
            },
            {
              "id": "p2-2-5",
              "name": "Remarketing Lists",
              "parentId": "p2-2",
              "priority": "must_know_cold",
              "category": "audience_types",
              "definition": "Audiences of users who have previously interacted with your website, app, or YouTube content. Remarketing enables re-engaging past visitors with tailored messaging based on their previous behavior and relationship with your business.",
              "adsContext": "Remarketing is among the highest-ROI targeting methods because you're reaching users already familiar with your brand. Common segments include all site visitors, product page viewers, cart abandoners, past purchasers (for upsell/cross-sell or exclusion), and converters to exclude from acquisition campaigns.",
              "tscRelevance": "TSCs frequently troubleshoot remarketing tag issues, help build effective remarketing lists, and advise on membership duration and list strategy. Understanding remarketing is essential for almost any Google Ads troubleshooting.",
              "keyDetails": [
                "Tag requirement: Google Ads tag (gtag.js) or Google Analytics linked audiences for website remarketing",
                "List types: All visitors, page-specific visitors, converters, cart abandoners, video viewers (YouTube), app users",
                "Membership duration: How long users stay in list (1-540 days); varies by purchase cycle",
                "Minimum sizes: 100 for Display, 1000 for Search, 1000 for YouTube, 5000 for Similar Audiences",
                "Dynamic remarketing: Show specific products users viewed (requires feed and enhanced tagging)",
                "Frequency capping: Limit how often users see remarketing ads to prevent fatigue"
              ],
              "interviewQuestions": [
                "Walk me through setting up remarketing for cart abandoners.",
                "A client's remarketing campaigns are annoying customers. How do you address this?",
                "What's the difference between rule-based remarketing lists and Google Analytics audiences for remarketing?"
              ],
              "sqlConnection": "Remarketing list performance analysis often segments by list type, membership duration, and recency. SQL can help analyze which remarketing segments drive best ROAS.",
              "troubleshooting": {
                "symptoms": [
                  "Remarketing list not populating with users",
                  "Remarketing ads not serving despite eligible list",
                  "Customers complaining about seeing too many ads",
                  "Dynamic remarketing showing wrong products"
                ],
                "diagnosticQuestions": [
                  "Is the remarketing tag firing correctly on all pages?",
                  "Does the list meet minimum size requirements for the campaign type?",
                  "What is the membership duration and is it appropriate for the sales cycle?",
                  "Is frequency capping set appropriately?"
                ],
                "causes": [
                  {
                    "issue": "Remarketing tag not installed or firing incorrectly",
                    "probability": "high",
                    "resolution": "Verify tag with Google Tag Assistant; ensure global site tag and event snippets are correctly implemented",
                    "verification": "Use Tag Assistant Chrome extension, check network requests for tag fires"
                  },
                  {
                    "issue": "List below minimum size for campaign type",
                    "probability": "high",
                    "resolution": "Wait for list to build, extend membership duration, increase site traffic, or use Display (lower minimum) while list builds",
                    "verification": "Check list size in Audience Manager; Search needs 1000+, Display needs 100+"
                  },
                  {
                    "issue": "No frequency capping leading to ad fatigue",
                    "probability": "medium",
                    "resolution": "Set frequency cap (e.g., 3-5 impressions per day/week per user), rotate creatives, and segment lists by recency",
                    "verification": "Add frequency columns to reporting, check frequency distribution"
                  },
                  {
                    "issue": "Dynamic remarketing feed mismatch",
                    "probability": "medium",
                    "resolution": "Verify product IDs in remarketing tag match feed IDs exactly; check feed for errors",
                    "verification": "Review Merchant Center feed diagnostics, verify ID parameter in tag"
                  }
                ]
              },
              "tools": ["Audience Manager", "Google Tag Assistant", "Frequency columns", "Merchant Center (dynamic)", "Google Analytics Audiences"]
            }
          ]
        },
        {
          "id": "p2-3",
          "name": "Bidding Strategies",
          "parentId": "phase-2",
          "priority": "must_know_cold",
          "category": "bidding",
          "definition": "The algorithms and methods used to set bids in Google Ads auctions. Strategies range from full manual control (Manual CPC) to fully automated machine learning optimization (Smart Bidding strategies like Target CPA and Target ROAS).",
          "adsContext": "Bidding strategy selection is one of the most impactful campaign decisions. Smart Bidding uses ML to optimize bids in real-time using signals unavailable to manual bidders (device, location, time, query, remarketing lists, browser, OS, etc.). Proper strategy matching to goals and sufficient conversion data are critical for success.",
          "tscRelevance": "TSCs spend significant time on bidding strategy issues: strategies not meeting targets, learning periods resetting, insufficient data for optimization. Understanding when to use each strategy and troubleshooting Smart Bidding performance is essential.",
          "keyDetails": [
            "Manual strategies: Manual CPC, Enhanced CPC - advertiser sets bids, varying levels of automation",
            "Smart Bidding strategies: Target CPA, Target ROAS, Maximize Conversions, Maximize Conversion Value - ML-optimized",
            "Learning period: 1-2 weeks after major changes when algorithm is adjusting; performance may be volatile",
            "Data requirements: Target CPA needs 30+ conversions/month for reliable optimization; Target ROAS needs 50+ with value tracking",
            "Smart Bidding signals: Device, location, time of day, remarketing list, language, operating system, browser, actual search query"
          ],
          "interviewQuestions": [
            "Explain the difference between Target CPA and Maximize Conversions. When would you use each?",
            "A client's Target CPA strategy is in 'Learning' for 3 weeks. What's happening?",
            "What signals does Smart Bidding use that aren't available to manual bidders?"
          ],
          "sqlConnection": "Bid strategy analysis often involves comparing periods before/after strategy changes. SQL can calculate rolling averages accounting for learning periods and segment by Smart Bidding signals.",
          "troubleshooting": {
            "symptoms": [
              "CPA higher than target for extended period",
              "Strategy stuck in Learning status",
              "Dramatic performance swings after bid strategy change",
              "Spend dropping after switching to Smart Bidding"
            ],
            "diagnosticQuestions": [
              "What is the target (CPA/ROAS) and is it realistic based on historical data?",
              "How many conversions is the campaign getting monthly?",
              "Were any major changes made that would reset learning?",
              "Is conversion tracking accurate and complete?"
            ],
            "causes": [
              {
                "issue": "Target CPA/ROAS set too aggressively",
                "probability": "high",
                "resolution": "Set targets 10-20% above historical performance, then gradually tighten as algorithm optimizes",
                "verification": "Compare target to last 30-day average CPA/ROAS; target should be achievable"
              },
              {
                "issue": "Insufficient conversion volume for Smart Bidding",
                "probability": "high",
                "resolution": "Consider micro-conversions (add-to-cart, signup) if primary conversions are low; alternatively use Maximize Clicks while building data",
                "verification": "Check monthly conversion count; Target CPA needs 30+, Target ROAS needs 50+"
              },
              {
                "issue": "Changes during learning period resetting algorithm",
                "probability": "medium",
                "resolution": "Avoid major changes (budget >30%, target changes, creative overhauls) during learning period",
                "verification": "Check Change History for recent modifications that would trigger learning"
              }
            ]
          },
          "tools": ["Bid Strategy Report", "Change History", "Recommendations", "Performance Planner"],
          "children": [
            {
              "id": "p2-3-1",
              "name": "Manual CPC",
              "parentId": "p2-3",
              "priority": "must_know_cold",
              "category": "bid_strategies",
              "definition": "A bidding strategy where the advertiser manually sets maximum CPC bids at the keyword, ad group, or placement level. Provides full control but requires significant time and expertise to optimize effectively.",
              "adsContext": "Manual CPC is increasingly rare as Smart Bidding improves, but remains useful for accounts with limited conversion data, unusual conversion patterns, or advertisers who need maximum control. It's also used during early testing phases before switching to automation.",
              "tscRelevance": "TSCs help clients understand when manual bidding makes sense and when to graduate to Smart Bidding. Also important for troubleshooting why a client insists on manual when Smart Bidding would perform better.",
              "keyDetails": [
                "Full control: Set exact max CPC bids at keyword or ad group level",
                "Bid adjustments: Layer on device, location, audience, schedule adjustments that multiply base bid",
                "Time intensive: Requires regular monitoring and adjustment to stay competitive",
                "No auction-time signals: Can't react to query-level or user-level signals in real-time",
                "Use cases: Low conversion volume (<30/month), testing new campaigns, unusual attribution needs, client preference"
              ],
              "interviewQuestions": [
                "When would you recommend Manual CPC over Smart Bidding?",
                "A client refuses to use Smart Bidding. How do you optimize manual bidding?",
                "Explain how bid adjustments work with Manual CPC base bids."
              ],
              "sqlConnection": "Manual CPC optimization benefits from keyword-level CPC analysis. SQL can identify keywords where CPC is significantly above/below targets for adjustment.",
              "troubleshooting": {
                "symptoms": [
                  "Impression share losses despite budget availability",
                  "Position dropping without bid changes",
                  "Time-consuming to maintain competitive bids"
                ],
                "diagnosticQuestions": [
                  "Are bids competitive based on Keyword Planner estimates?",
                  "How often are bids being reviewed and adjusted?",
                  "What does Auction Insights show about competitive position?"
                ],
                "causes": [
                  {
                    "issue": "Bids not keeping pace with market competition",
                    "probability": "high",
                    "resolution": "Review Auction Insights regularly, use Keyword Planner for bid estimates, consider switching to Smart Bidding",
                    "verification": "Check impression share metrics, compare bid estimates to current bids"
                  },
                  {
                    "issue": "Bid adjustments stacking unexpectedly",
                    "probability": "medium",
                    "resolution": "Review all bid adjustments; they multiply (e.g., +50% device × +30% location = +95% total)",
                    "verification": "Calculate total possible bid adjustment by multiplying all active modifiers"
                  }
                ]
              },
              "tools": ["Keyword Planner", "Auction Insights", "Bid Simulator", "Recommendations"]
            },
            {
              "id": "p2-3-2",
              "name": "Enhanced CPC (eCPC)",
              "parentId": "p2-3",
              "priority": "must_know_cold",
              "category": "bid_strategies",
              "definition": "A semi-automated bidding strategy that adjusts manual CPC bids in real-time based on conversion likelihood. Google can raise bids for clicks more likely to convert and lower bids for those less likely, while respecting your manual bid as a baseline.",
              "adsContext": "Enhanced CPC is a bridge between manual and Smart Bidding. It maintains your manual bid control while adding ML optimization for conversion likelihood. Previously could increase bids up to 30%, but now has no cap (though it aims to maintain average CPC near your manual bid over time).",
              "tscRelevance": "TSCs help clients understand eCPC behavior and when it's appropriate vs fully automated strategies. It's good for clients wanting some automation but not ready to fully trust Smart Bidding.",
              "keyDetails": [
                "Baseline: Uses your manual bids as starting point, adjusts in real-time",
                "Adjustment direction: Raises bids for likely conversions, lowers for unlikely",
                "No cap currently: Historically limited to 30% increases, now uncapped but targets average CPC near manual bid",
                "Requires conversion tracking: Without conversions, eCPC has nothing to optimize toward",
                "Good transition: Useful for clients moving from manual to Smart Bidding gradually"
              ],
              "interviewQuestions": [
                "How does Enhanced CPC differ from Target CPA?",
                "A client is worried eCPC will spend more than their manual bids. What do you tell them?",
                "When would you recommend eCPC over Manual CPC or full Smart Bidding?"
              ],
              "sqlConnection": "eCPC analysis can compare actual CPCs to manual bid settings to see how much the algorithm is adjusting.",
              "troubleshooting": {
                "symptoms": [
                  "CPCs significantly higher than manual bids",
                  "eCPC not seeming to improve conversions",
                  "Unexpected spend patterns with eCPC enabled"
                ],
                "diagnosticQuestions": [
                  "Is conversion tracking working correctly?",
                  "Are there enough conversions for eCPC to learn?",
                  "What's the average CPC vs manual bid over time?"
                ],
                "causes": [
                  {
                    "issue": "eCPC raising bids without conversion improvements",
                    "probability": "medium",
                    "resolution": "Verify conversion tracking; if correct but no improvement, consider switching to full Smart Bidding with more control",
                    "verification": "Compare conversion rate and CPA before/after eCPC enablement"
                  },
                  {
                    "issue": "Insufficient conversion volume for eCPC optimization",
                    "probability": "medium",
                    "resolution": "eCPC needs conversions to optimize; with very few, it can't learn patterns effectively",
                    "verification": "Check monthly conversion volume; if very low, consider manual CPC or building conversion data first"
                  }
                ]
              },
              "tools": ["Bid Strategy Report", "Change History", "Conversion tracking"]
            },
            {
              "id": "p2-3-3",
              "name": "Target CPA",
              "parentId": "p2-3",
              "priority": "must_know_cold",
              "category": "bid_strategies",
              "definition": "A Smart Bidding strategy that automatically sets bids to get as many conversions as possible at or below a target cost-per-acquisition (CPA) that you specify. Uses machine learning to optimize bids in real-time using auction-time signals.",
              "adsContext": "Target CPA is Google's most common Smart Bidding recommendation for conversion-focused campaigns. It requires sufficient conversion volume (30+/month recommended) and accurate conversion tracking. The algorithm optimizes for conversion volume at or around the target CPA over time.",
              "tscRelevance": "TSCs troubleshoot Target CPA issues constantly: campaigns exceeding targets, stuck in learning, not spending. Understanding learning periods, realistic target setting, and data requirements is critical.",
              "keyDetails": [
                "Sets bids at auction time using ML signals (device, location, time, query, audience, etc.)",
                "Target setting: Set based on historical CPA, ideally 10-20% above average initially",
                "Learning period: 1-2 weeks after significant changes (budget, target, creative)",
                "Data requirement: 30+ conversions per month for reliable optimization; fewer can still work but with more volatility",
                "Does NOT guarantee exact CPA: Optimizes toward target over time; individual conversions may be above/below",
                "Can limit spend: If target is very aggressive, algorithm may stop bidding to avoid overpaying"
              ],
              "interviewQuestions": [
                "A client sets Target CPA at $20 but their average CPA is $35. What advice do you give?",
                "How does Target CPA use auction-time signals that manual bidding can't access?",
                "A campaign has been in 'Learning (limited)' for 3 weeks. What's happening and how do you fix it?"
              ],
              "sqlConnection": "Target CPA analysis benefits from tracking CPA trends over time, segmented by period (pre/post learning) and by key dimensions like device or audience.",
              "troubleshooting": {
                "symptoms": [
                  "CPA consistently higher than target",
                  "Campaign not spending budget",
                  "Strategy stuck in 'Learning' or 'Learning (limited)'",
                  "Dramatic CPA swings day to day"
                ],
                "diagnosticQuestions": [
                  "What is historical CPA vs the target?",
                  "How many conversions is the campaign getting monthly?",
                  "Were there recent major changes that reset learning?",
                  "Is conversion tracking accurate?"
                ],
                "causes": [
                  {
                    "issue": "Target CPA set too aggressively below historical performance",
                    "probability": "high",
                    "resolution": "Set target 10-20% above historical average, then gradually lower as algorithm optimizes",
                    "verification": "Compare target to last 30 days' actual CPA; target should be achievable based on history"
                  },
                  {
                    "issue": "Insufficient conversion volume (< 30/month)",
                    "probability": "high",
                    "resolution": "Use micro-conversions, extend conversion window, consider Maximize Conversions without target while building data",
                    "verification": "Check conversion column for last 30 days; if <30, data may be insufficient"
                  },
                  {
                    "issue": "Frequent changes resetting learning period",
                    "probability": "medium",
                    "resolution": "Allow 2 weeks without major changes; avoid adjusting target, budget >30%, or major creative changes during learning",
                    "verification": "Review Change History for modifications in past 2 weeks"
                  },
                  {
                    "issue": "Conversion tracking issues causing bad data",
                    "probability": "medium",
                    "resolution": "Audit conversion tracking: check tag fires, attribution settings, conversion actions included",
                    "verification": "Verify conversions in Google Ads match actual sales/leads, check for duplicate counting"
                  }
                ]
              },
              "tools": ["Bid Strategy Report", "Change History", "Conversion tracking", "Recommendations"]
            },
            {
              "id": "p2-3-4",
              "name": "Target ROAS",
              "parentId": "p2-3",
              "priority": "must_know_cold",
              "category": "bid_strategies",
              "definition": "A Smart Bidding strategy that sets bids to maximize conversion value while achieving a target return on ad spend (ROAS). Requires conversion value tracking and optimizes for revenue/profit rather than conversion volume.",
              "adsContext": "Target ROAS is ideal for e-commerce and businesses where conversion values vary significantly. A 400% target ROAS means you want $4 revenue for every $1 spent. Requires more data than Target CPA (50+ conversions with value recommended) and accurate value tracking.",
              "tscRelevance": "TSCs help e-commerce clients implement Target ROAS, troubleshoot value tracking issues, and set realistic targets. Understanding the difference between ROAS optimization and CPA optimization is key.",
              "keyDetails": [
                "ROAS calculation: (Conversion Value / Cost) × 100 = ROAS %. A 400% ROAS = 4:1 return",
                "Requires conversion value: Must track actual revenue or assign values to conversion actions",
                "Data requirement: 50+ conversions with value in past 30 days for optimal performance",
                "Value variations: Works best when conversion values vary significantly (e.g., $10 vs $1000 orders)",
                "Bid optimization: Bids higher for high-value conversions, lower for low-value, optimizing overall return"
              ],
              "interviewQuestions": [
                "When would you recommend Target ROAS over Target CPA?",
                "A client's Target ROAS is 600% but they're achieving 350%. What would you investigate?",
                "How does Target ROAS handle conversions with different values?"
              ],
              "sqlConnection": "ROAS analysis requires accurate value tracking. SQL can calculate ROAS by segment (product category, audience, device) to identify high-value opportunities.",
              "troubleshooting": {
                "symptoms": [
                  "ROAS significantly below target",
                  "Campaign spending very little at high ROAS targets",
                  "Inconsistent ROAS day-to-day",
                  "Low-value conversions being prioritized"
                ],
                "diagnosticQuestions": [
                  "What is historical ROAS vs the target?",
                  "Is conversion value tracking accurate and complete?",
                  "Are enough conversions with value being tracked monthly?",
                  "Are there high-value conversion actions being missed?"
                ],
                "causes": [
                  {
                    "issue": "Target ROAS too aggressive for market conditions",
                    "probability": "high",
                    "resolution": "Set target 10-20% below historical ROAS, then gradually increase as algorithm optimizes",
                    "verification": "Compare target to last 30-60 days' actual ROAS"
                  },
                  {
                    "issue": "Conversion value tracking missing or inaccurate",
                    "probability": "high",
                    "resolution": "Audit conversion value implementation; ensure actual transaction values are passed, not placeholder values",
                    "verification": "Compare Google Ads conversion values to actual revenue data; check for placeholder/default values"
                  },
                  {
                    "issue": "Insufficient conversions with value for optimization",
                    "probability": "medium",
                    "resolution": "Need 50+ conversions with value monthly; consider assigning values to micro-conversions or using Target CPA while building data",
                    "verification": "Check conversion count with value in last 30 days"
                  }
                ]
              },
              "tools": ["Bid Strategy Report", "Conversion Value columns", "Ecommerce tracking", "Google Analytics Revenue data"]
            },
            {
              "id": "p2-3-5",
              "name": "Maximize Conversions / Maximize Conversion Value",
              "parentId": "p2-3",
              "priority": "must_know_cold",
              "category": "bid_strategies",
              "definition": "Smart Bidding strategies that aim to spend the full budget while getting the most conversions (Maximize Conversions) or highest conversion value (Maximize Conversion Value) possible. Unlike Target CPA/ROAS, these don't have efficiency targets.",
              "adsContext": "Maximize strategies are volume-focused: they'll spend budget to get conversions without worrying about efficiency. Useful for campaigns where volume is the priority (lead gen with backend qualification, market share goals, or as a learning phase before adding targets).",
              "tscRelevance": "TSCs help clients understand these strategies will spend aggressively without efficiency constraints. Common issues include surprise at high CPAs and not understanding that these strategies will use the full budget.",
              "keyDetails": [
                "Maximize Conversions: Gets most conversions possible within budget, CPA may be higher than Target CPA approach",
                "Maximize Conversion Value: Gets highest revenue/value possible within budget, ROAS may vary",
                "Budget-focused: Will spend full daily budget; don't use if budget flexibility is needed",
                "No targets: Unlike tCPA/tROAS, no efficiency guardrail - volume is the goal",
                "Good for learning: Can use to build conversion data before switching to target-based strategy",
                "Optional targets: Can add target CPA/ROAS as optional constraint to these strategies"
              ],
              "interviewQuestions": [
                "What's the difference between Maximize Conversions and Target CPA? When would you use each?",
                "A client switched from Target CPA to Maximize Conversions and their CPA doubled. Why?",
                "When would you recommend Maximize Conversion Value without a ROAS target?"
              ],
              "sqlConnection": "Maximize strategy analysis focuses on volume metrics and comparing efficiency before/after strategy changes.",
              "troubleshooting": {
                "symptoms": [
                  "CPA/ROAS worse than previous strategy",
                  "Budget spent very quickly each day",
                  "Unexpected high-CPA conversions",
                  "Performance less predictable than target-based strategies"
                ],
                "diagnosticQuestions": [
                  "Is volume or efficiency the primary goal?",
                  "Does the client understand the strategy will spend full budget?",
                  "Was a target (CPA/ROAS) added to constrain the strategy?",
                  "Is budget level appropriate for the market?"
                ],
                "causes": [
                  {
                    "issue": "Expecting efficiency from volume-focused strategy",
                    "probability": "high",
                    "resolution": "Clarify that Maximize strategies prioritize volume over efficiency. Add a target CPA/ROAS constraint or switch to Target CPA/ROAS.",
                    "verification": "Review strategy type; confirm whether optional target constraint is set"
                  },
                  {
                    "issue": "Budget too high for efficient conversion opportunities",
                    "probability": "medium",
                    "resolution": "Maximize will spend full budget even at poor CPAs. Reduce budget to force prioritization of efficient opportunities.",
                    "verification": "Compare daily budget to realistic conversion opportunity; check if lowering budget improves efficiency"
                  }
                ]
              },
              "tools": ["Bid Strategy Report", "Budget recommendations", "Change History"]
            }
          ]
        },
        {
          "id": "p2-4",
          "name": "Budget Configuration",
          "parentId": "phase-2",
          "priority": "must_know_cold",
          "category": "budget",
          "definition": "The setup and management of advertising budgets in Google Ads, including daily budget allocation, shared budgets across campaigns, budget pacing, and understanding over-delivery allowances.",
          "adsContext": "Budget configuration directly impacts campaign delivery and opportunity capture. Proper budget setting ensures ads show when valuable users are searching, while budget pacing determines how spend is distributed throughout the day. Understanding over-delivery rules prevents billing confusion.",
          "tscRelevance": "TSCs frequently explain budget behavior to confused advertisers: why daily spend exceeds daily budget, why campaigns are limited, and how shared budgets affect delivery. Budget troubleshooting is a common support topic.",
          "keyDetails": [
            "Daily budget: Average amount willing to spend per day; actual spend can exceed by up to 2x daily",
            "Monthly maximum: Won't exceed daily budget × 30.4 (average days/month) over billing period",
            "Shared budgets: Single budget pool across multiple campaigns; managed in Shared Library",
            "Budget pacing: Standard (spread throughout day) vs Accelerated (spend ASAP, deprecated for most)",
            "Limited by budget: Status indicating campaign could get more results with higher budget"
          ],
          "interviewQuestions": [
            "A client's daily budget is $100 but they see $180 charges on some days. Is this expected?",
            "When would you recommend shared budgets vs individual campaign budgets?",
            "How does budget interact with bid strategy in determining delivery?"
          ],
          "sqlConnection": "Budget analysis involves tracking spend patterns over time, calculating budget utilization, and comparing budgeted vs actual spend by campaign.",
          "troubleshooting": {
            "symptoms": [
              "Daily spend exceeding daily budget",
              "Campaign limited by budget despite headroom",
              "Shared budget being dominated by one campaign",
              "Uneven spend throughout the day"
            ],
            "diagnosticQuestions": [
              "What is the budget type (daily, shared)?",
              "What does the monthly spend total to?",
              "Which campaigns are on the shared budget?",
              "Is there an ad schedule limiting delivery windows?"
            ],
            "causes": [
              {
                "issue": "Client not understanding 2x over-delivery allowance",
                "probability": "high",
                "resolution": "Explain that Google can spend up to 2x daily budget on high-opportunity days, but won't exceed 30.4 × daily budget per month",
                "verification": "Show billing summary for the month; confirm total doesn't exceed monthly maximum"
              },
              {
                "issue": "One campaign consuming shared budget disproportionately",
                "probability": "medium",
                "resolution": "Campaigns with broader targeting or higher bids will spend faster from shared pool. Consider individual budgets for key campaigns.",
                "verification": "Check individual campaign spend vs shared budget total; identify dominant campaign"
              },
              {
                "issue": "Budget limited status despite willingness to spend more",
                "probability": "medium",
                "resolution": "Increase daily budget; use Performance Planner to estimate impact of budget changes",
                "verification": "Check impression share columns for 'Lost IS (budget)' metric"
              }
            ]
          },
          "tools": ["Budget settings", "Shared Library", "Performance Planner", "Budget columns", "Billing Summary"],
          "children": [
            {
              "id": "p2-4-1",
              "name": "Daily Budgets vs Shared Budgets",
              "parentId": "p2-4",
              "priority": "must_know_cold",
              "category": "budget_types",
              "definition": "Daily budgets set spend limits for individual campaigns, while shared budgets create a common pool of budget that multiple campaigns draw from. Choice affects budget control, optimization, and how campaigns compete for spend.",
              "adsContext": "Individual daily budgets provide precise control per campaign. Shared budgets allow automatic reallocation to highest-opportunity campaigns but reduce control over individual campaign spend. Shared budgets work well when campaigns have similar goals and you want maximum flexibility.",
              "tscRelevance": "TSCs help clients choose between budget types and troubleshoot shared budget issues where one campaign dominates. Understanding trade-offs is important for account structure recommendations.",
              "keyDetails": [
                "Daily budget: Set per campaign, provides precise spend control, campaign stops when depleted",
                "Shared budget: Pool across campaigns, Google redistributes based on opportunity",
                "Shared budget advantage: Captures opportunities across campaigns without micromanagement",
                "Shared budget risk: High-demand campaigns may consume most of the pool",
                "Creation: Shared budgets created in Tools & Settings > Shared Library > Budgets"
              ],
              "interviewQuestions": [
                "What are the pros and cons of shared budgets?",
                "A client has brand and non-brand Search campaigns. Would you recommend shared or separate budgets?",
                "How does Smart Bidding interact with shared budgets?"
              ],
              "sqlConnection": "Budget analysis can compare spend distribution across campaigns using a shared budget vs the expected distribution.",
              "troubleshooting": {
                "symptoms": [
                  "Campaign A spent nothing while Campaign B used entire shared budget",
                  "Difficulty tracking spend by campaign with shared budgets",
                  "Shared budget depleting too early in the day"
                ],
                "diagnosticQuestions": [
                  "What are the targeting settings of campaigns on the shared budget?",
                  "Which campaign has more query volume/opportunity?",
                  "Are the campaigns' goals compatible for shared budget?"
                ],
                "causes": [
                  {
                    "issue": "Campaign with broader targeting dominating shared budget",
                    "probability": "high",
                    "resolution": "Move dominant campaign to individual budget, or ensure all shared-budget campaigns have compatible opportunity levels",
                    "verification": "Compare each campaign's potential impressions vs actual spend share"
                  },
                  {
                    "issue": "Incompatible campaign goals sharing budget",
                    "probability": "medium",
                    "resolution": "Brand and non-brand campaigns often shouldn't share budgets; separate to ensure brand campaigns always serve",
                    "verification": "Review campaign types and goals on shared budget"
                  }
                ]
              },
              "tools": ["Shared Library > Budgets", "Budget columns", "Campaign settings"]
            },
            {
              "id": "p2-4-2",
              "name": "Budget Pacing & Over-Delivery",
              "parentId": "p2-4",
              "priority": "must_know_cold",
              "category": "budget_types",
              "definition": "Budget pacing determines how spend is distributed throughout the day (standard vs accelerated), while over-delivery rules allow Google to spend up to 2x daily budget on high-opportunity days to maximize results.",
              "adsContext": "Standard pacing (default) spreads budget throughout the day to capture opportunities during all hours. Accelerated pacing (deprecated for most campaigns) spends ASAP and may deplete budget before peak hours. Over-delivery allows Google to capitalize on high-demand days while staying within monthly limits.",
              "tscRelevance": "TSCs frequently explain over-delivery to confused clients who see daily spend exceeding their daily budget. Also help clients understand why ads stopped showing mid-day (budget pacing).",
              "keyDetails": [
                "Standard pacing: Spreads spend evenly throughout the day; may skip some auctions to preserve budget for later",
                "Accelerated pacing: Deprecated for most campaigns since 2019; was used for time-sensitive promotions",
                "Over-delivery: Google can spend up to 2x daily budget on any given day",
                "Monthly cap: Total monthly spend won't exceed daily budget × 30.4 (average days per month)",
                "Credits: If you're overcharged beyond monthly maximum, you receive automatic credit"
              ],
              "interviewQuestions": [
                "A client sees $200 spend on a day when daily budget is $100. Is this a bug? Will they be refunded?",
                "Why did Google deprecate accelerated delivery for most campaigns?",
                "How does over-delivery affect monthly billing?"
              ],
              "sqlConnection": "Pacing analysis can compare hourly spend distribution to identify if budget is depleting too early.",
              "troubleshooting": {
                "symptoms": [
                  "Daily spend significantly exceeds daily budget",
                  "Ads not showing in afternoon/evening despite morning visibility",
                  "Monthly spend higher than expected",
                  "Concerns about billing accuracy"
                ],
                "diagnosticQuestions": [
                  "What is the daily budget vs daily spend on problem days?",
                  "What is the total monthly spend vs (daily budget × 30.4)?",
                  "Is there an ad schedule concentrating delivery?",
                  "Are there high-value days (holidays, promotions) driving over-delivery?"
                ],
                "causes": [
                  {
                    "issue": "Normal over-delivery on high-opportunity days",
                    "probability": "high",
                    "resolution": "Explain 2x daily allowance and monthly cap; show that monthly total respects limits",
                    "verification": "Check billing summary for monthly total vs calculated maximum"
                  },
                  {
                    "issue": "Budget depleting early due to high morning demand",
                    "probability": "medium",
                    "resolution": "Increase budget or use ad scheduling to prioritize key hours; consider bid adjustments by hour",
                    "verification": "Check hourly distribution in Reports > Time > Hour of day"
                  },
                  {
                    "issue": "Budget too low for campaign opportunity causing pacing limitations",
                    "probability": "medium",
                    "resolution": "Increase budget to meet demand; check 'Limited by budget' status and impression share data",
                    "verification": "Review Search Impression Share Lost (budget) metric"
                  }
                ]
              },
              "tools": ["Billing Summary", "Hour of Day report", "Impression Share columns", "Budget recommendations"]
            }
          ]
        }
      ]
    },
    {
      "id": "phase-3",
      "name": "Ad Auction",
      "phaseNumber": 3,
      "priority": "must_know_cold",
      "category": "architecture",
      "funnelStage": "Intent",
      "summary": "The real-time auction system that determines which ads show, in what position, and at what cost for every Google search query",
      "adsContext": "The ad auction is the core engine of Google Ads. Every search triggers an instantaneous auction where eligible ads compete based on Ad Rank (bid × Quality Score × expected impact of extensions). Understanding auction mechanics is fundamental to diagnosing why ads aren't showing, why CPCs are high, and how to improve performance.",
      "dataFlowIn": "User search query, eligible ads from targeting phase, bid strategy settings, Quality Score components, ad extensions",
      "dataFlowOut": "Winning ads with positions, actual CPCs charged, impression and click data, auction insights",
      "children": [
        {
          "id": "p3-1",
          "name": "Auction Mechanics",
          "parentId": "phase-3",
          "priority": "must_know_cold",
          "category": "auction_system",
          "definition": "The real-time process by which Google determines which ads to show for each search query. Auctions run instantaneously (<100ms) for every query, evaluating all eligible ads and determining winners based on Ad Rank.",
          "adsContext": "Google runs billions of auctions per day, each completing in under 100 milliseconds. Every auction is independent - there's no 'winning' an auction for an hour or a day. The system parses the query, identifies matching keywords, determines eligible ads, calculates Ad Rank for each, and selects winners in real-time.",
          "tscRelevance": "TSCs must understand that auctions are per-query, not periodic. This explains why performance varies by query, time, and user signals. Common misconceptions include thinking you can 'lock in' a position or that auction results persist.",
          "keyDetails": [
            "Real-time execution: Each auction completes in <100 milliseconds from query to ad selection",
            "Scale: Google processes billions of ad auctions daily across Search, Display, YouTube, and other properties",
            "Query parsing: System analyzes search query for intent, context, location, device, time, and user signals",
            "Keyword matching: Query is matched against advertiser keywords using match type logic (exact, phrase, broad)",
            "Eligibility determination: Only ads meeting targeting criteria, policy requirements, budget availability, and active status enter auction",
            "Per-query independence: Each search triggers a fresh auction; previous results don't guarantee future position"
          ],
          "interviewQuestions": [
            "Walk me through what happens from the moment a user types a search query to when ads appear.",
            "A client says they had position 1 yesterday but position 3 today with no changes. How do you explain this?",
            "Why does Google run a new auction for every query instead of caching results?"
          ],
          "sqlConnection": "Auction data can be analyzed via Auction Insights report. SQL queries can identify patterns in impression share, overlap rate, and position metrics across time periods and segments.",
          "troubleshooting": {
            "symptoms": [
              "Ad position fluctuating significantly",
              "Ads not entering auctions despite eligible status",
              "Impression share lower than expected",
              "Inconsistent performance across similar queries"
            ],
            "diagnosticQuestions": [
              "Is the keyword status showing as eligible?",
              "Are there budget constraints limiting auction entry?",
              "What does Auction Insights show about competitive landscape?",
              "Are there time-of-day or device patterns in the fluctuations?"
            ],
            "causes": [
              {
                "issue": "Budget exhaustion preventing auction entry",
                "probability": "high",
                "resolution": "Increase budget or check for budget pacing issues causing mid-day depletion",
                "verification": "Check 'Limited by budget' status, review Search Impression Share Lost (budget)"
              },
              {
                "issue": "Quality Score too low for competitive Ad Rank",
                "probability": "high",
                "resolution": "Improve Quality Score components (expected CTR, ad relevance, landing page experience)",
                "verification": "Check Quality Score column and component breakdowns"
              },
              {
                "issue": "Competitors entering/exiting auctions causing position variance",
                "probability": "medium",
                "resolution": "Monitor Auction Insights for new competitors; focus on improving Ad Rank rather than chasing position",
                "verification": "Review Auction Insights overlap rate and position above rate trends"
              }
            ]
          },
          "tools": ["Auction Insights", "Keyword Diagnosis", "Ad Preview Tool", "Search Impression Share columns"]
        },
        {
          "id": "p3-2",
          "name": "Ad Rank Calculation",
          "parentId": "phase-3",
          "priority": "must_know_cold",
          "category": "auction_system",
          "definition": "The formula Google uses to determine ad position and eligibility in the auction. Ad Rank = Bid × Quality Score × Expected Impact of Extensions. Ads must meet a minimum Ad Rank threshold to show, and position is determined by relative Ad Rank among competitors.",
          "adsContext": "Ad Rank is the single most important concept in Google Ads auction mechanics. It combines three factors: what you're willing to pay (bid), how relevant/useful your ad is (Quality Score), and the expected contribution of your ad extensions. Higher Ad Rank means better position AND potentially lower costs due to second-price auction mechanics.",
          "tscRelevance": "TSCs constantly use Ad Rank to explain performance: why ads aren't showing (below threshold), why CPCs are high (low Quality Score requiring higher bids), and why position dropped (competitor improved their Ad Rank). This is MUST KNOW COLD for interviews.",
          "keyDetails": [
            "Formula: Ad Rank = Max CPC Bid × Quality Score × Expected Impact of Extensions and Ad Formats",
            "Position determination: Highest Ad Rank gets position 1, second highest gets position 2, etc.",
            "Ad Rank threshold: Minimum Ad Rank required to show in a given position; varies by query competitiveness",
            "Second-price auction: You pay just enough to beat the next competitor's Ad Rank, not your max bid",
            "Actual CPC formula: (Ad Rank of advertiser below you ÷ Your Quality Score) + $0.01",
            "Example calculation: If your bid is $2, QS is 8, and extensions boost by 1.1x, Ad Rank = 2 × 8 × 1.1 = 17.6"
          ],
          "interviewQuestions": [
            "Write out the Ad Rank formula and explain each component.",
            "Advertiser A bids $3 with QS 6. Advertiser B bids $2 with QS 10. Who wins position 1 and why?",
            "How does Quality Score affect both ad position AND actual cost per click?"
          ],
          "sqlConnection": "While Ad Rank itself isn't directly exposed, you can analyze its components (bid, Quality Score) and outcomes (position, actual CPC) to infer Ad Rank dynamics.",
          "troubleshooting": {
            "symptoms": [
              "Low ad position despite high bids",
              "Actual CPC close to or at max bid",
              "Ads not showing (below threshold)",
              "Position dropped without bid changes"
            ],
            "diagnosticQuestions": [
              "What is the Quality Score for the affected keywords?",
              "Are ad extensions enabled and showing?",
              "What is the Ad Rank threshold for these queries (competitiveness)?",
              "Has competitive landscape changed per Auction Insights?"
            ],
            "causes": [
              {
                "issue": "Low Quality Score dragging down Ad Rank",
                "probability": "high",
                "resolution": "Quality Score has equal weight to bid. A QS of 4 vs 8 means you need 2x the bid for same Ad Rank. Improve QS components.",
                "verification": "Check QS column; if below 6, prioritize QS improvements over bid increases"
              },
              {
                "issue": "No extensions reducing Ad Rank multiplier",
                "probability": "medium",
                "resolution": "Add all relevant extensions (sitelinks, callouts, structured snippets, call, location). Extensions improve Ad Rank at no extra cost.",
                "verification": "Check Assets tab for extension coverage; ensure extensions are approved and showing"
              },
              {
                "issue": "Below Ad Rank threshold for query",
                "probability": "medium",
                "resolution": "Highly competitive queries have higher thresholds. Improve all Ad Rank components or target less competitive queries.",
                "verification": "Use Keyword Diagnosis to check if keyword can trigger ads; review 'Eligible (limited)' status"
              }
            ]
          },
          "tools": ["Quality Score columns", "Extensions/Assets tab", "Keyword Diagnosis", "Auction Insights"],
          "children": [
            {
              "id": "p3-2-1",
              "name": "Second-Price Auction Mechanics",
              "parentId": "p3-2",
              "priority": "must_know_cold",
              "category": "pricing_mechanics",
              "definition": "Google's auction model where the winning advertiser pays just enough to beat the next highest Ad Rank, plus $0.01, rather than paying their maximum bid. This creates incentives for truthful bidding and rewards high Quality Score.",
              "adsContext": "The second-price auction is fundamental to Google Ads economics. You never pay more than necessary to maintain your position. This means actual CPC is almost always below max CPC bid, and improving Quality Score directly reduces costs.",
              "tscRelevance": "TSCs must be able to walk through second-price calculation examples. Clients often don't understand why they're charged less than their bid, or why improving Quality Score saves money.",
              "keyDetails": [
                "Actual CPC Formula: (Ad Rank to beat ÷ Your Quality Score) + $0.01",
                "Example: Competitor Ad Rank = 12, Your QS = 8. Actual CPC = (12 ÷ 8) + $0.01 = $1.51",
                "Your bid could be $5, but you only pay $1.51 to hold position",
                "Higher QS = Lower denominator = Lower actual CPC for same position",
                "At position 1 with no competitor: You pay the minimum threshold to show, not your max bid",
                "Truthful bidding: System incentivizes bidding your true value since you only pay what's necessary"
              ],
              "interviewQuestions": [
                "Walk me through a second-price auction example with specific numbers.",
                "Three advertisers: A bids $4 (QS 5), B bids $3 (QS 7), C bids $2 (QS 10). Calculate positions and actual CPCs.",
                "A client doubled their bid but CPC only increased slightly. Why?"
              ],
              "sqlConnection": "Compare max CPC bid to actual CPC across keywords to see second-price savings. Higher QS keywords should show larger gap between max bid and actual CPC.",
              "troubleshooting": {
                "symptoms": [
                  "Actual CPC equals or nearly equals max CPC bid",
                  "Confusion about why CPC is less than bid",
                  "CPC increased despite no bid change"
                ],
                "diagnosticQuestions": [
                  "What is the Quality Score? (Low QS = higher CPC)",
                  "Has competition increased per Auction Insights?",
                  "Is the max bid appropriate for the competitive landscape?"
                ],
                "causes": [
                  {
                    "issue": "Actual CPC near max bid indicates intense competition or low QS",
                    "probability": "high",
                    "resolution": "Improve Quality Score to lower the denominator in CPC calculation. If QS is already high, competition is simply strong.",
                    "verification": "Check QS; if above 7 and still paying near max bid, market is highly competitive"
                  },
                  {
                    "issue": "CPC rose because competitor improved their Ad Rank",
                    "probability": "medium",
                    "resolution": "You now need higher Ad Rank to beat them, so your CPC increases. Focus on your own Ad Rank components.",
                    "verification": "Check Auction Insights for position above rate changes from competitors"
                  }
                ]
              },
              "tools": ["Avg CPC column", "Max CPC column", "Quality Score", "Auction Insights"]
            }
          ]
        },
        {
          "id": "p3-3",
          "name": "Quality Score Deep Dive",
          "parentId": "phase-3",
          "priority": "must_know_cold",
          "category": "quality_system",
          "definition": "A 1-10 diagnostic score that estimates the quality and relevance of your ads, keywords, and landing pages. Quality Score is composed of three components: Expected CTR, Ad Relevance, and Landing Page Experience. The diagnostic score differs from the real-time auction-time quality used in Ad Rank.",
          "adsContext": "Quality Score is Google's way of ensuring ad quality and user experience. High Quality Score advertisers pay less per click and get better positions. The 1-10 score shown in the UI is a diagnostic tool; actual auction-time quality calculations use real-time signals including device, location, time, and query specifics.",
          "tscRelevance": "Quality Score troubleshooting is a daily TSC activity. Understanding that the visible 1-10 score is diagnostic (aggregated historical) while auctions use real-time quality helps explain discrepancies between expected and actual performance.",
          "keyDetails": [
            "Components: Expected CTR + Ad Relevance + Landing Page Experience, each rated Below Average, Average, or Above Average",
            "Scale: 1-10, where 1-4 is poor, 5-6 is average, 7+ is good",
            "Diagnostic vs Auction-time: UI shows aggregated diagnostic score; actual auctions use real-time calculations with additional signals",
            "Real-time signals include: Exact search query, device type, user location, time of day, ad creative being shown",
            "Improving QS: Match ads to keywords (relevance), write compelling ads (CTR), optimize landing pages (experience)",
            "Impact: A QS of 4 vs 8 means you need 2x the bid to achieve the same Ad Rank"
          ],
          "interviewQuestions": [
            "Explain the three components of Quality Score and how to improve each.",
            "What's the difference between the Quality Score shown in the UI and the quality used in the actual auction?",
            "A keyword has QS 7 but ad position is still low. What could explain this?"
          ],
          "sqlConnection": "Quality Score data can be exported and analyzed by campaign, ad group, and keyword. SQL analysis identifies patterns in low-QS keywords by ad group structure or landing page.",
          "troubleshooting": {
            "symptoms": [
              "Low Quality Score despite good CTR",
              "Quality Score different from expected based on performance",
              "QS 7+ but still paying high CPCs",
              "Sudden Quality Score drop"
            ],
            "diagnosticQuestions": [
              "Which component(s) are rated Below Average?",
              "Is the keyword tightly aligned with ad copy?",
              "What is the landing page experience (speed, relevance, mobile-friendly)?",
              "Have ads or landing pages changed recently?"
            ],
            "causes": [
              {
                "issue": "Landing Page Experience dragging down QS",
                "probability": "high",
                "resolution": "Check Core Web Vitals, ensure mobile-friendly design, match landing page content to keyword intent",
                "verification": "Run PageSpeed Insights, check Mobile-Friendly Test, verify content relevance"
              },
              {
                "issue": "Ad Relevance low due to keyword-ad mismatch",
                "probability": "high",
                "resolution": "Include the keyword (or close variant) in ad headlines; restructure ad groups for tighter themes",
                "verification": "Check if primary keyword appears in ad headlines and descriptions"
              },
              {
                "issue": "Expected CTR Below Average despite actual good CTR",
                "probability": "medium",
                "resolution": "Expected CTR is position-normalized. Your actual CTR might be high only because of position, not ad quality. Improve ad copy.",
                "verification": "Compare CTR to industry benchmarks for similar positions"
              }
            ]
          },
          "tools": ["Quality Score columns", "PageSpeed Insights", "Mobile-Friendly Test", "Landing Page Report", "Ad Strength"],
          "children": [
            {
              "id": "p3-3-1",
              "name": "Expected CTR",
              "parentId": "p3-3",
              "priority": "must_know_cold",
              "category": "quality_components",
              "definition": "A Quality Score component that predicts how likely users are to click your ad when shown for a keyword. Google uses historical performance data and ML models to estimate CTR, normalizing for ad position effects.",
              "adsContext": "Expected CTR predicts click-through likelihood based on your ad's historical performance and ML predictions. It's position-normalized, meaning Google estimates what your CTR would be regardless of position. An ad in position 4 with high actual CTR might have good Expected CTR because the model accounts for position.",
              "tscRelevance": "TSCs explain that Expected CTR isn't just your raw CTR - it's Google's prediction of how compelling your ad is relative to competitors and accounting for position. Improving Expected CTR requires better ad copy, not just bidding for better positions.",
              "keyDetails": [
                "ML-based prediction: Uses historical CTR data plus machine learning to predict future performance",
                "Position-normalized: Estimates CTR independent of current position to fairly compare ads",
                "Historical performance: Your keyword's past CTR heavily influences the prediction",
                "Ratings: Above Average, Average, Below Average - no numeric score shown",
                "Improvement: Write more compelling headlines, use emotional triggers, include keywords, add urgency",
                "New keywords: Start with estimated CTR; builds history over time"
              ],
              "interviewQuestions": [
                "Why is Expected CTR 'position-normalized' and why does that matter?",
                "A keyword has 5% CTR in position 4 but Expected CTR shows Below Average. How is this possible?",
                "How would you improve Expected CTR for underperforming keywords?"
              ],
              "sqlConnection": "CTR analysis by position segment helps understand true ad quality. SQL can calculate position-normalized CTR by comparing to benchmarks per position.",
              "troubleshooting": {
                "symptoms": [
                  "Expected CTR Below Average despite decent actual CTR",
                  "New keywords starting with poor Expected CTR",
                  "Expected CTR not improving despite ad changes"
                ],
                "diagnosticQuestions": [
                  "What is the actual CTR and in what positions?",
                  "How does the ad copy compare to competitor ads?",
                  "Are the keywords and ads tightly matched?",
                  "Have you tested multiple ad variations?"
                ],
                "causes": [
                  {
                    "issue": "Actual CTR inflated by low position (position 4-5 has lower expectations)",
                    "probability": "medium",
                    "resolution": "Position-normalized CTR accounts for this. Focus on ad copy improvements, not position.",
                    "verification": "Compare CTR to position benchmarks; position 1 benchmark ~6-7%, position 4 ~2-3%"
                  },
                  {
                    "issue": "Ad copy less compelling than competitors",
                    "probability": "high",
                    "resolution": "Use Ad Preview to see competitor ads; add unique selling points, numbers, CTAs to your ads",
                    "verification": "Review competitor ads via Ad Preview tool, test new ad variations"
                  }
                ]
              },
              "tools": ["CTR columns", "Ad Preview Tool", "RSA combinations report", "A/B testing"]
            },
            {
              "id": "p3-3-2",
              "name": "Ad Relevance",
              "parentId": "p3-3",
              "priority": "must_know_cold",
              "category": "quality_components",
              "definition": "A Quality Score component measuring how closely your ad content matches the intent behind a user's search. High ad relevance indicates your ad text directly addresses what users searching this keyword are looking for.",
              "adsContext": "Ad Relevance evaluates keyword-to-ad alignment. If someone searches 'red running shoes' and your ad talks about 'athletic footwear,' relevance suffers. Tight ad group structure (few related keywords per ad group) enables highly relevant ad copy for each keyword theme.",
              "tscRelevance": "TSCs frequently recommend restructuring ad groups for better relevance. The classic symptom is an ad group with 100+ diverse keywords and generic ads trying to cover all of them, resulting in poor relevance for each.",
              "keyDetails": [
                "Keyword-to-ad matching: Does the ad text address the search intent implied by the keyword?",
                "Include keywords: Ads containing the keyword (or close variants) in headlines typically show higher relevance",
                "Ad group structure: Tight themes allow specific ad copy; broad ad groups force generic messaging",
                "Ratings: Above Average, Average, Below Average",
                "Dynamic insertion: Keyword insertion {KeyWord:Default} can help but isn't a substitute for themed ad groups",
                "RSA considerations: Multiple headlines increase chance of relevant combination for each query"
              ],
              "interviewQuestions": [
                "How does ad group structure impact Ad Relevance scores?",
                "A client has one ad group with 200 keywords and generic ads. What's your recommendation?",
                "Besides including keywords in ads, what else affects Ad Relevance?"
              ],
              "sqlConnection": "Ad relevance issues can be identified by analyzing which ad groups have diverse keyword themes. SQL can cluster keywords by similarity to find restructuring opportunities.",
              "troubleshooting": {
                "symptoms": [
                  "Ad Relevance Below Average across multiple keywords",
                  "Same ad serving for very different keywords",
                  "RSAs showing poor asset combinations"
                ],
                "diagnosticQuestions": [
                  "How many keywords are in the ad group?",
                  "Do the ads include primary keywords in headlines?",
                  "Are the keywords in this ad group thematically related?",
                  "What does the RSA combinations report show?"
                ],
                "causes": [
                  {
                    "issue": "Too many diverse keywords in one ad group",
                    "probability": "high",
                    "resolution": "Split ad group by theme: group similar keywords together, write specific ads for each theme",
                    "verification": "Check keyword count per ad group; ideally 5-20 tightly themed keywords"
                  },
                  {
                    "issue": "Ad copy doesn't mention keyword or related terms",
                    "probability": "high",
                    "resolution": "Include primary keyword in at least 2-3 RSA headlines; ensure descriptions reference the keyword theme",
                    "verification": "Check ad headlines for keyword presence; review RSA strength indicator"
                  }
                ]
              },
              "tools": ["RSA combinations report", "Ad Strength", "Keyword Insertion", "Google Ads Editor (restructuring)"]
            },
            {
              "id": "p3-3-3",
              "name": "Landing Page Experience",
              "parentId": "p3-3",
              "priority": "must_know_cold",
              "category": "quality_components",
              "definition": "A Quality Score component evaluating how relevant, useful, and user-friendly your landing page is for users who click your ad. Google assesses content relevance, page speed (Core Web Vitals), mobile-friendliness, navigation, and trustworthiness.",
              "adsContext": "Landing Page Experience ensures users find what they expect after clicking. Google measures actual page experience signals including load time, interactivity, visual stability (Core Web Vitals), plus content relevance to the ad/keyword. Poor landing pages waste ad spend and user trust.",
              "tscRelevance": "TSCs often find landing page issues causing Quality Score problems. This is where technical and marketing optimization converge. Recommendations involve both content relevance AND technical performance.",
              "keyDetails": [
                "Core Web Vitals: LCP (Largest Contentful Paint) <2.5s, FID (First Input Delay) <100ms, CLS (Cumulative Layout Shift) <0.1",
                "Mobile-friendly: Page must render properly on mobile devices; use responsive design",
                "Content relevance: Landing page should directly address the keyword/ad promise - don't send all traffic to homepage",
                "Trust signals: Secure (HTTPS), clear contact info, privacy policy, testimonials",
                "Navigation: Easy to use, clear next steps, minimal intrusive interstitials",
                "Ratings: Above Average, Average, Below Average"
              ],
              "interviewQuestions": [
                "What are the Core Web Vitals and why do they matter for Google Ads?",
                "A client's landing page has great content but Landing Page Experience is Below Average. What would you check?",
                "How would you diagnose a landing page experience problem?"
              ],
              "sqlConnection": "Landing page performance can be correlated with Quality Score at the URL level. SQL can identify low-performing landing pages by aggregating QS metrics.",
              "troubleshooting": {
                "symptoms": [
                  "Landing Page Experience Below Average",
                  "Good ad relevance and CTR but still low QS",
                  "Mobile-specific performance issues"
                ],
                "diagnosticQuestions": [
                  "What do Core Web Vitals metrics show?",
                  "Is the page mobile-friendly?",
                  "Does the landing page content match the ad/keyword intent?",
                  "Are there interstitials or pop-ups blocking content?"
                ],
                "causes": [
                  {
                    "issue": "Poor Core Web Vitals (slow load, layout shift)",
                    "probability": "high",
                    "resolution": "Optimize images, reduce JavaScript, use CDN, lazy load below-fold content, fix layout shifts",
                    "verification": "Run PageSpeed Insights, check Core Web Vitals report in Search Console"
                  },
                  {
                    "issue": "Landing page not relevant to keyword/ad",
                    "probability": "high",
                    "resolution": "Create dedicated landing pages for key themes; don't send all traffic to homepage",
                    "verification": "Manually check: does the landing page immediately address the keyword search intent?"
                  },
                  {
                    "issue": "Not mobile-friendly",
                    "probability": "medium",
                    "resolution": "Implement responsive design, test on multiple devices, fix touch targets and font sizes",
                    "verification": "Use Mobile-Friendly Test tool, test on actual mobile devices"
                  }
                ]
              },
              "tools": ["PageSpeed Insights", "Mobile-Friendly Test", "Core Web Vitals report", "Search Console", "Lighthouse"]
            }
          ]
        },
        {
          "id": "p3-4",
          "name": "Ad Creative & Extensions",
          "parentId": "phase-3",
          "priority": "must_know_cold",
          "category": "ad_formats",
          "definition": "The ad content shown to users including Responsive Search Ads (RSAs), ad extensions/assets that enhance ads with additional information, and how these elements contribute to Ad Rank and user engagement.",
          "adsContext": "Modern Search ads are Responsive Search Ads (RSAs) where advertisers provide up to 15 headlines and 4 descriptions, and Google's ML assembles the best combination for each auction. Ad extensions (now called 'assets') add additional information like sitelinks, callouts, and phone numbers, improving CTR and Ad Rank at no extra cost per click.",
          "tscRelevance": "TSCs help optimize RSAs for Ad Strength and combination effectiveness, troubleshoot extension disapprovals, and explain how extensions impact Ad Rank. Understanding RSA best practices and extension types is essential.",
          "keyDetails": [
            "RSAs: 15 headlines (30 char), 4 descriptions (90 char) provided; Google ML selects best combinations per auction",
            "Ad Strength: Google's rating of RSA quality (Poor → Excellent) based on headline/description relevance, uniqueness, and keyword inclusion",
            "Extensions/Assets: Sitelinks, Callouts, Structured Snippets, Call, Location, Price, Promotion, Image",
            "Extension Ad Rank impact: Extensions improve Ad Rank without increasing CPC - it's free performance boost",
            "Auction-time assembly: RSA combinations selected at auction time based on query, device, user signals",
            "Minimum RSAs: At least one RSA required per ad group; 3+ RSAs recommended for optimal rotation"
          ],
          "interviewQuestions": [
            "What's the structure of a Responsive Search Ad and how does Google select which elements to show?",
            "How do ad extensions impact Ad Rank and actual CPC?",
            "A client's RSA has 'Poor' Ad Strength. How would you improve it?"
          ],
          "sqlConnection": "RSA performance can be analyzed by asset (headline/description) to identify top performers. Extension click data shows which extensions drive engagement.",
          "troubleshooting": {
            "symptoms": [
              "RSA showing same combination repeatedly",
              "Ad Strength stuck at 'Poor' or 'Average'",
              "Extensions not showing despite being eligible",
              "Low CTR on RSAs"
            ],
            "diagnosticQuestions": [
              "How many unique headlines and descriptions are provided?",
              "Are headlines sufficiently different from each other?",
              "What is the Ad Strength rating and recommendations?",
              "Are all relevant extension types enabled?"
            ],
            "causes": [
              {
                "issue": "Too few or too similar headlines/descriptions",
                "probability": "high",
                "resolution": "Add more unique headlines (aim for 10+), include keywords in 3-5 headlines, vary messaging angles",
                "verification": "Check RSA editor for headline count and uniqueness warnings"
              },
              {
                "issue": "Extensions not approved or below Ad Rank threshold",
                "probability": "medium",
                "resolution": "Review extension status; ensure all extensions approved. Extensions show only when Ad Rank is high enough.",
                "verification": "Check Assets tab for approval status; higher positions more likely to show extensions"
              },
              {
                "issue": "RSA pinning limiting Google's optimization",
                "probability": "medium",
                "resolution": "Avoid pinning unless necessary; pinning restricts ML's ability to find optimal combinations",
                "verification": "Review RSA settings for pinned headlines/descriptions"
              }
            ]
          },
          "tools": ["RSA Editor", "Ad Strength", "Assets tab", "Combinations report", "Asset performance ratings"],
          "children": [
            {
              "id": "p3-4-1",
              "name": "Responsive Search Ads (RSAs)",
              "parentId": "p3-4",
              "priority": "must_know_cold",
              "category": "ad_formats",
              "definition": "Google's primary Search ad format where advertisers provide multiple headlines (up to 15) and descriptions (up to 4), and Google's machine learning automatically tests and shows the best-performing combinations for each query and user.",
              "adsContext": "RSAs replaced Expanded Text Ads (ETAs) as the standard Search ad format in 2022. The ML system tests combinations to optimize CTR, testing which headlines work best together and for which queries. Ad Strength provides guidance on asset quality and variety.",
              "tscRelevance": "TSCs help clients optimize RSAs by improving Ad Strength, understanding combination reports, and avoiding common mistakes like similar headlines or excessive pinning.",
              "keyDetails": [
                "Structure: Up to 15 headlines (30 chars each), up to 4 descriptions (90 chars each)",
                "Minimum requirements: 3 headlines and 2 descriptions required",
                "Display: Up to 3 headlines and 2 descriptions shown at once (varies by device/format)",
                "ML optimization: Google tests 43,680 possible combinations (15×14×13 headlines × 4×3 descriptions)",
                "Pinning: Can pin specific assets to positions, but limits ML optimization",
                "Ad Strength ratings: Poor, Average, Good, Excellent - aim for 'Good' or better"
              ],
              "interviewQuestions": [
                "How many possible RSA combinations exist with 15 headlines and 4 descriptions?",
                "When would pinning RSA headlines be appropriate vs harmful?",
                "A client's RSAs have Excellent Ad Strength but low CTR. What would you investigate?"
              ],
              "sqlConnection": "Asset-level reporting shows impressions and performance for individual headlines/descriptions, enabling data-driven optimization.",
              "troubleshooting": {
                "symptoms": [
                  "Ad Strength below 'Good'",
                  "Certain headlines never showing",
                  "RSA CTR declining over time",
                  "Combinations report shows limited testing"
                ],
                "diagnosticQuestions": [
                  "Are there enough unique headlines covering different angles?",
                  "Do headlines include target keywords?",
                  "Is pinning being overused?",
                  "What does the asset performance column show?"
                ],
                "causes": [
                  {
                    "issue": "Headlines too similar limiting combination variety",
                    "probability": "high",
                    "resolution": "Create headlines with different angles: features, benefits, CTAs, questions, numbers, brand, urgency",
                    "verification": "Review headlines for variety; Ad Strength will flag similarity"
                  },
                  {
                    "issue": "No keywords in headlines",
                    "probability": "high",
                    "resolution": "Include primary keywords in 3-5 headlines for relevance; use in position 1 headlines",
                    "verification": "Check if any headlines contain ad group's primary keywords"
                  },
                  {
                    "issue": "Excessive pinning preventing optimization",
                    "probability": "medium",
                    "resolution": "Only pin when legal/compliance requires it; otherwise let ML optimize",
                    "verification": "Review RSA settings; remove pins unless absolutely necessary"
                  }
                ]
              },
              "tools": ["RSA Editor", "Ad Strength indicator", "Asset performance (Columns)", "Combinations report"]
            },
            {
              "id": "p3-4-2",
              "name": "Ad Extensions (Assets)",
              "parentId": "p3-4",
              "priority": "must_know_cold",
              "category": "ad_formats",
              "definition": "Additional information and links that enhance your text ads, making them more prominent and useful. Extensions include sitelinks, callouts, structured snippets, call, location, price, promotion, and image assets. They improve Ad Rank without increasing CPC.",
              "adsContext": "Extensions expand ad real estate and provide more reasons to click. They directly impact Ad Rank (part of the formula) and improve CTR by 10-15% on average. Extensions are free - you don't pay extra when someone clicks an extension vs the main ad.",
              "tscRelevance": "TSCs ensure clients have all relevant extensions enabled and troubleshoot extension disapprovals. Extensions are a quick win for Ad Rank improvement without increasing bids.",
              "keyDetails": [
                "Sitelinks: Additional links to specific pages (4-6 recommended); 25 char title, 35 char description ×2",
                "Callouts: Short benefit highlights (25 chars); show as comma-separated list",
                "Structured Snippets: Category:values format (Brands, Services, Types, etc.)",
                "Call extensions: Phone number shown; can schedule hours",
                "Location extensions: Shows address/map; requires Google Business Profile link",
                "Price extensions: Product/service pricing in card format",
                "Promotion extensions: Special offers with occasion tags (Black Friday, etc.)",
                "Image extensions: Visual image alongside text ad"
              ],
              "interviewQuestions": [
                "List the main extension types and when you'd use each.",
                "How do extensions affect Ad Rank calculation? Do you pay more when they show?",
                "A client's extensions are eligible but rarely showing. What could cause this?"
              ],
              "sqlConnection": "Extension performance data shows clicks by extension type. SQL analysis can identify which extensions drive engagement and conversion value.",
              "troubleshooting": {
                "symptoms": [
                  "Extensions not showing in ads",
                  "Extension disapproved",
                  "Low extension clickthrough rate",
                  "Location extension showing wrong address"
                ],
                "diagnosticQuestions": [
                  "What is the extension approval status?",
                  "Is Ad Rank high enough for extensions to show?",
                  "Are extensions relevant to the ad groups/campaigns they're assigned to?",
                  "Is Google Business Profile correctly linked (for location)?"
                ],
                "causes": [
                  {
                    "issue": "Ad Rank too low for extensions to display",
                    "probability": "high",
                    "resolution": "Extensions only show when Ad Rank is strong enough. Improve bid, Quality Score, or both.",
                    "verification": "Higher positions show extensions more often; check position and impression share"
                  },
                  {
                    "issue": "Extension disapproved for policy violation",
                    "probability": "medium",
                    "resolution": "Review disapproval reason in Assets tab; edit to comply with policy",
                    "verification": "Check extension status column for disapproval reason"
                  },
                  {
                    "issue": "Location extension not linked to correct Google Business Profile",
                    "probability": "medium",
                    "resolution": "Verify Google Business Profile connection in Linked accounts; ensure correct location selected",
                    "verification": "Check Linked accounts > Google Business Profile settings"
                  }
                ]
              },
              "tools": ["Assets tab", "Google Business Profile", "Extension reports", "Policy Manager"]
            }
          ]
        },
        {
          "id": "p3-5",
          "name": "Ad Disapprovals & Policy",
          "parentId": "phase-3",
          "priority": "must_know_cold",
          "category": "policy_compliance",
          "definition": "The policy framework governing what ads can say and promote, including the review process, common disapproval reasons, appeal procedures, and compliance requirements across restricted industries.",
          "adsContext": "All Google Ads undergo automated and manual policy review. Ads can be disapproved for content issues (what the ad says), destination issues (landing page problems), or business practices (what's being advertised). Repeated violations can lead to account suspension.",
          "tscRelevance": "TSCs handle policy-related tickets daily: explaining disapprovals, guiding appeals, and helping clients comply with industry-specific restrictions. Understanding policy enforcement is essential for technical support.",
          "keyDetails": [
            "Review process: Automated ML review (seconds) + human review for flagged cases (1-2 business days)",
            "Common disapprovals: Trademark violations, misleading claims, restricted content, destination mismatch, malware",
            "Restricted industries: Healthcare/pharma, financial services, alcohol, gambling - require certification or have geo restrictions",
            "Appeal process: Request review in Ads UI → Google reviews → Approved or upheld disapproval",
            "Account-level impact: Repeated violations can lead to warnings, then account suspension",
            "Policy updates: Google regularly updates policies; existing ads may be re-reviewed"
          ],
          "interviewQuestions": [
            "A client's ad is disapproved for 'Misleading content.' Walk me through how you'd help them.",
            "What's the difference between a disapproved ad and a suspended account?",
            "Name three restricted advertising categories and explain the requirements for each."
          ],
          "sqlConnection": "Policy status can be tracked in bulk via API/Editor exports. SQL analysis can identify patterns in disapprovals by ad group, campaign, or time period.",
          "troubleshooting": {
            "symptoms": [
              "Ad disapproved - not running",
              "Appeal denied without clear explanation",
              "Ads approved then later disapproved",
              "Account suspension warning"
            ],
            "diagnosticQuestions": [
              "What is the specific disapproval reason shown?",
              "Does the ad or landing page contain the flagged content?",
              "Is this a restricted industry requiring certification?",
              "How many policy violations has the account had recently?"
            ],
            "causes": [
              {
                "issue": "Trademark used in ad text without authorization",
                "probability": "high",
                "resolution": "Remove trademark from ad text, or apply for trademark authorization if you're authorized reseller/affiliate",
                "verification": "Review ad text for competitor brand names; check trademark policy"
              },
              {
                "issue": "Landing page doesn't match ad content",
                "probability": "high",
                "resolution": "Ensure landing page delivers on ad promises; ad and landing page must align",
                "verification": "Manually check landing page for content matching ad claims"
              },
              {
                "issue": "Restricted industry without proper certification",
                "probability": "medium",
                "resolution": "Apply for required certification (healthcare, financial services, etc.) via Google Ads settings",
                "verification": "Check if business category requires certification; apply if eligible"
              },
              {
                "issue": "Malware or unwanted software on landing page",
                "probability": "medium",
                "resolution": "Scan and clean landing page/site; resubmit for review once clean",
                "verification": "Use Google Safe Browsing tool, check Search Console for security issues"
              }
            ]
          },
          "tools": ["Policy Manager", "Ad status column", "Appeal request", "Trademark authorization form", "Google Safe Browsing"]
        }
      ]
    },
    {
      "id": "phase-4",
      "name": "Ad Serving & Click",
      "phaseNumber": 4,
      "priority": "must_know_cold",
      "category": "web_tech",
      "funnelStage": "Intent / Action",
      "summary": "The complete technical journey from ad impression to landing page load, covering HTTP protocol, redirect chains, GCLID tracking, browser rendering, and web performance fundamentals",
      "adsContext": "This phase covers the most interview-critical web technologies for a TSC role. Understanding HTTP flow, redirect chains for tracking, cookie mechanics, and Core Web Vitals is essential for diagnosing why conversions aren't tracking, landing pages are slow, or tags aren't firing. CSP blocking is the #1 cause of tag failures in the field.",
      "dataFlowIn": "Winning ad from auction, user click event, GCLID parameters, tracking URLs, parallel tracking configuration",
      "dataFlowOut": "Landing page rendered, GCLID stored in cookie (_gcl_aw), conversion tracking initialized, page performance metrics recorded",
      "children": [
        {
          "id": "p4-1",
          "name": "SERP Rendering & Ad Display",
          "parentId": "phase-4",
          "priority": "know_well",
          "category": "ad_display",
          "definition": "The process by which Google renders ads on the Search Engine Results Page (SERP), including ad positioning, formatting, labeling requirements, and visual hierarchy alongside organic results.",
          "adsContext": "Ads appear in designated positions on the SERP - typically above organic results (top ads) and below (bottom ads). Each ad position has different visibility and CTR expectations. Ad labels ('Sponsored' or 'Ad') are legally required and affect user perception.",
          "tscRelevance": "TSCs need to explain why ad position matters for CTR, how ad extensions affect visual prominence, and why clients may see different ad appearances in different contexts (device, location, etc.).",
          "keyDetails": [
            "Top ads: Up to 4 ads above organic results - highest visibility, highest CTR, highest CPC",
            "Bottom ads: Up to 3 ads below organic results - lower visibility but often cheaper CPCs",
            "Ad labels: 'Sponsored' label required for regulatory compliance; previously 'Ad' label",
            "Ad extensions: Sitelinks, callouts, structured snippets increase ad real estate and CTR",
            "Mobile vs Desktop: Mobile typically shows fewer ads above fold; different extension rendering",
            "Local ads: Map packs, location extensions show physical business proximity",
            "Shopping ads: Product carousel with images, prices, ratings - separate ad format"
          ],
          "interviewQuestions": [
            "Why might an ad appear in different positions for the same keyword at different times?",
            "How do ad extensions affect ad visibility and performance on the SERP?",
            "A client asks why their ad sometimes shows with extensions and sometimes doesn't. Explain."
          ],
          "sqlConnection": "Position data from reports can be analyzed to understand CTR by position, helping quantify the value of improved Ad Rank.",
          "troubleshooting": {
            "symptoms": [
              "Ad not appearing despite winning auction",
              "Ad extensions not showing",
              "Ad appearing below organic results only",
              "Different ad appearance across devices"
            ],
            "diagnosticQuestions": [
              "What is the average position and impression share?",
              "Are ad extensions eligible and approved?",
              "What is the Ad Rank threshold for top positions?",
              "Are there device-specific targeting or bid adjustments?"
            ],
            "causes": [
              {
                "issue": "Ad Rank below threshold for top positions",
                "probability": "high",
                "resolution": "Improve Quality Score or increase bids to achieve top position threshold",
                "verification": "Check 'Search top impression share' and 'Search top IS lost (rank)' metrics"
              },
              {
                "issue": "Ad extensions not meeting eligibility requirements",
                "probability": "medium",
                "resolution": "Review extension requirements - some require minimum Ad Rank, active status, or policy compliance",
                "verification": "Check extension status in Ads & Assets section; review any disapproval reasons"
              }
            ]
          },
          "tools": ["Ad Preview and Diagnosis tool", "Search Impression Share columns", "Extension reports", "Device segments"]
        },
        {
          "id": "p4-2",
          "name": "Ad Click & Redirect Chain",
          "parentId": "phase-4",
          "priority": "must_know_cold",
          "category": "tracking",
          "definition": "The HTTP redirect sequence that occurs when a user clicks an ad, including GCLID parameter appending, 302 redirects from Google to advertiser, parallel tracking mechanisms, and the distinction between auto-tagging and manual tagging.",
          "adsContext": "CRITICAL: When a user clicks a Google Ad, they don't go directly to the advertiser's site. Google intercepts the click, appends a GCLID (Google Click Identifier) parameter to the URL, and uses a 302 redirect to send the user to the final destination. The 302 status code is specifically used because it's a temporary redirect that preserves the original request method - this is how GCLID gets passed. Parallel tracking separates the user journey from tracking calls for faster page loads.",
          "tscRelevance": "This is MUST KNOW COLD for interviews. TSCs diagnose tracking issues by understanding the redirect chain. If GCLID isn't appearing in URLs, conversions won't attribute to ads. Understanding 302 vs 301 redirects and parallel tracking is essential for troubleshooting.",
          "keyDetails": [
            "GCLID (Google Click Identifier): Unique click ID appended as URL parameter (?gclid=xyz) - required for conversion tracking",
            "302 Redirect: HTTP status code for temporary redirect - Google uses this to pass GCLID while sending user to advertiser. 302 preserves POST data and is temporary, unlike 301 (permanent)",
            "Click flow: User clicks ad → Request to Google → Google logs click, appends GCLID → 302 redirect to advertiser URL with GCLID → User lands on advertiser site",
            "Parallel tracking: Sends user directly to landing page while tracking URL loads in background - faster user experience (100-500ms improvement)",
            "Auto-tagging: Google automatically appends GCLID to URLs (recommended, default on) - ensures accurate conversion tracking",
            "Manual tagging: UTM parameters (utm_source, utm_medium, utm_campaign) added manually - less accurate, doesn't track cross-device or view-through conversions",
            "Final URL vs Tracking URL: Final URL is where user lands; Tracking template/URL suffix handles tracking parameters separately",
            "URL parameters preserved: GCLID is appended to existing URL parameters, not replaced - watch for parameter conflicts"
          ],
          "interviewQuestions": [
            "Walk me through the complete HTTP flow from when a user clicks an ad to when they land on the advertiser's page. Include status codes.",
            "Why does Google use a 302 redirect instead of a 301 redirect for ad clicks?",
            "A client's conversions dropped to zero but ads are still getting clicks. Where would you look first?",
            "What is parallel tracking and why was it introduced?"
          ],
          "sqlConnection": "Click data includes GCLID values; conversion data links back via GCLID. SQL joins on GCLID enable click-to-conversion attribution analysis.",
          "troubleshooting": {
            "symptoms": [
              "Conversions not tracking despite clicks",
              "GCLID not appearing in URLs",
              "Conversion lag or missing conversions",
              "Third-party tracking discrepancies"
            ],
            "diagnosticQuestions": [
              "Is auto-tagging enabled in Google Ads settings?",
              "Does the landing page/CMS strip URL parameters?",
              "Are there redirect chains that lose the GCLID parameter?",
              "Is parallel tracking enabled and configured correctly?"
            ],
            "causes": [
              {
                "issue": "Auto-tagging disabled in Google Ads account settings",
                "probability": "high",
                "resolution": "Enable auto-tagging in Account Settings > Auto-tagging",
                "verification": "Click an ad and verify ?gclid= parameter appears in the URL"
              },
              {
                "issue": "CMS or server-side redirects stripping URL parameters",
                "probability": "high",
                "resolution": "Configure server/CMS to preserve query parameters through redirects; check .htaccess or redirect rules",
                "verification": "Test the redirect chain using a tool like redirect-checker.org or browser dev tools"
              },
              {
                "issue": "Multiple redirects losing GCLID in the chain",
                "probability": "medium",
                "resolution": "Minimize redirect chains; ensure each redirect passes through URL parameters",
                "verification": "Use browser Network tab to trace full redirect chain and check GCLID preservation"
              },
              {
                "issue": "Parallel tracking URL template misconfigured",
                "probability": "medium",
                "resolution": "Review tracking template; ensure proper ValueTrack parameters ({lpurl}, {gclid}, etc.)",
                "verification": "Test tracking template in Google Ads with 'Test' button; check for errors"
              }
            ]
          },
          "tools": ["Account Settings > Auto-tagging", "Tracking template tester", "Browser DevTools Network tab", "Tag Assistant", "Google Ads Diagnostics"]
        },
        {
          "id": "p4-3",
          "name": "DNS Resolution",
          "parentId": "phase-4",
          "priority": "know_well",
          "category": "networking",
          "definition": "The Domain Name System (DNS) process that translates human-readable domain names (e.g., example.com) into IP addresses that computers use to identify each other on the network. DNS resolution is a foundational step before any HTTP connection can be established.",
          "adsContext": "DNS resolution adds latency to page loads - typically 20-120ms. For ad landing pages, every millisecond matters for Core Web Vitals and conversion rates. CDN DNS strategies, TTL optimization, and dns-prefetch hints can significantly improve landing page performance.",
          "tscRelevance": "TSCs need to understand DNS as a potential source of landing page slowness. When clients complain about slow pages, DNS misconfiguration or propagation issues can be the culprit, especially after domain or hosting changes.",
          "keyDetails": [
            "Recursive DNS query: Client asks resolver → resolver asks root → TLD → authoritative nameserver → IP returned",
            "DNS caching: Responses cached at multiple levels (browser, OS, ISP resolver) based on TTL value",
            "TTL (Time-to-Live): How long DNS records are cached (in seconds). Low TTL = faster propagation but more queries; high TTL = better performance but slower changes",
            "Anycast routing: Same IP advertised from multiple locations - user routed to nearest DNS server for faster resolution",
            "CDN DNS: CDNs use intelligent DNS to route users to nearest edge server; Cloudflare, Akamai, Fastly all use this",
            "dns-prefetch hint: Browser directive (<link rel='dns-prefetch' href='//example.com'>) to resolve domains before they're needed",
            "DNS propagation: Changes to DNS records can take 24-48 hours to propagate globally due to caching at various levels",
            "Common record types: A (IPv4), AAAA (IPv6), CNAME (alias), MX (mail), TXT (verification, SPF, DKIM)"
          ],
          "interviewQuestions": [
            "Explain the DNS resolution process from when a user types a URL to when an IP address is returned.",
            "A client changed their hosting provider and now their landing page is intermittently unreachable. What might be happening?",
            "How can DNS configuration affect landing page performance and what optimizations would you suggest?"
          ],
          "sqlConnection": "While DNS data isn't directly in Google Ads reports, page load time metrics can indicate DNS issues when initial connection times are high.",
          "troubleshooting": {
            "symptoms": [
              "Intermittent 'site not found' errors",
              "Slow initial page loads",
              "Landing page unreachable after hosting change",
              "Different behavior for different users"
            ],
            "diagnosticQuestions": [
              "Was there a recent DNS or hosting change?",
              "Are the DNS records correctly configured?",
              "What is the TTL setting on the records?",
              "Is the issue consistent across all locations/ISPs?"
            ],
            "causes": [
              {
                "issue": "DNS propagation still in progress after changes",
                "probability": "high",
                "resolution": "Wait for TTL to expire across all resolvers (up to 48 hours); use low TTL before making changes",
                "verification": "Check DNS propagation using tools like whatsmydns.net from multiple locations"
              },
              {
                "issue": "DNS records pointing to old/incorrect IP",
                "probability": "medium",
                "resolution": "Update DNS records at registrar to point to correct server IP",
                "verification": "Use dig or nslookup to verify current DNS resolution; compare to expected IP"
              },
              {
                "issue": "No dns-prefetch hints for third-party resources",
                "probability": "medium",
                "resolution": "Add dns-prefetch hints in <head> for domains used by tracking pixels, CDN resources, etc.",
                "verification": "Audit page for third-party domains; add prefetch hints and measure improvement"
              }
            ]
          },
          "tools": ["dig/nslookup", "whatsmydns.net", "Google DNS (8.8.8.8)", "Cloudflare DNS (1.1.1.1)", "PageSpeed Insights"]
        },
        {
          "id": "p4-4",
          "name": "TCP Three-Way Handshake",
          "parentId": "phase-4",
          "priority": "know_well",
          "category": "networking",
          "definition": "The three-step process (SYN → SYN-ACK → ACK) used by TCP to establish a reliable connection between client and server before data can be exchanged. This is fundamental to all HTTP/HTTPS communication.",
          "adsContext": "Every new connection to a landing page server requires a TCP handshake, adding one round-trip time (RTT) of latency. For users far from the server, this can add 50-200ms. Understanding TCP explains why CDNs (closer servers = lower RTT) and connection reuse (HTTP keep-alive) improve landing page performance.",
          "tscRelevance": "TSCs should understand TCP basics to explain why geographic server location matters for performance, why CDNs help, and what connection-related errors mean in diagnostics.",
          "keyDetails": [
            "Three-way handshake: SYN (client initiates) → SYN-ACK (server acknowledges and initiates) → ACK (client acknowledges) → Connection established",
            "RTT (Round Trip Time): Time for a packet to go from client to server and back - handshake requires 1 RTT minimum",
            "Latency impact: Each handshake adds ~RTT to page load; for 100ms RTT, TCP alone adds 100ms before any data transfers",
            "TCP slow start: New connections start with small congestion window, gradually increasing - affects initial transfer speed",
            "HTTP Keep-Alive: Reuses existing TCP connection for multiple requests, avoiding repeated handshakes (Connection: keep-alive header)",
            "Connection pooling: Browsers maintain pool of connections to each origin (typically 6 per domain in HTTP/1.1)",
            "TCP Fast Open (TFO): Extension allowing data in SYN packet to reduce latency (requires server support)",
            "Port 80 (HTTP) vs Port 443 (HTTPS): TCP connection established to specific port; HTTPS adds TLS handshake after TCP"
          ],
          "interviewQuestions": [
            "Explain the TCP three-way handshake and why it's necessary.",
            "How does geographic distance between user and server affect page load time?",
            "What is HTTP Keep-Alive and why does it improve performance?"
          ],
          "sqlConnection": "Connection metrics aren't directly in Ads data, but correlate with landing page experience scores. High bounce rates from distant locations may indicate TCP latency issues.",
          "troubleshooting": {
            "symptoms": [
              "Slow page loads for distant users",
              "High Time to First Byte (TTFB)",
              "Connection timeout errors",
              "Inconsistent page load times"
            ],
            "diagnosticQuestions": [
              "Where is the server geographically located?",
              "Is a CDN in use to bring content closer to users?",
              "Are connections being reused (Keep-Alive)?",
              "What is the RTT to the server from key user locations?"
            ],
            "causes": [
              {
                "issue": "Server geographically far from target users",
                "probability": "high",
                "resolution": "Implement CDN to cache content at edge locations closer to users",
                "verification": "Check TTFB from different locations using WebPageTest; compare with/without CDN"
              },
              {
                "issue": "Keep-Alive disabled causing repeated handshakes",
                "probability": "medium",
                "resolution": "Enable Keep-Alive on server (Apache: KeepAlive On; Nginx: keepalive_timeout 65)",
                "verification": "Check response headers for 'Connection: keep-alive'; monitor connection reuse in DevTools"
              },
              {
                "issue": "Server overloaded causing handshake delays",
                "probability": "medium",
                "resolution": "Scale server resources, implement load balancing, or use CDN to offload traffic",
                "verification": "Monitor server CPU/memory; check for SYN backlog issues in server logs"
              }
            ]
          },
          "tools": ["Browser DevTools (Timing tab)", "WebPageTest", "ping/traceroute", "CDN providers (Cloudflare, AWS CloudFront)", "curl --timing"]
        },
        {
          "id": "p4-5",
          "name": "TLS Handshake",
          "parentId": "phase-4",
          "priority": "know_well",
          "category": "security",
          "definition": "The cryptographic handshake that establishes a secure HTTPS connection between client and server, negotiating encryption algorithms, validating server certificates, and exchanging keys for encrypted communication.",
          "adsContext": "HTTPS is required for Google Ads landing pages. TLS handshakes add 1-2 RTT of latency (reduced in TLS 1.3). Certificate errors cause landing page warnings that tank conversion rates. Understanding TLS is essential for diagnosing 'mixed content' warnings and certificate issues.",
          "tscRelevance": "TSCs troubleshoot HTTPS/certificate issues that prevent landing pages from loading properly or trigger browser security warnings. Understanding TLS versions helps explain performance differences.",
          "keyDetails": [
            "HTTPS required: Google Ads requires secure landing pages; HTTP pages show browser warnings and may be disapproved",
            "TLS 1.2 handshake: 2 RTT - ClientHello → ServerHello + Certificate → Key Exchange → Finished (traditional, still common)",
            "TLS 1.3 handshake: 1 RTT - Key exchange in ClientHello/ServerHello, encrypted earlier (modern, faster)",
            "0-RTT resumption: TLS 1.3 feature allowing immediate data on resumed connections (with replay attack considerations)",
            "Certificate validation: Browser verifies certificate chain from site cert → intermediate → root CA",
            "Certificate errors: Expired, wrong domain, untrusted CA, incomplete chain - all cause browser warnings",
            "Mixed content: HTTPS page loading HTTP resources triggers warnings or blocks; all resources must be HTTPS",
            "HSTS (HTTP Strict Transport Security): Header telling browsers to always use HTTPS for the domain"
          ],
          "interviewQuestions": [
            "What is the difference between TLS 1.2 and TLS 1.3 in terms of handshake latency?",
            "A client's landing page shows 'Not Secure' in the browser. What are the possible causes?",
            "Explain what 'mixed content' means and why it's a problem for landing pages."
          ],
          "sqlConnection": "TLS/certificate issues manifest as landing page disapprovals or high bounce rates that can be identified in campaign performance data.",
          "troubleshooting": {
            "symptoms": [
              "Browser showing 'Not Secure' warning",
              "Landing page disapproved for security reasons",
              "Mixed content warnings in console",
              "Certificate errors in browser"
            ],
            "diagnosticQuestions": [
              "Is the SSL certificate valid and not expired?",
              "Does the certificate cover the exact domain being used?",
              "Are all page resources loaded over HTTPS?",
              "Is the certificate chain complete?"
            ],
            "causes": [
              {
                "issue": "SSL certificate expired",
                "probability": "high",
                "resolution": "Renew certificate with CA or hosting provider; enable auto-renewal",
                "verification": "Check certificate expiration in browser padlock or using SSL checker tools"
              },
              {
                "issue": "Mixed content - HTTP resources on HTTPS page",
                "probability": "high",
                "resolution": "Update all resource URLs to HTTPS (images, scripts, stylesheets, iframes)",
                "verification": "Check browser console for mixed content warnings; use why-no-padlock.com"
              },
              {
                "issue": "Certificate doesn't match domain (www vs non-www)",
                "probability": "medium",
                "resolution": "Get certificate that covers both www and non-www (or use wildcard cert); implement proper redirects",
                "verification": "Check certificate's Common Name and SAN entries against actual URL"
              },
              {
                "issue": "Using outdated TLS version causing warnings or blocks",
                "probability": "low",
                "resolution": "Upgrade server to support TLS 1.2 minimum, preferably TLS 1.3",
                "verification": "Use SSL Labs test (ssllabs.com/ssltest) to check supported TLS versions"
              }
            ]
          },
          "tools": ["SSL Labs Test", "Browser DevTools Security tab", "why-no-padlock.com", "Certificate transparency logs", "OpenSSL commands"]
        },
        {
          "id": "p4-6",
          "name": "HTTP Protocol Deep Dive",
          "parentId": "phase-4",
          "priority": "must_know_cold",
          "category": "web_protocols",
          "definition": "The HyperText Transfer Protocol (HTTP) is the foundation of web communication, defining how clients request resources and servers respond. Understanding HTTP methods, status codes, and headers is essential for web troubleshooting.",
          "adsContext": "HTTP is the language of the web and critical for ad tracking. The 302 status code is how GCLID gets passed through redirects. Headers like Location (redirects), Cookie (tracking), Content-Type (parsing), and CSP (security) directly impact ad tag functionality. This is MUST KNOW COLD for TSC interviews.",
          "tscRelevance": "TSCs use HTTP knowledge daily: diagnosing redirect chains (301 vs 302), understanding why tags fail (CSP blocking), troubleshooting caching issues (Cache-Control), and verifying tracking requests in Network tab.",
          "keyDetails": [
            "HTTP request structure: Method + URL + Headers + Body (for POST/PUT)",
            "HTTP response structure: Status Code + Status Text + Headers + Body",
            "Request/Response cycle: Client sends request → Server processes → Server sends response → Client renders"
          ],
          "interviewQuestions": [
            "What is the difference between GET and POST requests? When would you use each?",
            "Explain the difference between 301 and 302 redirects. Why does Google use 302 for ad click tracking?",
            "A client reports their landing page is loading a cached version. What headers would you check?"
          ],
          "sqlConnection": "HTTP logs can be joined with conversion data to analyze request patterns. Status code distribution helps identify landing page reliability issues.",
          "troubleshooting": {
            "symptoms": [
              "Page not loading (various HTTP errors)",
              "Redirects not working as expected",
              "Caching causing stale content",
              "CORS errors blocking resources"
            ],
            "diagnosticQuestions": [
              "What status code is being returned?",
              "What do the response headers show?",
              "Is there a redirect chain?",
              "Are there CORS or CSP headers blocking requests?"
            ],
            "causes": [
              {
                "issue": "302 redirect not preserving URL parameters (GCLID lost)",
                "probability": "high",
                "resolution": "Configure redirect to append query string: redirected_url + $query_string",
                "verification": "Trace redirect in Network tab; verify GCLID appears in final URL"
              },
              {
                "issue": "301 redirect caching causing issues after URL change",
                "probability": "medium",
                "resolution": "301s are cached by browsers; users may need to clear cache. Consider using 302 for temporary redirects",
                "verification": "Check if 301 was previously set; test in incognito mode"
              },
              {
                "issue": "5xx errors indicating server problems",
                "probability": "medium",
                "resolution": "Check server logs, resource usage, and application errors",
                "verification": "Review server error logs; check if error is consistent or intermittent"
              }
            ]
          },
          "tools": ["Browser DevTools Network tab", "curl -I (headers)", "Postman", "HTTP archive (HAR) files", "Server access logs"],
          "children": [
            {
              "id": "p4-6-1",
              "name": "HTTP Methods",
              "parentId": "p4-6",
              "priority": "must_know_cold",
              "category": "http",
              "definition": "HTTP methods (also called verbs) define the action to be performed on a resource. Different methods have different semantics for idempotency, caching, and request body handling.",
              "adsContext": "Most ad tracking uses GET requests for pixel firing and beacon calls. Form submissions use POST. Understanding methods helps debug why tracking requests may fail or behave differently.",
              "tscRelevance": "TSCs need to identify request methods in Network tab to understand what's happening with tracking pixels, form submissions, and API calls.",
              "keyDetails": [
                "GET: Retrieve resource; should not modify server state; cacheable; no request body; used for most ad pixels",
                "POST: Submit data to server; may modify state; not cacheable by default; has request body; used for form submissions",
                "PUT: Replace entire resource; idempotent (repeating gives same result); has request body",
                "PATCH: Partial update to resource; not necessarily idempotent; has request body",
                "DELETE: Remove resource; idempotent; usually no request body",
                "OPTIONS: Preflight request for CORS; asks server what methods/headers are allowed",
                "HEAD: Same as GET but returns only headers, no body; used to check resource metadata"
              ],
              "interviewQuestions": [
                "Name all HTTP methods and give a use case for each.",
                "What does idempotent mean in the context of HTTP methods?",
                "Why might a POST request show up in DevTools before the actual form submission?"
              ],
              "troubleshooting": {
                "symptoms": [
                  "405 Method Not Allowed error",
                  "OPTIONS preflight failing",
                  "Form submission not working"
                ],
                "causes": [
                  {
                    "issue": "Server not supporting required HTTP method",
                    "probability": "medium",
                    "resolution": "Configure server to accept the required method",
                    "verification": "Test with curl using -X METHOD flag"
                  }
                ]
              }
            },
            {
              "id": "p4-6-2",
              "name": "HTTP Status Codes",
              "parentId": "p4-6",
              "priority": "must_know_cold",
              "category": "http",
              "definition": "Three-digit codes returned by servers indicating the result of an HTTP request. Status codes are grouped by first digit: 1xx (informational), 2xx (success), 3xx (redirection), 4xx (client error), 5xx (server error).",
              "adsContext": "CRITICAL: 302 is how GCLID tracking works - Google uses 302 temporary redirects to pass the click ID. 301 vs 302 differences matter for SEO and tracking. 4xx errors cause landing page disapprovals. 5xx errors hurt Quality Score and user experience.",
              "tscRelevance": "Status codes are the first thing TSCs check in Network tab. Knowing codes cold allows quick diagnosis: 403 = blocked, 404 = missing, 500 = server issue, 302 = redirect (check where).",
              "keyDetails": [
                "200 OK: Request succeeded; resource returned in response body",
                "201 Created: Resource created successfully (typically after POST)",
                "204 No Content: Success but no content returned (common for tracking pixels)",
                "301 Moved Permanently: Resource permanently moved; browsers cache this redirect - use for SEO redirects",
                "302 Found (Temporary Redirect): CRITICAL - Resource temporarily at different URL; not cached; used by Google for GCLID pass-through because it preserves the temporary nature and doesn't get cached",
                "304 Not Modified: Resource hasn't changed; use cached version (conditional GET)",
                "400 Bad Request: Malformed request syntax; server cannot process",
                "401 Unauthorized: Authentication required; user not logged in",
                "403 Forbidden: Server refuses request; user lacks permission even if authenticated",
                "404 Not Found: Resource doesn't exist at URL; common landing page error",
                "500 Internal Server Error: Generic server error; application crashed",
                "502 Bad Gateway: Upstream server sent invalid response (proxy/load balancer issue)",
                "503 Service Unavailable: Server temporarily down for maintenance or overload",
                "504 Gateway Timeout: Upstream server didn't respond in time (proxy/load balancer timeout)"
              ],
              "interviewQuestions": [
                "What is the difference between 301 and 302 redirects? Why does Google use 302 for ad click tracking?",
                "Your ad shows 'Landing page not working' - what status codes might cause this?",
                "Explain the difference between 401 and 403 status codes."
              ],
              "troubleshooting": {
                "symptoms": [
                  "Landing page disapproved",
                  "Ad clicks not reaching landing page",
                  "Tracking pixels not firing",
                  "High bounce rate"
                ],
                "causes": [
                  {
                    "issue": "404 on landing page URL",
                    "probability": "high",
                    "resolution": "Fix URL to point to existing page; update final URL in ads",
                    "verification": "Test URL directly; check for typos or deleted pages"
                  },
                  {
                    "issue": "5xx server errors intermittently",
                    "probability": "medium",
                    "resolution": "Check server resources, error logs, application health",
                    "verification": "Monitor server; set up alerting for 5xx errors"
                  },
                  {
                    "issue": "301 redirect losing GCLID parameter",
                    "probability": "high",
                    "resolution": "Ensure redirect rule passes query string: RewriteRule ^old$ /new [R=301,QSA,L]",
                    "verification": "Trace redirect with gclid parameter; verify it appears in final URL"
                  }
                ]
              }
            },
            {
              "id": "p4-6-3",
              "name": "HTTP Headers",
              "parentId": "p4-6",
              "priority": "must_know_cold",
              "category": "http",
              "definition": "Key-value pairs sent in HTTP requests and responses that provide metadata about the message, control caching, handle authentication, and configure security policies.",
              "adsContext": "Headers are critical for ad tech. CSP headers block tags (most common tag failure cause). Cookie headers enable tracking. Cache-Control affects how fresh content is. CORS headers enable cross-origin tracking requests. Location header contains redirect destination.",
              "tscRelevance": "TSCs must read headers to diagnose issues: CSP blocking GTM? Check Content-Security-Policy. Cookies not setting? Check Set-Cookie attributes. Page caching too long? Check Cache-Control.",
              "keyDetails": [
                "Host: Required header specifying the domain being requested (enables virtual hosting)",
                "User-Agent: Browser/client identifier; used for analytics, compatibility detection",
                "Accept: Content types client can handle (text/html, application/json, etc.)",
                "Cookie: Sends stored cookies to server; used for session management and tracking",
                "Set-Cookie: Server instructs browser to store a cookie (see cookie section for attributes)",
                "Authorization: Credentials for authentication (Basic, Bearer token, etc.)",
                "Referer: URL of page that linked to current request; note misspelling is in HTTP spec",
                "Location: Used with 3xx redirects to specify destination URL (how redirect chains work)",
                "Content-Type: MIME type of response body (text/html, application/json, image/png)",
                "Cache-Control: Caching directives (max-age, no-cache, no-store, private, public)",
                "Content-Security-Policy (CSP): CRITICAL - Security header that blocks inline scripts, eval, and external resources. Most common cause of GTM/tracking failures",
                "Access-Control-Allow-Origin (CORS): Controls which origins can access resources; blocks cross-origin requests if misconfigured"
              ],
              "interviewQuestions": [
                "What is the Content-Security-Policy header and how can it break tracking tags?",
                "Explain how the Location header works with redirect status codes.",
                "A tracking pixel request is blocked with a CORS error. What headers are involved and how would you fix it?"
              ],
              "troubleshooting": {
                "symptoms": [
                  "GTM/tracking tags not firing",
                  "Tracking requests blocked in console",
                  "Page caching preventing updates",
                  "Cross-origin resource loading failures"
                ],
                "causes": [
                  {
                    "issue": "CSP blocking inline scripts or external resources",
                    "probability": "very_high",
                    "resolution": "Add required domains to CSP directive: script-src should include 'www.googletagmanager.com', 'www.google-analytics.com', etc.",
                    "verification": "Check console for 'Refused to load' errors; review CSP header in response"
                  },
                  {
                    "issue": "CORS blocking cross-origin tracking requests",
                    "probability": "high",
                    "resolution": "Server must return Access-Control-Allow-Origin header allowing the requesting origin",
                    "verification": "Check console for CORS errors; verify OPTIONS preflight succeeds"
                  },
                  {
                    "issue": "Cache-Control preventing page updates",
                    "probability": "medium",
                    "resolution": "Set appropriate Cache-Control: max-age=X or use no-cache for frequently changing content",
                    "verification": "Check Cache-Control and Expires headers; test with cache-busting query string"
                  }
                ]
              }
            }
          ]
        },
        {
          "id": "p4-7",
          "name": "Cookies in Ad Tracking",
          "parentId": "phase-4",
          "priority": "must_know_cold",
          "category": "tracking",
          "definition": "HTTP cookies are small pieces of data stored by browsers that enable state management, session tracking, and user identification across requests. Cookies are fundamental to ad tracking and attribution.",
          "adsContext": "GCLID is stored in the _gcl_aw cookie for Google Ads conversion attribution. Understanding first-party vs third-party cookies, cookie attributes, and privacy restrictions (ITP, SameSite) is essential for diagnosing tracking failures. Third-party cookie deprecation (though delayed) is reshaping the industry.",
          "tscRelevance": "TSCs troubleshoot cookie-related tracking issues daily: conversions not recording, cross-domain tracking failing, ITP blocking attribution. This is MUST KNOW COLD for interviews.",
          "keyDetails": [
            "First-party cookies: Set by the domain in the address bar; used for site preferences, sessions, and GCLID storage (_gcl_aw)",
            "Third-party cookies: Set by external domains (via iframes/pixels); used for cross-site tracking; being deprecated/blocked",
            "GCLID storage: Google Ads stores GCLID in _gcl_aw cookie (first-party) with ~90 day expiration",
            "Cookie attributes - Domain: Which domain(s) receive the cookie; can be set to parent domain for subdomain sharing",
            "Cookie attributes - Path: URL path restriction for when cookie is sent; typically '/' for all paths",
            "Cookie attributes - Secure: Cookie only sent over HTTPS; required for SameSite=None",
            "Cookie attributes - HttpOnly: Cookie not accessible via JavaScript; protects from XSS but limits reading in code",
            "Cookie attributes - SameSite: Controls cross-site sending: Strict (same-site only), Lax (safe methods cross-site), None (all cross-site, requires Secure)",
            "ITP (Intelligent Tracking Prevention): Safari restricts cookie lifetimes; first-party JS cookies capped at 7 days in some cases",
            "SameSite=None; Secure: Required for any cookie that needs to work in third-party context (iframes, cross-site requests)"
          ],
          "interviewQuestions": [
            "Explain the difference between first-party and third-party cookies. How does this affect Google Ads tracking?",
            "What is the _gcl_aw cookie and what role does it play in conversion tracking?",
            "A client's Safari users show significantly fewer conversions than Chrome users. What might be happening?",
            "Explain the SameSite cookie attribute and its values. Why was it introduced?"
          ],
          "sqlConnection": "Cookie data correlates with conversion attribution. SQL analysis can identify conversion tracking gaps by browser/device that may indicate cookie issues.",
          "troubleshooting": {
            "symptoms": [
              "Conversions not tracking for some users",
              "Safari/iOS conversion tracking much lower than expected",
              "Cross-domain tracking failing",
              "Conversion attribution issues"
            ],
            "diagnosticQuestions": [
              "Are cookies being set correctly (check browser DevTools)?",
              "What browser/device shows the issue?",
              "Is the site using cross-domain tracking?",
              "Are cookie attributes set correctly (SameSite, Secure)?"
            ],
            "causes": [
              {
                "issue": "ITP limiting cookie duration in Safari",
                "probability": "high",
                "resolution": "Implement server-side cookie setting, use first-party data, consider GA4's enhanced measurement",
                "verification": "Check Safari cookie storage; compare Safari vs Chrome conversion rates"
              },
              {
                "issue": "SameSite attribute blocking cross-site cookies",
                "probability": "high",
                "resolution": "Set SameSite=None; Secure for cookies needed in cross-site context (also requires HTTPS)",
                "verification": "Check browser console for SameSite warnings; verify cookie attributes in DevTools"
              },
              {
                "issue": "Third-party cookies blocked by browser settings or extensions",
                "probability": "high",
                "resolution": "Implement first-party tracking solutions; use Google Consent Mode; consider server-side tagging",
                "verification": "Test with third-party cookies enabled/disabled; check for tracking blockers"
              },
              {
                "issue": "Cookie domain not matching site domain",
                "probability": "medium",
                "resolution": "Ensure cookie domain attribute matches or is parent of current domain",
                "verification": "Check cookie Domain attribute in DevTools Application tab"
              }
            ]
          },
          "tools": ["Browser DevTools Application tab (Cookies)", "EditThisCookie extension", "GA Debug extension", "Tag Assistant", "Safari Web Inspector"]
        },
        {
          "id": "p4-8",
          "name": "Browser Rendering Pipeline",
          "parentId": "phase-4",
          "priority": "know_well",
          "category": "performance",
          "definition": "The sequence of steps a browser takes to convert HTML, CSS, and JavaScript into visible pixels on screen: parsing HTML to DOM, parsing CSS to CSSOM, building render tree, calculating layout, painting, and compositing.",
          "adsContext": "Rendering performance directly affects Core Web Vitals and landing page experience, which impacts Quality Score. Render-blocking resources delay First Contentful Paint. Layout shifts during rendering cause poor CLS scores. Script loading strategy (async vs defer) affects when tracking tags execute.",
          "tscRelevance": "TSCs need to explain why certain optimizations matter and diagnose slow landing pages. Understanding render-blocking resources helps explain why removing or deferring scripts improves performance.",
          "keyDetails": [
            "DOM (Document Object Model): Browser parses HTML into tree structure of elements; basis for page structure",
            "CSSOM (CSS Object Model): Browser parses CSS into tree structure of styles; combined with DOM for rendering",
            "Render tree: Combination of DOM and CSSOM; only visible elements included (no display:none, no <head>)",
            "Layout (Reflow): Calculates exact position and size of each element; triggered by DOM/style changes affecting geometry",
            "Paint: Draws pixels - text, colors, images, borders, shadows; multiple paint layers for complex pages",
            "Composite: Combines paint layers in correct order; GPU-accelerated for transforms and opacity",
            "Critical rendering path: Minimum steps needed to render above-the-fold content; optimize this for fast FCP",
            "async script attribute: Loads script in parallel with parsing; executes immediately when ready (order not guaranteed)",
            "defer script attribute: Loads script in parallel; executes after HTML parsing complete (order preserved)",
            "Render-blocking resources: CSS and synchronous JS block rendering until loaded; minimize or defer these"
          ],
          "interviewQuestions": [
            "Walk through the browser rendering pipeline from HTML to pixels on screen.",
            "What is the difference between async and defer script attributes? When would you use each?",
            "Why can CSS be render-blocking and how can you mitigate this?"
          ],
          "sqlConnection": "Rendering performance impacts page experience metrics. Slow render times correlate with high bounce rates visible in analytics data.",
          "troubleshooting": {
            "symptoms": [
              "Slow Largest Contentful Paint (LCP)",
              "Layout Shift issues (CLS)",
              "Page appears to 'jump' while loading",
              "Scripts not executing in expected order"
            ],
            "diagnosticQuestions": [
              "What resources are render-blocking?",
              "Are scripts using async/defer appropriately?",
              "Are images causing layout shifts (missing dimensions)?",
              "Is critical CSS inlined?"
            ],
            "causes": [
              {
                "issue": "Synchronous scripts blocking rendering",
                "probability": "high",
                "resolution": "Add async or defer attribute to non-critical scripts; move scripts to bottom of body",
                "verification": "Check Network tab for blocking resources; use Coverage tool to find unused code"
              },
              {
                "issue": "Large CSS files blocking render",
                "probability": "medium",
                "resolution": "Inline critical CSS; load non-critical CSS asynchronously; remove unused CSS",
                "verification": "Check 'Render blocking resources' in Lighthouse; measure FCP before/after"
              },
              {
                "issue": "Images without dimensions causing layout shifts",
                "probability": "high",
                "resolution": "Always include width and height attributes on images; use aspect-ratio CSS",
                "verification": "Check CLS in DevTools Performance; identify shifting elements"
              }
            ]
          },
          "tools": ["DevTools Performance tab", "Lighthouse", "Coverage tool", "Performance Insights", "WebPageTest filmstrip"]
        },
        {
          "id": "p4-9",
          "name": "Core Web Vitals",
          "parentId": "phase-4",
          "priority": "must_know_cold",
          "category": "performance",
          "definition": "Google's standardized metrics for measuring user experience: Largest Contentful Paint (LCP) for loading, Interaction to Next Paint (INP) for interactivity, and Cumulative Layout Shift (CLS) for visual stability.",
          "adsContext": "CRITICAL: Core Web Vitals directly affect Quality Score through the Landing Page Experience component. Poor Core Web Vitals = lower Quality Score = higher CPCs = worse ad positions. Google has explicitly tied these metrics to ad performance, making this essential knowledge for TSCs.",
          "tscRelevance": "TSCs must explain Core Web Vitals to clients, diagnose which metric is failing, and recommend specific optimizations. This is MUST KNOW COLD - Google directly uses these for Quality Score and has made this a strategic focus.",
          "keyDetails": [
            "LCP (Largest Contentful Paint): Time until largest visible content element renders. Target: < 2.5 seconds. Measures perceived load speed.",
            "INP (Interaction to Next Paint): Time from user interaction to visual feedback (replaced FID in March 2024). Target: < 200 milliseconds. Measures responsiveness.",
            "CLS (Cumulative Layout Shift): Sum of unexpected layout shifts. Target: < 0.1. Measures visual stability (no jumping content).",
            "Impact on Quality Score: Poor Core Web Vitals lower Landing Page Experience → lower Quality Score → higher CPC → worse position",
            "Measurement: Chrome User Experience Report (CrUX) provides field data; Lighthouse provides lab data",
            "75th percentile: Google uses 75th percentile of page loads for assessment (most users, not average)",
            "Mobile vs Desktop: Separate scores; mobile often worse due to network/device constraints",
            "PageSpeed Insights: Google tool showing both lab and field Core Web Vitals data with recommendations"
          ],
          "interviewQuestions": [
            "Name the three Core Web Vitals and their target values. How do they affect Google Ads performance?",
            "A client's Quality Score dropped and they haven't changed their ads or keywords. What would you check?",
            "Explain the difference between lab data and field data for Core Web Vitals. Which does Google use for rankings?"
          ],
          "sqlConnection": "Core Web Vitals data from CrUX can be queried in BigQuery. Performance data correlates with conversion rates and Quality Score trends.",
          "troubleshooting": {
            "symptoms": [
              "Landing Page Experience rating dropped",
              "Quality Score decreased without ad changes",
              "High bounce rate on landing pages",
              "PageSpeed Insights showing poor scores"
            ],
            "diagnosticQuestions": [
              "What are the Core Web Vitals scores (LCP, INP, CLS)?",
              "Is this a lab data or field data issue?",
              "What is the largest element for LCP?",
              "What elements are causing layout shifts?"
            ],
            "causes": [
              {
                "issue": "Poor LCP due to large hero image",
                "probability": "high",
                "resolution": "Optimize and compress hero image; use next-gen formats (WebP); implement lazy loading for below-fold images; preload critical images",
                "verification": "Check Lighthouse LCP element; measure image size and load time"
              },
              {
                "issue": "Poor INP due to long JavaScript tasks",
                "probability": "high",
                "resolution": "Break up long tasks; use web workers; defer non-critical JS; optimize event handlers",
                "verification": "Check Performance tab for long tasks; profile interaction handlers"
              },
              {
                "issue": "Poor CLS due to ads/images loading without dimensions",
                "probability": "high",
                "resolution": "Reserve space for dynamic content; add width/height to images; avoid inserting content above existing content",
                "verification": "Use Layout Shift debugging in DevTools; identify shifting elements"
              },
              {
                "issue": "Slow server response time affecting all metrics",
                "probability": "medium",
                "resolution": "Improve server performance; use CDN; enable caching; optimize database queries",
                "verification": "Check TTFB in Network tab; compare with CDN vs origin"
              }
            ]
          },
          "tools": ["PageSpeed Insights", "Chrome DevTools Lighthouse", "web.dev/measure", "Search Console Core Web Vitals report", "CrUX Dashboard"]
        },
        {
          "id": "p4-10",
          "name": "Front-End Performance Optimization",
          "parentId": "phase-4",
          "priority": "know_well",
          "category": "performance",
          "definition": "Techniques and best practices for improving web page load speed and responsiveness, including asset optimization, compression, caching, CDN usage, and resource hints.",
          "adsContext": "Every 100ms of added page load time decreases conversion rates by ~7%. Landing page speed directly affects Quality Score through Landing Page Experience. TSCs recommend optimizations to improve both ad performance and user experience.",
          "tscRelevance": "TSCs must provide actionable recommendations when clients have slow landing pages. Understanding optimization techniques allows specific, prioritized recommendations rather than generic advice.",
          "keyDetails": [
            "Minification: Remove unnecessary characters (whitespace, comments) from JS/CSS; reduces file size 10-30%",
            "Compression: gzip (ubiquitous) or Brotli (newer, ~15-20% better) compress text resources; enable on server",
            "Caching strategies: Cache-Control headers define browser caching; use versioned filenames for cache busting",
            "CDN (Content Delivery Network): Distribute content to edge servers globally; reduces latency for distant users",
            "Code splitting: Load only necessary JavaScript for current page; defer loading of other code chunks",
            "Tree shaking: Remove unused code from bundles during build process",
            "preconnect: <link rel='preconnect' href='//example.com'> - early connection to critical third-party domains",
            "prefetch: <link rel='prefetch' href='/next-page.html'> - load resources for likely next navigation",
            "preload: <link rel='preload' href='/critical.css' as='style'> - load critical resources early in current page",
            "Image optimization: Use WebP/AVIF formats; responsive images (srcset); lazy loading; proper compression"
          ],
          "interviewQuestions": [
            "A client's landing page takes 8 seconds to load. Walk through the optimizations you would recommend in priority order.",
            "What is the difference between preconnect, prefetch, and preload hints?",
            "Explain how a CDN improves page load performance."
          ],
          "sqlConnection": "Performance data can be correlated with conversion data to quantify the business impact of optimization improvements.",
          "troubleshooting": {
            "symptoms": [
              "Slow page load time",
              "Large JavaScript bundles",
              "Uncompressed resources",
              "No caching headers set"
            ],
            "diagnosticQuestions": [
              "What is the total page weight?",
              "Are resources being compressed?",
              "Is caching properly configured?",
              "Is a CDN in use?"
            ],
            "causes": [
              {
                "issue": "No compression enabled on server",
                "probability": "high",
                "resolution": "Enable gzip/Brotli compression in server config (Apache: mod_deflate, Nginx: gzip on)",
                "verification": "Check Content-Encoding response header; use Lighthouse"
              },
              {
                "issue": "Large unoptimized images",
                "probability": "high",
                "resolution": "Compress images; use WebP; implement responsive images; lazy load below-fold images",
                "verification": "Check Network tab for image sizes; use Lighthouse image audits"
              },
              {
                "issue": "No CDN causing high latency for distant users",
                "probability": "medium",
                "resolution": "Implement CDN (Cloudflare, AWS CloudFront, Fastly); configure caching rules",
                "verification": "Test from multiple locations using WebPageTest; compare TTFB"
              },
              {
                "issue": "No caching headers causing repeat downloads",
                "probability": "medium",
                "resolution": "Set Cache-Control: max-age for static assets; use versioned URLs for cache busting",
                "verification": "Check Cache-Control headers; verify 304 responses on repeat visits"
              }
            ]
          },
          "tools": ["Lighthouse", "WebPageTest", "GTmetrix", "Cloudflare/CDN dashboards", "webpack-bundle-analyzer"]
        },
        {
          "id": "p4-11",
          "name": "Security Fundamentals",
          "parentId": "phase-4",
          "priority": "must_know_cold",
          "category": "security",
          "definition": "Web security concepts and mechanisms that protect users and sites from attacks, including authentication, authorization, cross-origin policies, and content security policies.",
          "adsContext": "CSP (Content Security Policy) blocking is the #1 cause of tag implementation failures in the field. CORS issues prevent cross-domain tracking. XSS vulnerabilities can lead to ad fraud or malware injection. Understanding security is essential for diagnosing why tags don't work.",
          "tscRelevance": "TSCs must diagnose security-related tag failures daily. 'Why is GTM not loading?' is often answered by checking CSP headers. This is MUST KNOW COLD - security knowledge separates junior from senior troubleshooting.",
          "keyDetails": [
            "AuthN (Authentication): Verifying identity - 'who are you?' (login, passwords, OAuth)",
            "AuthZ (Authorization): Verifying permissions - 'what can you do?' (roles, permissions, ACLs)",
            "OAuth 2.0: Authorization framework allowing third-party access without sharing credentials; uses access tokens",
            "CORS (Cross-Origin Resource Sharing): Browser mechanism controlling cross-origin requests; requires server headers",
            "CSP (Content-Security-Policy): CRITICAL - HTTP header controlling what resources can load. script-src directive blocks inline scripts and external domains not whitelisted. Most common cause of GTM/tag failures.",
            "CSP directives: script-src (scripts), img-src (images), connect-src (fetch/XHR), frame-src (iframes), default-src (fallback)",
            "CSP fix for GTM: script-src must include 'www.googletagmanager.com' and 'unsafe-inline' for GTM to work",
            "XSS (Cross-Site Scripting): Injection of malicious scripts; CSP helps prevent; causes include unsanitized user input",
            "CSRF (Cross-Site Request Forgery): Tricking users into making unwanted requests; prevented with CSRF tokens",
            "SameSite cookies: Modern CSRF protection; Strict/Lax values limit cross-site cookie sending"
          ],
          "interviewQuestions": [
            "What is CSP and how can it break Google Tag Manager? What would you check to diagnose?",
            "Explain the difference between authentication and authorization.",
            "A client reports that their tracking pixel isn't firing and the console shows a 'Refused to load script' error. What's happening and how do you fix it?"
          ],
          "sqlConnection": "Security issues may appear in log data as blocked requests or errors. Analysis can identify patterns in security-related failures.",
          "troubleshooting": {
            "symptoms": [
              "GTM/tags not loading",
              "Console showing 'Refused to load' errors",
              "Cross-origin request blocked",
              "Tracking pixels not firing"
            ],
            "diagnosticQuestions": [
              "Is there a CSP header in the response?",
              "What domains are blocked by CSP?",
              "Are there CORS errors in the console?",
              "What security headers are present?"
            ],
            "causes": [
              {
                "issue": "CSP blocking Google Tag Manager",
                "probability": "very_high",
                "resolution": "Add to script-src: 'www.googletagmanager.com' 'www.google-analytics.com' 'unsafe-inline' 'unsafe-eval' (or use nonce/hash)",
                "verification": "Check console for CSP errors; review Content-Security-Policy header; test after update"
              },
              {
                "issue": "CSP blocking tracking pixels (img-src)",
                "probability": "high",
                "resolution": "Add tracking domains to img-src directive; common: 'www.google.com' 'www.google-analytics.com'",
                "verification": "Check for blocked image requests in console; verify img-src directive"
              },
              {
                "issue": "CORS blocking analytics requests",
                "probability": "medium",
                "resolution": "Server must return Access-Control-Allow-Origin header; for credentials, must specify exact origin (not *)",
                "verification": "Check OPTIONS preflight in Network tab; verify response headers"
              },
              {
                "issue": "connect-src blocking beacon/fetch requests",
                "probability": "medium",
                "resolution": "Add tracking endpoints to connect-src: 'www.google-analytics.com' 'analytics.google.com'",
                "verification": "Check for blocked XHR/fetch in console; review connect-src directive"
              }
            ]
          },
          "tools": ["Browser DevTools Console", "Browser DevTools Network tab", "Security Headers (securityheaders.com)", "CSP Evaluator", "Report-URI"]
        }
      ]
    },
    {
      "id": "phase-5",
      "name": "Conversion Tracking",
      "phaseNumber": 5,
      "priority": "must_know_cold",
      "category": "data_pipelines",
      "funnelStage": "Action",
      "summary": "The complete conversion tracking ecosystem from tag implementation through attribution, including GCLID mechanics, GTM architecture, Enhanced Conversions, Offline Conversion Import, and Consent Mode - the foundation of all Google Ads optimization",
      "adsContext": "Conversion tracking is THE foundation of performance advertising. Without accurate conversion data, Smart Bidding cannot optimize, ROAS cannot be measured, and advertisers are flying blind. TSCs spend significant time troubleshooting why conversions aren't tracking, why attribution is off, and how to implement privacy-compliant measurement.",
      "dataFlowIn": "User actions on website/app, GCLID from click, first-party customer data (email, phone), offline CRM data, consent signals",
      "dataFlowOut": "Conversion data attributed to campaigns/keywords, Smart Bidding signals, ROAS calculations, audience data for remarketing",
      "children": [
        {
          "id": "p5-1",
          "name": "What Conversion Tracking Is",
          "parentId": "phase-5",
          "priority": "must_know_cold",
          "category": "fundamentals",
          "definition": "The process of measuring and attributing user actions (conversions) back to specific ad interactions, enabling advertisers to understand which ads drive valuable outcomes and allowing Google's algorithms to optimize for those outcomes.",
          "adsContext": "Conversion tracking is non-negotiable for optimization. Without it, Smart Bidding has no signal to optimize toward, ROAS is unmeasurable, and advertisers cannot distinguish profitable campaigns from money pits. It transforms Google Ads from a 'spray and pray' channel into a precision performance machine.",
          "tscRelevance": "TSCs must explain why conversion tracking matters, help clients identify what to track, and troubleshoot when conversions aren't recording. This is fundamental to every performance conversation.",
          "keyDetails": [
            "Conversion: Any valuable user action - purchase, lead form submission, signup, phone call, app install, page view, etc.",
            "Conversion value: Monetary or weighted value assigned to each conversion for ROAS calculations",
            "Conversion window: Time period after ad interaction during which a conversion can be attributed (click-through: 1-90 days, view-through: 1-30 days)",
            "Click-through conversion: User clicked ad, then converted within the conversion window",
            "View-through conversion: User saw ad (impression) but didn't click, then converted later - measures brand impact",
            "Conversion rate: Conversions / Clicks - key efficiency metric, typically 2-5% for lead gen, 1-3% for e-commerce",
            "Primary vs Secondary conversions: Primary conversions are used for bidding optimization; secondary are tracked but not used for bid signals",
            "Conversion counting: One (unique, good for leads) vs Every (all instances, good for purchases)"
          ],
          "interviewQuestions": [
            "Why is conversion tracking non-negotiable for Smart Bidding campaigns?",
            "A client asks whether they should count conversions as 'One' or 'Every'. How do you advise them for a lead generation vs e-commerce business?",
            "Explain the difference between click-through and view-through conversions and when each is valuable."
          ],
          "sqlConnection": "Conversion data joins to click data via GCLID, enabling attribution analysis and ROAS calculations across campaigns, ad groups, and keywords.",
          "troubleshooting": {
            "symptoms": [
              "Smart Bidding performing poorly",
              "No conversion data in reports",
              "ROAS showing as zero or null",
              "Conversion rate seems impossibly low"
            ],
            "diagnosticQuestions": [
              "Is conversion tracking implemented correctly?",
              "Are conversions marked as Primary or Secondary?",
              "What is the conversion window setting?",
              "Is the conversion action active and not removed?"
            ],
            "causes": [
              {
                "issue": "No conversion tracking implemented",
                "probability": "high",
                "resolution": "Implement conversion tracking via Google Ads tag, GTM, or GA4 import",
                "verification": "Check Conversions section in Google Ads; use Tag Assistant to verify tags"
              },
              {
                "issue": "Conversion action set to Secondary instead of Primary",
                "probability": "medium",
                "resolution": "Edit conversion action and set 'Include in Conversions' to Yes for bid optimization",
                "verification": "Check 'Include in Conversions' column in conversion actions list"
              },
              {
                "issue": "Conversion window too short for sales cycle",
                "probability": "medium",
                "resolution": "Extend click-through conversion window to match typical customer journey (up to 90 days)",
                "verification": "Analyze time-to-conversion reports; adjust window to capture majority of conversions"
              }
            ]
          },
          "tools": ["Google Ads Conversions", "Google Tag Assistant", "GA4 Conversions", "Conversion Lag Report"]
        },
        {
          "id": "p5-2",
          "name": "The GCLID Bridge",
          "parentId": "phase-5",
          "priority": "must_know_cold",
          "category": "tracking_mechanism",
          "definition": "The Google Click Identifier (GCLID) is the unique parameter appended to landing page URLs when auto-tagging is enabled, serving as the bridge between ad clicks and conversions by storing click information in a first-party cookie that conversion tags read to attribute actions back to specific clicks.",
          "adsContext": "GCLID is THE mechanism that enables conversion attribution. Without GCLID, Google Ads cannot know which click led to which conversion. This is fundamental to how Smart Bidding learns which users convert and at what value. Understanding the GCLID flow is essential for diagnosing 90% of conversion tracking issues.",
          "tscRelevance": "This is MUST KNOW COLD. TSCs trace GCLID flow when troubleshooting attribution: Is GCLID in the URL? Is it being stored in the cookie? Is the conversion tag reading the cookie? Breaking down the GCLID bridge is core TSC diagnostic work.",
          "keyDetails": [
            "GCLID format: URL parameter ?gclid=<base64_encoded_string> - typically 40-100 characters",
            "Auto-tagging: Must be enabled in Google Ads account settings (enabled by default) - appends GCLID to destination URLs",
            "_gcl_aw cookie: First-party cookie storing GCLID value, set by Google's conversion linker tag or gtag.js",
            "_gcl_aw format: 'GCL.<domain_hash>.<timestamp>.<gclid_value>' - stores click attribution data",
            "_gcl_aw expiration: 90 days by default - matches maximum click-through conversion window",
            "Cookie read flow: Conversion tag fires → reads _gcl_aw cookie → extracts GCLID → sends to Google Ads with conversion data",
            "Attribution chain: User clicks ad → GCLID appended → Lands on page → GCLID stored in _gcl_aw → User converts → Tag reads cookie → Conversion attributed to original click",
            "Cross-device limitation: GCLID is device-specific (cookie-based), but signed-in users can be matched cross-device via Enhanced Conversions"
          ],
          "interviewQuestions": [
            "Walk me through the complete GCLID flow from ad click to conversion attribution.",
            "A client's conversions suddenly dropped to zero but they're still getting clicks. What's the first thing you check related to GCLID?",
            "Why is the _gcl_aw cookie set as a first-party cookie rather than a third-party cookie?"
          ],
          "sqlConnection": "GCLID is the join key between click data and conversion data in BigQuery exports. Without GCLID, click-to-conversion joins fail.",
          "troubleshooting": {
            "symptoms": [
              "Conversions not attributing to clicks",
              "Zero conversions despite conversions happening",
              "GCLID not appearing in URLs",
              "Cross-domain tracking broken"
            ],
            "diagnosticQuestions": [
              "Is auto-tagging enabled in account settings?",
              "Is GCLID appearing in landing page URLs when clicking ads?",
              "Is the _gcl_aw cookie being set in the browser?",
              "Are there redirects or URL rewrites stripping the GCLID parameter?"
            ],
            "causes": [
              {
                "issue": "Auto-tagging disabled in Google Ads",
                "probability": "high",
                "resolution": "Enable auto-tagging: Account Settings > Auto-tagging > Tag the URL that people click through from my ad",
                "verification": "Click an ad in Ad Preview tool, check if ?gclid= appears in landing page URL"
              },
              {
                "issue": "Server-side redirects stripping GCLID parameter",
                "probability": "high",
                "resolution": "Configure server/CMS to pass through all query parameters during redirects (301, 302)",
                "verification": "Test redirect chain with redirect-checker.org; verify GCLID preserved through all hops"
              },
              {
                "issue": "_gcl_aw cookie not being set (missing conversion linker)",
                "probability": "high",
                "resolution": "Add Conversion Linker tag in GTM (fires on all pages) or ensure gtag.js is loading on all pages",
                "verification": "Check browser cookies for _gcl_aw; verify Conversion Linker tag fires in GTM Preview"
              },
              {
                "issue": "CMS or JavaScript framework removing URL parameters",
                "probability": "medium",
                "resolution": "Configure SPA/CMS to preserve query parameters; check client-side routing logic",
                "verification": "Navigate through site after clicking ad; verify GCLID remains in URL or is stored in cookie"
              },
              {
                "issue": "Cookie consent blocking _gcl_aw cookie creation",
                "probability": "medium",
                "resolution": "Implement Consent Mode; ensure ad_storage consent before setting cookies",
                "verification": "Check Consent Mode settings; verify consent banner behavior"
              }
            ]
          },
          "tools": ["Ad Preview and Diagnosis", "Browser DevTools (Application > Cookies)", "GTM Preview Mode", "Tag Assistant", "Redirect Checker"]
        },
        {
          "id": "p5-3",
          "name": "Google Tag (gtag.js)",
          "parentId": "phase-5",
          "priority": "must_know_cold",
          "category": "implementation",
          "definition": "Google's unified JavaScript tagging library that enables conversion tracking, remarketing, and analytics across Google products through a single, asynchronous script that communicates with Google Ads, GA4, and other Google services.",
          "adsContext": "gtag.js is the direct implementation method for Google Ads conversion tracking. While GTM is preferred for flexibility, many sites use gtag.js directly. Understanding both the config command (initializes tag) and event command (tracks conversions) is essential for troubleshooting.",
          "tscRelevance": "TSCs must read and debug gtag.js implementations, understand the command syntax, and diagnose when events aren't firing. Many support tickets involve misconfigured gtag.js calls.",
          "keyDetails": [
            "Global site tag: <script async src='https://www.googletagmanager.com/gtag/js?id=AW-XXXXXX'></script> - loads the library asynchronously",
            "gtag() function: Universal command interface - gtag('config', ...), gtag('event', ...), gtag('set', ...)",
            "Config command: gtag('config', 'AW-CONVERSION_ID') - initializes the tag, sets default parameters",
            "Event command: gtag('event', 'conversion', {'send_to': 'AW-CONVERSION_ID/CONVERSION_LABEL', 'value': 100, 'currency': 'USD'})",
            "Conversion ID: Account-level identifier (AW-XXXXXXXXXX) - same for all conversions in account",
            "Conversion Label: Unique identifier for each conversion action - differentiates purchase vs lead vs signup",
            "Async loading: Script loads without blocking page render - critical for page speed",
            "Multiple destinations: Single gtag.js can send to multiple Google products (Ads, GA4, Floodlight)"
          ],
          "interviewQuestions": [
            "Explain the difference between the gtag config command and the gtag event command.",
            "A client shows you their conversion tag code and asks why it's not tracking. What do you look for?",
            "Why is gtag.js loaded with the async attribute and what happens if you remove it?"
          ],
          "sqlConnection": "gtag.js sends conversion data that populates the conversions table, joined to clicks via GCLID for attribution reporting.",
          "troubleshooting": {
            "symptoms": [
              "Conversion tag not firing",
              "gtag is not defined error",
              "Duplicate conversions being recorded",
              "Conversion value not being captured"
            ],
            "diagnosticQuestions": [
              "Is the gtag.js library loading successfully?",
              "Is gtag('config', ...) being called?",
              "Is the event command firing on the correct page/action?",
              "Are Conversion ID and Label correct?"
            ],
            "causes": [
              {
                "issue": "gtag.js library not loading (network/CSP block)",
                "probability": "high",
                "resolution": "Check CSP headers for googletagmanager.com; verify script tag is in page source",
                "verification": "Browser Network tab - filter by 'gtag'; check console for CSP errors"
              },
              {
                "issue": "Config command missing or incorrect",
                "probability": "high",
                "resolution": "Ensure gtag('config', 'AW-XXXXXX') is called after library loads",
                "verification": "Check page source for config call; verify Conversion ID matches account"
              },
              {
                "issue": "Event command not firing on conversion action",
                "probability": "high",
                "resolution": "Add gtag('event', 'conversion', {...}) call on thank you page or form submit",
                "verification": "Use Tag Assistant or Network tab to verify conversion event sent"
              },
              {
                "issue": "Wrong Conversion ID or Label",
                "probability": "medium",
                "resolution": "Copy exact Conversion ID and Label from Google Ads conversion action setup",
                "verification": "Compare code values against Google Ads > Conversions > Tag setup"
              },
              {
                "issue": "Tag firing multiple times (duplicate conversions)",
                "probability": "medium",
                "resolution": "Add logic to prevent duplicate fires; use transaction ID to dedupe",
                "verification": "Check conversion counts vs actual transactions; implement transaction_id"
              }
            ]
          },
          "tools": ["Browser DevTools Console/Network", "Tag Assistant", "Google Ads Tag Setup", "Conversion Debugger"]
        },
        {
          "id": "p5-4",
          "name": "GTM Architecture",
          "parentId": "phase-5",
          "priority": "must_know_cold",
          "category": "tag_management",
          "definition": "Google Tag Manager is a tag management system that enables marketers to deploy and manage tracking tags without code changes, using a container that houses Tags (what to track), Triggers (when to fire), Variables (dynamic values), and the dataLayer (event/data communication layer).",
          "adsContext": "GTM is the recommended implementation method for Google Ads conversion tracking at scale. It provides version control, testing via Preview mode, and non-developer deployment. TSCs troubleshoot GTM configurations daily - understanding the Tag → Trigger → Variable → dataLayer relationship is essential.",
          "tscRelevance": "GTM is CRITICAL for TSCs. Most enterprise implementations use GTM. Understanding containers, the dataLayer, Preview mode debugging, and how Tags, Triggers, and Variables interact is essential for diagnosing why conversions aren't tracking.",
          "keyDetails": [
            "Container: GTM-XXXXXX identifier - the 'bucket' holding all tags, triggers, and variables for a site",
            "Container snippet: Two parts - <script> in <head> and <noscript> after <body> tag",
            "Tags: What gets executed - Google Ads Conversion, GA4 Event, Custom HTML, etc.",
            "Triggers: When tags fire - Page View, Click, Form Submit, Custom Event, Timer, etc.",
            "Variables: Dynamic values used in tags/triggers - Click URL, Page URL, dataLayer variables, constants",
            "dataLayer: JavaScript array that passes data to GTM - window.dataLayer.push({'event': 'purchase', 'value': 99.99})",
            "Built-in variables: Pre-configured variables like Page URL, Click Text, Form ID that GTM can access automatically",
            "Custom variables: User-defined variables reading from dataLayer, DOM, cookies, or JavaScript",
            "Preview mode: Testing environment showing which tags fire, what triggers activated, and variable values in real-time",
            "Version control: Every publish creates a version; can rollback to previous versions if issues arise",
            "Workspaces: Parallel development environments for team collaboration without conflicts"
          ],
          "interviewQuestions": [
            "Explain the relationship between Tags, Triggers, and Variables in GTM.",
            "What is the dataLayer and why is it important for GTM implementations?",
            "Walk me through how you would debug a conversion tag that isn't firing using GTM Preview mode.",
            "A client's conversion tag is firing on every page instead of just the thank you page. What went wrong?"
          ],
          "sqlConnection": "GTM sends data that populates conversion tables; dataLayer values like transaction_id and value become fields in the data warehouse for analysis.",
          "troubleshooting": {
            "symptoms": [
              "GTM container not loading",
              "Conversion tag not firing",
              "Tag firing on wrong pages",
              "Variable values undefined",
              "Preview mode not connecting"
            ],
            "diagnosticQuestions": [
              "Is the GTM container snippet installed correctly?",
              "Is the tag associated with the correct trigger?",
              "Is the trigger condition evaluating as expected?",
              "Are required variables populated with correct values?",
              "Is the dataLayer.push() happening before GTM loads?"
            ],
            "causes": [
              {
                "issue": "GTM container snippet missing or incorrect",
                "probability": "high",
                "resolution": "Install both parts of snippet: <script> in <head>, <noscript> after opening <body>",
                "verification": "View page source; search for GTM-XXXXXX; verify both snippets present"
              },
              {
                "issue": "Trigger too broad (fires everywhere) or too narrow (never fires)",
                "probability": "high",
                "resolution": "Refine trigger conditions - use Page URL, Click, or Custom Event triggers with specific conditions",
                "verification": "Use Preview mode to see which triggers fire on target pages"
              },
              {
                "issue": "dataLayer.push() called after GTM loads (timing issue)",
                "probability": "high",
                "resolution": "Push dataLayer values before GTM snippet loads, or use Event trigger that waits for the push",
                "verification": "Check dataLayer array in console; verify event appears; use DOM Ready or Window Loaded triggers"
              },
              {
                "issue": "Variable referencing wrong dataLayer key",
                "probability": "medium",
                "resolution": "Verify variable name matches exact dataLayer key (case-sensitive)",
                "verification": "Check dataLayer in console; compare key names to GTM variable configuration"
              },
              {
                "issue": "Preview mode blocked by browser extensions or CSP",
                "probability": "medium",
                "resolution": "Disable ad blockers; check CSP for tagmanager.google.com; try incognito mode",
                "verification": "Check console for errors; verify Tag Assistant extension is installed and enabled"
              },
              {
                "issue": "Container published to wrong environment",
                "probability": "low",
                "resolution": "Check publish target - ensure publishing to live environment, not just workspace",
                "verification": "Check version history; verify latest version is published to Live"
              }
            ]
          },
          "tools": ["GTM Preview Mode", "GTM Debug Panel", "Tag Assistant Chrome Extension", "Browser Console (window.dataLayer)", "GTM Version History"]
        },
        {
          "id": "p5-5",
          "name": "Server-Side GTM (sGTM)",
          "parentId": "phase-5",
          "priority": "know_well",
          "category": "advanced_implementation",
          "definition": "Server-side Google Tag Manager moves tag processing from the user's browser to a server environment (typically Cloud Run or App Engine), enabling first-party data collection, improved privacy, reduced client-side load, and protection against ad blockers.",
          "adsContext": "Server-side GTM is increasingly important as privacy regulations tighten and browsers restrict third-party cookies. It enables first-party cookie setting (longer lifetimes), reduces page load impact, and provides a privacy-preserving layer between user data and third-party vendors.",
          "tscRelevance": "TSCs should understand sGTM architecture for advanced implementations and privacy-focused clients. While less common than client-side GTM, enterprise clients increasingly ask about sGTM for compliance and performance.",
          "keyDetails": [
            "Architecture: Client → Client-side GTM → sGTM Server → Google/Third parties (vs. Client → Third parties directly)",
            "Deployment options: Google Cloud Run (recommended, auto-scaling), App Engine, or manual server deployment",
            "First-party context: Server sets cookies as first-party (your domain), avoiding third-party cookie restrictions",
            "Custom domain: sGTM runs on subdomain of your site (e.g., gtm.yourdomain.com) for first-party context",
            "Data control: All data flows through your server - can sanitize, transform, or block before sending to vendors",
            "Ad blocker resistance: Requests go to your domain, not third-party tracking domains - harder to block",
            "Stape.io: Popular managed sGTM provider - handles hosting, scaling, and maintenance",
            "Cost consideration: Cloud Run charges based on requests and compute time - typically $50-200/month for most sites",
            "Client-side + Server-side: Often used together - client GTM sends to sGTM, which forwards to Google Ads"
          ],
          "interviewQuestions": [
            "What are the main benefits of server-side GTM over client-side GTM?",
            "How does server-side GTM help with privacy compliance and first-party data?",
            "When would you recommend a client implement server-side GTM?"
          ],
          "sqlConnection": "sGTM can log all events to BigQuery for raw data access, enabling custom attribution models and detailed analysis.",
          "troubleshooting": {
            "symptoms": [
              "sGTM not receiving events",
              "Conversions not being forwarded",
              "High latency in tracking",
              "Cost unexpectedly high"
            ],
            "diagnosticQuestions": [
              "Is the sGTM endpoint reachable?",
              "Is client-side GTM sending events to sGTM endpoint?",
              "Are server-side tags configured correctly?",
              "Is Cloud Run scaling appropriately?"
            ],
            "causes": [
              {
                "issue": "Client-side GTM not sending to sGTM endpoint",
                "probability": "high",
                "resolution": "Configure transport_url in client-side gtag or GTM to point to sGTM domain",
                "verification": "Check Network tab for requests to sGTM subdomain"
              },
              {
                "issue": "sGTM client not parsing incoming requests",
                "probability": "medium",
                "resolution": "Verify GA4 client or custom client is configured to claim incoming requests",
                "verification": "Use sGTM Preview mode to see if events are being parsed"
              },
              {
                "issue": "Custom domain DNS not configured correctly",
                "probability": "medium",
                "resolution": "Set up CNAME or A record pointing subdomain to Cloud Run service",
                "verification": "nslookup/dig the sGTM subdomain; verify SSL certificate"
              }
            ]
          },
          "tools": ["Google Cloud Console", "Cloud Run Logs", "sGTM Preview Mode", "Stape.io", "BigQuery Logging"]
        },
        {
          "id": "p5-6",
          "name": "Enhanced Conversions",
          "parentId": "phase-5",
          "priority": "must_know_cold",
          "category": "privacy_measurement",
          "definition": "A privacy-preserving feature that improves conversion measurement by sending hashed first-party customer data (email, phone, name, address) to Google, enabling better attribution even when cookies are limited or users browse across devices.",
          "adsContext": "Enhanced Conversions is Google's answer to cookie deprecation and privacy restrictions. By sending hashed PII that matches against Google's signed-in user base, it recovers conversions that would otherwise be lost due to cookie restrictions, cross-device journeys, or ad blockers. This is THE future of conversion tracking.",
          "tscRelevance": "TSCs must understand Enhanced Conversions as the primary solution for improving conversion accuracy. Implementation questions, debugging hash mismatches, and explaining privacy implications are common TSC tasks.",
          "keyDetails": [
            "Purpose: Recover conversions lost to cookie restrictions, cross-device paths, and privacy measures",
            "Data types: Email (most common), phone number, first name, last name, street address, city, state, postal code, country",
            "SHA-256 hashing: Data is hashed client-side before sending to Google - Google never sees plain text",
            "Normalization: Data must be normalized before hashing (lowercase, trim whitespace, specific phone formats)",
            "Implementation options: gtag.js automatic, gtag.js manual, GTM, Google Ads API",
            "Automatic detection: gtag can auto-detect form fields with customer data (requires enabling in Ads)",
            "Match rate: Percentage of conversions that match a Google account - higher = better attribution",
            "Privacy compliance: Complies with GDPR when user consents to data sharing; hash is one-way",
            "Enhanced Conversions for Leads: Variant that matches lead submissions (email) to later offline conversions"
          ],
          "interviewQuestions": [
            "Explain how Enhanced Conversions improves measurement accuracy while maintaining user privacy.",
            "A client's Enhanced Conversions match rate is only 30%. What factors might be causing low match rates?",
            "Walk me through implementing Enhanced Conversions via GTM."
          ],
          "sqlConnection": "Enhanced Conversions data enriches the conversion table with modeled conversions, improving attribution accuracy in ROAS calculations.",
          "troubleshooting": {
            "symptoms": [
              "Low Enhanced Conversions match rate",
              "Enhanced Conversions not working",
              "Conversion lift not observed",
              "Hash validation errors"
            ],
            "diagnosticQuestions": [
              "Is Enhanced Conversions enabled in the conversion action settings?",
              "Is customer data being captured correctly on conversion pages?",
              "Is data being normalized before hashing?",
              "Is the correct hashing algorithm being used (SHA-256)?"
            ],
            "causes": [
              {
                "issue": "Data not normalized before hashing",
                "probability": "high",
                "resolution": "Normalize data: lowercase email, remove whitespace, format phone as E.164 (+1234567890)",
                "verification": "Check GTM variable output; compare hash against test tool"
              },
              {
                "issue": "Enhanced Conversions not enabled in conversion action",
                "probability": "high",
                "resolution": "Edit conversion action > Enhanced conversions > Turn on enhanced conversions",
                "verification": "Check conversion action settings in Google Ads"
              },
              {
                "issue": "Customer data fields not populated on conversion page",
                "probability": "medium",
                "resolution": "Ensure email/phone are present on thank you page (passed via dataLayer or DOM)",
                "verification": "Check dataLayer or page source on conversion page for customer data"
              },
              {
                "issue": "Automatic detection not matching form fields",
                "probability": "medium",
                "resolution": "Use manual implementation with explicit field mapping, or add data attributes to form fields",
                "verification": "Check automatic detection status in Google Ads; switch to manual if needed"
              }
            ]
          },
          "tools": ["Google Ads Diagnostics", "GTM Preview Mode", "Tag Assistant", "Enhanced Conversions Helper", "SHA-256 Hash Validator"]
        },
        {
          "id": "p5-7",
          "name": "Offline Conversion Import (OCI)",
          "parentId": "phase-5",
          "priority": "must_know_cold",
          "category": "data_integration",
          "definition": "The process of uploading conversion data from offline sources (CRM, point-of-sale, call centers) back to Google Ads, enabling attribution of offline outcomes to online ad clicks using GCLID or Enhanced Conversions for Leads.",
          "adsContext": "OCI is critical for businesses where the conversion happens offline - car dealerships (sale), B2B (signed contract), insurance (policy binding). Without OCI, Smart Bidding optimizes for low-value leads instead of high-value customers. This is how you train Smart Bidding on real business outcomes.",
          "tscRelevance": "TSCs help clients implement OCI workflows, troubleshoot upload errors, and explain the GCLID → CRM → Upload cycle. Understanding data requirements and common errors is essential.",
          "keyDetails": [
            "GCLID capture: Must store GCLID from landing page URL in CRM at lead creation time - this is the attribution key",
            "Upload data requirements: GCLID, conversion action name, conversion time (datetime), conversion value (optional)",
            "Upload methods: Manual UI upload (CSV), scheduled uploads via Google Ads API, CRM integrations (Salesforce, HubSpot)",
            "Conversion time window: Must upload within 90 days of click for attribution",
            "Data format: Date/time in specific format (yyyy-mm-dd hh:mm:ss), GCLID as captured, no transformations",
            "Enhanced Conversions for Leads: Alternative using hashed email instead of GCLID - easier for some CRM workflows",
            "Click-to-conversion latency: OCI allows tracking long sales cycles (weeks/months) that exceed website conversion windows",
            "Conversion value adjustment: Can import different values as deals progress (lead → opportunity → closed won)",
            "Duplicate handling: Google dedupes based on GCLID + conversion action + conversion time"
          ],
          "interviewQuestions": [
            "A B2B client says their Smart Bidding is optimizing for low-quality leads. How does Offline Conversion Import help?",
            "Walk me through the complete workflow for capturing GCLID and uploading offline conversions.",
            "What are common reasons Offline Conversion Import uploads fail?"
          ],
          "sqlConnection": "OCI data can be exported from CRM via SQL queries joining lead tables with conversion data, formatted for Google Ads upload requirements.",
          "troubleshooting": {
            "symptoms": [
              "OCI upload failing with errors",
              "Conversions not appearing after upload",
              "Low attribution rate on uploads",
              "GCLID not being captured in CRM"
            ],
            "diagnosticQuestions": [
              "Is GCLID being captured and stored in the CRM?",
              "Is the upload file formatted correctly?",
              "Is conversion time within 90 days of click?",
              "Does the conversion action name match exactly?"
            ],
            "causes": [
              {
                "issue": "GCLID not being captured from landing page URL",
                "probability": "high",
                "resolution": "Add hidden form field or JavaScript to capture gclid URL parameter and store in CRM",
                "verification": "Check CRM lead records for populated GCLID field after ad clicks"
              },
              {
                "issue": "Conversion action name doesn't match Google Ads",
                "probability": "high",
                "resolution": "Use exact conversion action name from Google Ads (case-sensitive)",
                "verification": "Compare upload file values against Conversions list in Google Ads"
              },
              {
                "issue": "Date/time format incorrect",
                "probability": "high",
                "resolution": "Use format: yyyy-mm-dd hh:mm:ss (e.g., 2024-01-15 14:30:00) in consistent timezone",
                "verification": "Validate format in upload file; check timezone settings"
              },
              {
                "issue": "GCLID modified or truncated in CRM",
                "probability": "medium",
                "resolution": "Ensure CRM field can store full GCLID (up to 100 chars); no transformations applied",
                "verification": "Compare stored GCLID against original URL parameter length"
              },
              {
                "issue": "Upload after 90-day click-to-conversion window",
                "probability": "medium",
                "resolution": "Implement more frequent uploads; for long sales cycles, consider interim conversion actions",
                "verification": "Check time between click date and upload conversion time"
              }
            ]
          },
          "tools": ["Google Ads Offline Conversion Upload", "Google Ads API", "CRM GCLID Field", "Salesforce Google Ads Integration", "Zapier/Make"]
        },
        {
          "id": "p5-8",
          "name": "GA4 - Google Ads Integration",
          "parentId": "phase-5",
          "priority": "know_well",
          "category": "platform_integration",
          "definition": "The bidirectional connection between Google Analytics 4 and Google Ads that enables importing GA4 conversions, sharing audiences, and unifying measurement across platforms while understanding the attribution differences between them.",
          "adsContext": "GA4 integration provides richer conversion data (including micro-conversions and engagement metrics) and powerful audience capabilities. However, attribution models and conversion counts often differ between GA4 and Google Ads native tracking, causing confusion. Understanding when to use each is key.",
          "tscRelevance": "TSCs frequently troubleshoot discrepancies between GA4 and Google Ads conversion counts. Understanding why the numbers differ (attribution models, conversion windows, counting methods) is essential for client conversations.",
          "keyDetails": [
            "Account linking: Connect GA4 property to Google Ads account in GA4 Admin > Product Links",
            "Importing conversions: GA4 events/conversions can be imported into Google Ads for bid optimization",
            "GA4 vs native tracking: GA4 uses data-driven attribution by default; Google Ads tag captures additional signals",
            "Audience sharing: GA4 audiences (based on behavior, demographics) can be used for Google Ads remarketing",
            "Attribution differences: GA4 uses 30-day lookback by default; Google Ads up to 90 days - causes count discrepancies",
            "Conversion counting: GA4 counts unique users by default; Google Ads counts every conversion instance",
            "Auto-tagging requirement: Must enable auto-tagging for Google Ads data to appear in GA4",
            "User ID: When GA4 has User ID enabled, cross-device attribution improves significantly",
            "Recommended use: Use Google Ads native for primary conversions (better signals); GA4 for micro-conversions and audiences"
          ],
          "interviewQuestions": [
            "A client asks why their GA4 conversion count differs from Google Ads. What are the likely causes?",
            "When would you recommend importing GA4 conversions vs using native Google Ads tracking?",
            "How does GA4 audience sharing benefit Google Ads campaigns?"
          ],
          "sqlConnection": "Both GA4 (BigQuery export) and Google Ads data can be joined on GCLID or user identifiers for unified analysis.",
          "troubleshooting": {
            "symptoms": [
              "GA4 and Google Ads conversion counts don't match",
              "Audiences not appearing in Google Ads",
              "Imported conversions showing no data",
              "Google Ads data not appearing in GA4"
            ],
            "diagnosticQuestions": [
              "Are the accounts properly linked?",
              "Is auto-tagging enabled in Google Ads?",
              "Are attribution models the same in both platforms?",
              "Are conversion counting methods configured the same?"
            ],
            "causes": [
              {
                "issue": "Attribution model differences",
                "probability": "high",
                "resolution": "Understand that differences are expected - GA4 defaults to data-driven, Google Ads varies. Align reporting expectations.",
                "verification": "Check attribution settings in both platforms; explain expected variance to clients"
              },
              {
                "issue": "Accounts not linked properly",
                "probability": "high",
                "resolution": "Verify linking in GA4 Admin > Product Links > Google Ads; check for correct account ID",
                "verification": "Confirm link status in both GA4 and Google Ads Linked Accounts"
              },
              {
                "issue": "Auto-tagging disabled",
                "probability": "medium",
                "resolution": "Enable auto-tagging in Google Ads Account Settings for GA4 to receive campaign data",
                "verification": "Check Account Settings > Auto-tagging; verify GCLID appears in URLs"
              },
              {
                "issue": "Audience list too small (under 1000 users)",
                "probability": "medium",
                "resolution": "GA4 audiences need 1000+ users to be usable in Google Ads; broaden audience definition or wait for growth",
                "verification": "Check audience size in GA4; review minimum requirements in Google Ads"
              }
            ]
          },
          "tools": ["GA4 Admin", "Google Ads Linked Accounts", "GA4 Conversions", "Audience Manager", "Model Comparison Report"]
        },
        {
          "id": "p5-9",
          "name": "Attribution Models",
          "parentId": "phase-5",
          "priority": "know_well",
          "category": "measurement",
          "definition": "The rules that determine how credit for conversions is assigned to touchpoints in the customer journey, ranging from simple last-click attribution to machine learning-based data-driven attribution that analyzes conversion patterns.",
          "adsContext": "Attribution models directly impact how Smart Bidding optimizes and how performance appears in reports. Last-click overvalues bottom-funnel keywords; data-driven attribution (DDA) distributes credit based on actual impact. Understanding attribution is key to interpreting campaign performance.",
          "tscRelevance": "TSCs explain attribution differences to clients who question why changing models affects reported performance. Understanding DDA's machine learning approach and cross-device capabilities is increasingly important.",
          "keyDetails": [
            "Last-click (default legacy): 100% credit to final click before conversion - overvalues brand/retargeting",
            "First-click: 100% credit to first interaction - overvalues awareness campaigns",
            "Linear: Equal credit to all touchpoints - simple but not reflective of actual impact",
            "Time decay: More credit to touchpoints closer to conversion - balances awareness and closing",
            "Position-based: 40% first, 40% last, 20% split among middle - values journey endpoints",
            "Data-driven attribution (DDA): ML-based model using your account data to calculate each touchpoint's actual impact",
            "DDA requirements: Sufficient conversion volume (typically 300+ conversions in 30 days) for model training",
            "Cross-device attribution: DDA uses Google signed-in data to connect conversion paths across devices",
            "Model comparison report: Tool in Google Ads to see how different models would credit your conversions",
            "Impact on Smart Bidding: Bid strategies use attribution model to value each click - DDA provides best signal quality"
          ],
          "interviewQuestions": [
            "Explain how data-driven attribution differs from last-click attribution.",
            "A client switched from last-click to data-driven attribution and now their brand campaign looks worse. Why?",
            "Why does Google recommend data-driven attribution for Smart Bidding campaigns?"
          ],
          "sqlConnection": "Attribution data can be analyzed in BigQuery to see fractional conversion credit per touchpoint, enabling custom attribution analysis.",
          "troubleshooting": {
            "symptoms": [
              "Conversion credit seems wrong after model change",
              "DDA not available for conversion action",
              "Performance appears to change after attribution switch",
              "Cross-device conversions not showing"
            ],
            "diagnosticQuestions": [
              "What attribution model was used before vs now?",
              "Does the account have sufficient conversion volume for DDA?",
              "Are users signed into Google for cross-device tracking?",
              "Is the comparison accounting for attribution methodology change?"
            ],
            "causes": [
              {
                "issue": "Misunderstanding that attribution change affects 'actual' performance",
                "probability": "high",
                "resolution": "Explain that attribution changes how credit is reported, not actual conversions - it's a measurement change",
                "verification": "Show total conversions remain same; only distribution across touchpoints changes"
              },
              {
                "issue": "Insufficient conversion volume for DDA",
                "probability": "medium",
                "resolution": "DDA requires ~300 conversions in 30 days; use last-click or position-based for low-volume actions",
                "verification": "Check conversion volume in last 30 days; review DDA eligibility in attribution settings"
              },
              {
                "issue": "Not comparing like-for-like after model change",
                "probability": "medium",
                "resolution": "Use Model Comparison report to see same data under different models; allow time for reporting to stabilize",
                "verification": "Run model comparison for historical period to understand impact"
              }
            ]
          },
          "tools": ["Attribution Model Settings", "Model Comparison Report", "Attribution Paths", "Top Conversion Paths", "Data-Driven Attribution"]
        },
        {
          "id": "p5-10",
          "name": "Consent Mode v2",
          "parentId": "phase-5",
          "priority": "must_know_cold",
          "category": "privacy",
          "definition": "Google's framework for adjusting Google tag behavior based on user consent status, enabling privacy-compliant measurement while using conversion modeling to estimate conversions from users who don't consent to tracking.",
          "adsContext": "Consent Mode v2 is REQUIRED for EU/EEA advertisers as of March 2024. Without it, remarketing lists cannot be built and conversion data is limited. It enables compliant measurement while using Google's AI to model conversions from non-consenting users.",
          "tscRelevance": "TSCs must understand Consent Mode implementation, the consent signals, and how modeling fills gaps. Privacy compliance questions are increasingly common, especially for EU clients.",
          "keyDetails": [
            "Four consent signals: ad_storage (advertising cookies), analytics_storage (analytics cookies), ad_user_data (user data for ads), ad_personalization (personalized ads)",
            "Default state: Set consent states before tags fire - typically denied in EU until user consents",
            "Update on consent: gtag('consent', 'update', {...}) when user makes consent choice",
            "Behavior when denied: No cookies set, limited data collected via cookieless pings, but pings still sent",
            "Conversion modeling: Google's AI estimates conversions from non-consenting users based on observed patterns",
            "EU/EEA requirement: As of March 2024, ad_user_data and ad_personalization signals required for EU users",
            "Consent Mode v2 vs v1: v2 adds ad_user_data and ad_personalization signals (required for compliance)",
            "CMP integration: Consent Management Platforms (OneTrust, Cookiebot) can automatically update consent signals",
            "Basic vs Advanced mode: Basic blocks all tags until consent; Advanced sends cookieless pings even without consent"
          ],
          "interviewQuestions": [
            "Explain what happens when a user denies consent under Consent Mode v2.",
            "What are the four consent signals in Consent Mode v2 and what does each control?",
            "How does Google's conversion modeling work for users who don't consent to tracking?"
          ],
          "sqlConnection": "Consent state can be logged to BigQuery for analysis of consent rates and their impact on measurement coverage.",
          "troubleshooting": {
            "symptoms": [
              "No remarketing audiences being built for EU users",
              "Conversion numbers dropped after Consent Mode implementation",
              "Tags not firing at all for EU users",
              "Consent signals not being sent"
            ],
            "diagnosticQuestions": [
              "Is Consent Mode implemented with all four v2 signals?",
              "Is the consent banner triggering gtag consent updates?",
              "Are default consent states set before gtag/GTM loads?",
              "Is Advanced mode enabled for modeling?"
            ],
            "causes": [
              {
                "issue": "Consent Mode not implemented or using v1 instead of v2",
                "probability": "high",
                "resolution": "Implement Consent Mode v2 with all four signals; update existing v1 implementation",
                "verification": "Check gtag consent calls include ad_user_data and ad_personalization"
              },
              {
                "issue": "Using Basic mode - tags completely blocked without consent",
                "probability": "high",
                "resolution": "Switch to Advanced mode to enable cookieless pings and conversion modeling",
                "verification": "Check default consent implementation; verify pings sent even when denied"
              },
              {
                "issue": "CMP not properly updating consent signals",
                "probability": "medium",
                "resolution": "Configure CMP to call gtag('consent', 'update') when user makes choice",
                "verification": "Test consent flow; check console for consent update calls after banner interaction"
              },
              {
                "issue": "Consent defaults set after tags fire (timing issue)",
                "probability": "medium",
                "resolution": "Set gtag('consent', 'default') before gtag.js loads or in GTM before any tag fires",
                "verification": "Check page source order; ensure consent default is first gtag call"
              }
            ]
          },
          "tools": ["GTM Consent Mode Template", "CMP Integration", "Tag Assistant Consent Tab", "Google Ads Diagnostics", "Consent Mode Implementation Checker"]
        },
        {
          "id": "p5-11",
          "name": "Conversion Linker",
          "parentId": "phase-5",
          "priority": "know_well",
          "category": "tracking_utility",
          "definition": "A GTM tag (or functionality in gtag.js) that stores ad click information (GCLID, DCLID) in first-party cookies and enables cross-domain tracking by decorating links with click identifiers.",
          "adsContext": "The Conversion Linker is essential for GCLID persistence, especially for cross-domain journeys. Without it, GCLID may be lost between landing page and conversion page, breaking attribution. It's the unsung hero of conversion tracking.",
          "tscRelevance": "TSCs troubleshoot conversion attribution issues that often trace back to missing or misconfigured Conversion Linker tags, especially in cross-domain scenarios.",
          "keyDetails": [
            "Primary function: Reads GCLID/DCLID from URL and stores in first-party _gcl_* cookies",
            "Cookie: _gcl_aw for Google Ads click, _gcl_dc for Display & Video 360, _gcl_gb for Google Analytics",
            "Cross-domain tracking: Decorates links to other domains with click identifier to maintain attribution",
            "Link decoration: Appends _gl parameter to cross-domain links, carrying click information",
            "Configuration in GTM: Add Conversion Linker tag, set trigger to All Pages",
            "Cross-domain setup: Enable link decoration; specify accepted incoming link domains",
            "Cookie duration: Defaults to 90 days, matching Google Ads conversion window",
            "When to use: Required for GTM implementations; gtag.js includes this functionality automatically"
          ],
          "interviewQuestions": [
            "What does the Conversion Linker tag do and when is it required?",
            "A client has a two-domain checkout flow and conversions aren't tracking. What might be missing?",
            "How does cross-domain tracking work via the Conversion Linker?"
          ],
          "sqlConnection": "Conversion Linker enables GCLID persistence that makes click-to-conversion joins possible in SQL analysis.",
          "troubleshooting": {
            "symptoms": [
              "GCLID not persisting across pages",
              "Cross-domain conversions not tracking",
              "_gcl_aw cookie not being set",
              "Attribution breaking on domain transitions"
            ],
            "diagnosticQuestions": [
              "Is Conversion Linker tag present and firing?",
              "Is the tag firing on all pages (including landing page)?",
              "For cross-domain, is link decoration enabled?",
              "Are all domains in the cross-domain list?"
            ],
            "causes": [
              {
                "issue": "Conversion Linker tag missing from GTM container",
                "probability": "high",
                "resolution": "Add Conversion Linker tag with All Pages trigger",
                "verification": "Check GTM Tags list; verify tag fires in Preview mode on all pages"
              },
              {
                "issue": "Conversion Linker not firing on landing page",
                "probability": "high",
                "resolution": "Ensure trigger is All Pages or includes landing page URLs; verify GTM snippet is on landing page",
                "verification": "Use Preview mode on landing page; check _gcl_aw cookie is set"
              },
              {
                "issue": "Cross-domain link decoration not configured",
                "probability": "high",
                "resolution": "Enable 'Enable linking on outbound links' and 'Accept incoming' in Conversion Linker settings",
                "verification": "Click through to other domain; check URL for _gl parameter"
              },
              {
                "issue": "Domains not in accepted incoming list",
                "probability": "medium",
                "resolution": "Add all domains in the conversion path to 'Domains to decorate' and 'Accept incoming from'",
                "verification": "Review Conversion Linker configuration; test full user journey"
              }
            ]
          },
          "tools": ["GTM Conversion Linker Tag", "GTM Preview Mode", "Browser Cookies (_gcl_aw)", "Tag Assistant", "URL Inspection (_gl parameter)"]
        },
        {
          "id": "p5-12",
          "name": "Conversion Tracking Troubleshooting Framework",
          "parentId": "phase-5",
          "priority": "must_know_cold",
          "category": "troubleshooting",
          "definition": "A systematic 5-step diagnostic decision tree for identifying and resolving conversion tracking issues, covering tag firing, GCLID presence, conversion recording, attribution settings, and consent/privacy blocks.",
          "adsContext": "Conversion tracking issues are the most common TSC support tickets. A systematic approach prevents wasted time and ensures no step is missed. This framework covers 95% of conversion tracking issues in order of probability.",
          "tscRelevance": "This is THE framework TSCs use daily. Walking through these 5 steps systematically will diagnose almost any conversion tracking issue. Master this and you can troubleshoot like a senior TSC.",
          "keyDetails": [
            "Step 1 - Is the tag firing? Check GTM Preview mode, Tag Assistant, or Network tab for conversion requests",
            "Step 2 - Is GCLID present? Check URL for ?gclid= parameter and browser cookies for _gcl_aw",
            "Step 3 - Is conversion being recorded? Check Google Ads > Conversions for recent conversion data and status",
            "Step 4 - Is attribution working? Verify conversion action settings (window, counting, include in conversions)",
            "Step 5 - Is consent blocking? Check Consent Mode implementation, verify consent signals being sent",
            "Tool hierarchy: GTM Preview > Tag Assistant > Network tab > Google Ads Diagnostics",
            "Common quick wins: Auto-tagging off, Conversion Linker missing, wrong Conversion Label, CSP blocking",
            "Data latency: Conversion data can take 24-72 hours to appear; don't panic within this window"
          ],
          "interviewQuestions": [
            "Walk me through your systematic approach to diagnosing why conversions aren't tracking.",
            "A client says they had conversions yesterday but none today. What's your troubleshooting process?",
            "What tools do you use at each step of conversion tracking troubleshooting?"
          ],
          "sqlConnection": "Diagnostic queries can identify missing GCLID joins, conversion time delays, and attribution gaps in data warehouse.",
          "troubleshooting": {
            "symptoms": [
              "Zero conversions tracking",
              "Conversion count dropped suddenly",
              "Conversions not matching actual sales",
              "Some conversions tracking, others not"
            ],
            "diagnosticQuestions": [
              "Step 1: Is the tag firing on the conversion page?",
              "Step 2: Is GCLID appearing in URLs and stored in cookies?",
              "Step 3: Are conversions appearing in Google Ads (allow for lag)?",
              "Step 4: Are conversion action settings correct?",
              "Step 5: Is Consent Mode blocking measurement?"
            ],
            "causes": [
              {
                "issue": "Step 1 failure: Tag not firing",
                "probability": "high",
                "resolution": "Check GTM Preview, Tag Assistant, or Network tab for conversion request. Fix tag/trigger configuration.",
                "verification": "GTM Preview shows tag firing; Network tab shows request to googleadservices.com"
              },
              {
                "issue": "Step 2 failure: GCLID missing",
                "probability": "high",
                "resolution": "Enable auto-tagging in Google Ads; fix redirect chains that strip parameters; add Conversion Linker",
                "verification": "Click ad, verify ?gclid= in URL; check _gcl_aw cookie exists"
              },
              {
                "issue": "Step 3 failure: Conversion not recorded despite tag firing",
                "probability": "medium",
                "resolution": "Check conversion action status (active, not removed); verify Conversion ID/Label match; wait 24-72 hours for data",
                "verification": "Google Ads > Conversions > Actions shows active status and recent conversions"
              },
              {
                "issue": "Step 4 failure: Attribution not working",
                "probability": "medium",
                "resolution": "Check conversion window (may be too short for sales cycle); verify attribution model; check 'Include in conversions' setting",
                "verification": "Review conversion action settings; compare conversion time to click time"
              },
              {
                "issue": "Step 5 failure: Consent Mode blocking",
                "probability": "medium",
                "resolution": "Implement/fix Consent Mode v2; ensure Advanced mode for modeling; verify consent banner triggers gtag update",
                "verification": "Use Tag Assistant Consent tab; check for consent signals in network requests"
              },
              {
                "issue": "CSP blocking tag from loading",
                "probability": "high",
                "resolution": "Add googleadservices.com, googletagmanager.com, google.com to script-src and img-src in CSP header",
                "verification": "Check browser console for 'Refused to load' errors; verify CSP header allows Google domains"
              }
            ]
          },
          "tools": ["GTM Preview Mode", "Tag Assistant", "Browser DevTools (Network, Console)", "Google Ads Diagnostics", "Conversion Action Settings", "Consent Mode Checker"]
        }
      ]
    }
  ],
  "crossCutting": {
    "googleEcosystem": [],
    "competitors": [],
    "privacyConsent": []
  }
}
